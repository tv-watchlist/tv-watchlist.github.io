var j4=Object.defineProperty,$4=Object.defineProperties,H4=Object.getOwnPropertyDescriptors,qA=Object.getOwnPropertySymbols,z4=Object.prototype.hasOwnProperty,q4=Object.prototype.propertyIsEnumerable,GA=(At,yt,Lt)=>yt in At?j4(At,yt,{enumerable:!0,configurable:!0,writable:!0,value:Lt}):At[yt]=Lt,WA=(At,yt)=>{for(var Lt in yt||(yt={}))z4.call(yt,Lt)&&GA(At,Lt,yt[Lt]);if(qA)for(var Lt of qA(yt))q4.call(yt,Lt)&&GA(At,Lt,yt[Lt]);return At},KA=(At,yt)=>$4(At,H4(yt));(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[179],{648:(At,yt,Lt)=>{"use strict";function pe(e){return"function"==typeof e}function vt(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ds=vt(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function qo(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Ae{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(pe(r))try{r()}catch(s){n=s instanceof Ds?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Nl(s)}catch(o){n=null!=n?n:[],o instanceof Ds?n=[...n,...o.errors]:n.push(o)}}if(n)throw new Ds(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Nl(n);else{if(n instanceof Ae){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&qo(t,n)}remove(n){const{_teardowns:t}=this;t&&qo(t,n),n instanceof Ae&&n._removeParent(this)}}Ae.EMPTY=(()=>{const e=new Ae;return e.closed=!0,e})();const Go=Ae.EMPTY;function Rl(e){return e instanceof Ae||e&&"closed"in e&&pe(e.remove)&&pe(e.add)&&pe(e.unsubscribe)}function Nl(e){pe(e)?e():e.unsubscribe()}const Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cn={setTimeout(...e){const{delegate:n}=Cn;return((null==n?void 0:n.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:n}=Cn;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Cs(e){Cn.setTimeout(()=>{const{onUnhandledError:n}=Zt;if(!n)throw e;n(e)})}function dr(){}const Qr=Jt("C",void 0,void 0);function Jt(e,n,t){return{kind:e,value:n,error:t}}let fr=null;function Es(e){if(Zt.useDeprecatedSynchronousErrorHandling){const n=!fr;if(n&&(fr={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=fr;if(fr=null,t)throw r}}else e()}class ki extends Ae{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Rl(n)&&n.add(this)):this.destination=Fl}static create(n,t,r){return new Xr(n,t,r)}next(n){this.isStopped?Zr(function kl(e){return Jt("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Zr(function jn(e){return Jt("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Zr(Qr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Xr extends ki{constructor(n,t,r){let i;if(super(),pe(n))i=n;else if(n){let s;({next:i,error:t,complete:r}=n),this&&Zt.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe()):s=n,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Ss(i):dr,error:Ss(null!=t?t:Fi),complete:r?Ss(r):dr}}}function Ss(e,n){return(...t)=>{try{e(...t)}catch(r){Zt.useDeprecatedSynchronousErrorHandling?function Vt(e){Zt.useDeprecatedSynchronousErrorHandling&&fr&&(fr.errorThrown=!0,fr.error=e)}(r):Cs(r)}}}function Fi(e){throw e}function Zr(e,n){const{onStoppedNotification:t}=Zt;t&&Cn.setTimeout(()=>t(e,n))}const Fl={closed:!0,next:dr,error:Fi,complete:dr},$n="function"==typeof Symbol&&Symbol.observable||"@@observable";function En(e){return e}let Ce=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function bd(e){return e&&e instanceof ki||function _d(e){return e&&pe(e.next)&&pe(e.error)&&pe(e.complete)}(e)&&Rl(e)}(t)?t:new Xr(t,r,i);return Es(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Vi(r))((i,s)=>{const o=new Xr({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[$n](){return this}pipe(...t){return function Li(e){return 0===e.length?En:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Vi(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=n=>new e(n),e})();function Vi(e){var n;return null!==(n=null!=e?e:Zt.Promise)&&void 0!==n?n:Promise}const Pl=vt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lt=(()=>{class e extends Ce{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Wo(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Pl}next(t){Es(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){Es(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Es(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Go:(s.push(t),new Ae(()=>qo(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ce;return t.source=this,t}}return e.create=(n,t)=>new Wo(n,t),e})();class Wo extends lt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Go}}function Ll(e){return pe(null==e?void 0:e.lift)}function Ze(e){return n=>{if(Ll(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ue extends ki{constructor(n,t,r,i,s){super(n),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){n.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){n.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function te(e,n){return Ze((t,r)=>{let i=0;t.subscribe(new Ue(r,s=>{r.next(e.call(n,s,i++))}))})}function Tn(e){return this instanceof Tn?(this.v=e,this):new Tn(e)}function en(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(v,_){s.push([f,p,v,_])>1||a(f,p)})})}function a(f,p){try{!function l(f){f.value instanceof Tn?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}(r[f](p))}catch(v){d(s[0][3],v)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Cd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function ti(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const xs=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Bi(e){return pe(null==e?void 0:e.then)}function Ms(e){return pe(e[$n])}function Ul(e){return Symbol.asyncIterator&&pe(null==e?void 0:e[Symbol.asyncIterator])}function Bl(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jl=function Id(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $l(e){return pe(null==e?void 0:e[jl])}function ji(e){return en(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Tn(t.read());if(i)return yield Tn(void 0);yield yield Tn(r)}}finally{t.releaseLock()}})}function Hl(e){return pe(null==e?void 0:e.getReader)}function an(e){if(e instanceof Ce)return e;if(null!=e){if(Ms(e))return function zl(e){return new Ce(n=>{const t=e[$n]();if(pe(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(xs(e))return function ql(e){return new Ce(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Bi(e))return function Ko(e){return new Ce(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Cs)})}(e);if(Ul(e))return Gl(e);if($l(e))return function xd(e){return new Ce(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Hl(e))return function Md(e){return Gl(ji(e))}(e)}throw Bl(e)}function Gl(e){return new Ce(n=>{(function Wl(e,n){var t,r,i,s;return function Ts(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Cd(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Hn(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function We(e,n,t=1/0){return pe(n)?We((r,i)=>te((s,o)=>n(r,s,i,o))(an(e(r,i))),t):("number"==typeof n&&(t=n),Ze((r,i)=>function Od(e,n,t,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&n.complete()},p=_=>u<r?v(_):l.push(_),v=_=>{s&&n.next(_),u++;let T=!1;an(t(_,c++)).subscribe(new Ue(n,x=>{null==i||i(x),s?p(x):n.next(x)},()=>{T=!0},void 0,()=>{if(T)try{for(u--;l.length&&u<r;){const x=l.shift();o?Hn(n,o,()=>v(x)):v(x)}f()}catch(x){n.error(x)}}))};return e.subscribe(new Ue(n,p,()=>{d=!0,f()})),()=>{null==a||a()}}(r,i,e,t)))}function hr(e=1/0){return We(En,e)}const zn=new Ce(e=>e.complete());function Os(e){return e&&pe(e.schedule)}function Yo(e){return e[e.length-1]}function Qo(e){return pe(Yo(e))?e.pop():void 0}function $i(e){return Os(Yo(e))?e.pop():void 0}function Xo(e,n=0){return Ze((t,r)=>{t.subscribe(new Ue(r,i=>Hn(r,e,()=>r.next(i),n),()=>Hn(r,e,()=>r.complete(),n),i=>Hn(r,e,()=>r.error(i),n)))})}function Zo(e,n=0){return Ze((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function ri(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ce(t=>{Hn(t,n,()=>{const r=e[Symbol.asyncIterator]();Hn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function et(e,n){return n?function ea(e,n){if(null!=e){if(Ms(e))return function Ql(e,n){return an(e).pipe(Zo(n),Xo(n))}(e,n);if(xs(e))return function Rr(e,n){return new Ce(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Bi(e))return function Jo(e,n){return an(e).pipe(Zo(n),Xo(n))}(e,n);if(Ul(e))return ri(e,n);if($l(e))return function Hi(e,n){return new Ce(t=>{let r;return Hn(t,n,()=>{r=e[jl](),Hn(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>pe(null==r?void 0:r.return)&&r.return()})}(e,n);if(Hl(e))return function Rs(e,n){return ri(ji(e),n)}(e,n)}throw Bl(e)}(e,n):an(e)}function ta(...e){const n=$i(e),t=function Yl(e,n){return"number"==typeof Yo(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?an(r[0]):hr(t)(et(r,n)):zn}function Dt(e){return e<=0?()=>zn:Ze((n,t)=>{let r=0;n.subscribe(new Ue(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function pr(e,n,...t){return!0===n?(e(),null):!1===n?null:n(...t).pipe(Dt(1)).subscribe(()=>e())}function _e(e){for(let n in e)if(e[n]===_e)return n;throw Error("Could not find renamed property on target object.")}function ln(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function we(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function nn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const qn=_e({__forward_ref__:_e});function Ie(e){return e.__forward_ref__=Ie,e.toString=function(){return we(this())},e}function ne(e){return zi(e)?e():e}function zi(e){return"function"==typeof e&&e.hasOwnProperty(qn)&&e.__forward_ref__===Ie}class fe extends Error{constructor(n,t){super(function qi(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Z(e){return"string"==typeof e?e:null==e?"":String(e)}function ut(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Z(e)}function Ns(e,n){const t=n?` in ${n}`:"";throw new fe(-201,`No provider for ${ut(e)} found${t}`)}function Se(e,n){null==e&&function ae(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function z(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ct(e){return{providers:e.providers||[],imports:e.imports||[]}}function Rd(e){return Im(e,Jl)||Im(e,Mm)}function Im(e,n){return e.hasOwnProperty(n)?e[n]:null}function xm(e){return e&&(e.hasOwnProperty(Nd)||e.hasOwnProperty(XA))?e[Nd]:null}const Jl=_e({\u0275prov:_e}),Nd=_e({\u0275inj:_e}),Mm=_e({ngInjectableDef:_e}),XA=_e({ngInjectorDef:_e});var ie=(()=>((ie=ie||{})[ie.Default=0]="Default",ie[ie.Host=1]="Host",ie[ie.Self=2]="Self",ie[ie.SkipSelf=4]="SkipSelf",ie[ie.Optional=8]="Optional",ie))();let kd;function si(e){const n=kd;return kd=e,n}function Om(e,n,t){const r=Rd(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ie.Optional?null:void 0!==n?n:void Ns(we(e),"Injector")}function oi(e){return{toString:e}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),Yn=(()=>{return(e=Yn||(Yn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Yn;var e})();const JA="undefined"!=typeof globalThis&&globalThis,eI="undefined"!=typeof window&&window,tI="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe=JA||"undefined"!=typeof global&&global||eI||tI,ks={},ke=[],eu=_e({\u0275cmp:_e}),Fd=_e({\u0275dir:_e}),Pd=_e({\u0275pipe:_e}),Rm=_e({\u0275mod:_e}),Nr=_e({\u0275fac:_e}),ia=_e({__NG_ELEMENT_ID__:_e});let nI=0;function Me(e){return oi(()=>{const t={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ke,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Yn.Emulated,id:"c",styles:e.styles||ke,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,s=e.features,o=e.pipes;return r.id+=nI++,r.inputs=Pm(e.inputs,t),r.outputs=Pm(e.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Nm):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(km):null,r})}function Nm(e){return Ot(e)||function ai(e){return e[Fd]||null}(e)}function km(e){return function Gi(e){return e[Pd]||null}(e)}const Fm={};function Mt(e){return oi(()=>{const n={type:e.type,bootstrap:e.bootstrap||ke,declarations:e.declarations||ke,imports:e.imports||ke,exports:e.exports||ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Fm[e.id]=e.type),n})}function Pm(e,n){if(null==e)return ks;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}const W=Me;function rn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ot(e){return e[eu]||null}function In(e,n){const t=e[Rm]||null;if(!t&&!0===n)throw new Error(`Type ${we(e)} does not have '\u0275mod' property.`);return t}function gr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Xn(e){return Array.isArray(e)&&!0===e[1]}function Ud(e){return 0!=(8&e.flags)}function iu(e){return 2==(2&e.flags)}function su(e){return 1==(1&e.flags)}function Zn(e){return null!==e.template}function lI(e){return 0!=(512&e[2])}function Qi(e,n){return e.hasOwnProperty(Nr)?e[Nr]:null}class dI{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bt(){return Vm}function Vm(e){return e.type.prototype.ngOnChanges&&(e.setInput=hI),fI}function fI(){const e=Bm(this),n=null==e?void 0:e.current;if(n){const t=e.previous;if(t===ks)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function hI(e,n,t,r){const i=Bm(e)||function pI(e,n){return e[Um]=n}(e,{previous:ks,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new dI(l&&l.currentValue,n,o===ks),e[r]=n}Bt.ngInherit=!0;const Um="__ngSimpleChanges__";function Bm(e){return e[Um]||null}let zd;function qd(){return void 0!==zd?zd:"undefined"!=typeof document?document:void 0}function Ke(e){return!!e.listen}const jm={createRenderer:(e,n)=>qd()};function rt(e){for(;Array.isArray(e);)e=e[0];return e}function ou(e,n){return rt(n[e])}function On(e,n){return rt(n[e.index])}function Gd(e,n){return e.data[n]}function Us(e,n){return e[n]}function cn(e,n){const t=n[e];return gr(t)?t:t[0]}function $m(e){return 4==(4&e[2])}function Wd(e){return 128==(128&e[2])}function li(e,n){return null==n?null:e[n]}function Hm(e){e[18]=0}function Kd(e,n){e[5]+=n;let t=e,r=e[3];for(;null!==r&&(1===n&&1===t[5]||-1===n&&0===t[5]);)r[5]+=n,t=r,r=r[3]}const J={lFrame:Xm(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zm(){return J.bindingsEnabled}function O(){return J.lFrame.lView}function De(){return J.lFrame.tView}function me(e){return J.lFrame.contextLView=e,e[8]}function dt(){let e=qm();for(;null!==e&&64===e.type;)e=e.parent;return e}function qm(){return J.lFrame.currentTNode}function mr(e,n){const t=J.lFrame;t.currentTNode=e,t.isParent=n}function Yd(){return J.lFrame.isParent}function Qd(){J.lFrame.isParent=!1}function au(){return J.isInCheckNoChangesMode}function lu(e){J.isInCheckNoChangesMode=e}function jt(){const e=J.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function kr(){return J.lFrame.bindingIndex}function Bs(){return J.lFrame.bindingIndex++}function Fr(e){const n=J.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function OI(e,n){const t=J.lFrame;t.bindingIndex=t.bindingRootIndex=e,Xd(n)}function Xd(e){J.lFrame.currentDirectiveIndex=e}function Km(){return J.lFrame.currentQueryIndex}function Jd(e){J.lFrame.currentQueryIndex=e}function NI(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function Ym(e,n,t){if(t&ie.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&ie.Host||(i=NI(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;n=i,e=s}const r=J.lFrame=Qm();return r.currentTNode=n,r.lView=e,!0}function uu(e){const n=Qm(),t=e[1];J.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Qm(){const e=J.lFrame,n=null===e?null:e.child;return null===n?Xm(e):n}function Xm(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Zm(){const e=J.lFrame;return J.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Jm=Zm;function cu(){const e=Zm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $t(){return J.lFrame.selectedIndex}function ui(e){J.lFrame.selectedIndex=e}function Ye(){const e=J.lFrame;return Gd(e.tView,e.selectedIndex)}function $e(){J.lFrame.currentNamespace="svg"}function du(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-t,o),a&&((e.contentHooks||(e.contentHooks=[])).push(t,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-t,l),u&&((e.viewHooks||(e.viewHooks=[])).push(t,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(t,c)}}function fu(e,n,t){ty(e,n,3,t)}function hu(e,n,t,r){(3&e[2])===t&&ty(e,n,t,r)}function ef(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function ty(e,n,t,r){const s=null!=r?r:-1,o=n.length-1;let a=0;for(let l=void 0!==r?65535&e[18]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[18]+=65536),(a<s||-1==s)&&(BI(e,t,n,l),e[18]=(4294901760&e[18])+l+2),l++}function BI(e,n,t,r){const i=t[r]<0,s=t[r+1],a=e[i?-t[r]:t[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class ua{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function pu(e,n,t){const r=Ke(e);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?e.setAttribute(n,a,l,o):n.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];nf(o)?r&&e.setProperty(n,o,a):r?e.setAttribute(n,o,a):n.setAttribute(o,a),i++}}return i}function ny(e){return 3===e||4===e||6===e}function nf(e){return 64===e.charCodeAt(0)}function gu(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||ry(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function ry(e,n,t,r,i){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function iy(e){return-1!==e}function js(e){return 32767&e}function $s(e,n){let t=function qI(e){return e>>16}(e),r=n;for(;t>0;)r=r[15],t--;return r}let rf=!0;function mu(e){const n=rf;return rf=e,n}let GI=0;function da(e,n){const t=of(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,sf(r.data,e),sf(n,null),sf(r.blueprint,null));const i=yu(e,n),s=e.injectorIndex;if(iy(i)){const o=js(i),a=$s(i,n),l=a[1].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=i,s}function sf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function of(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function yu(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function vu(e,n,t){!function WI(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ia)&&(r=t[ia]),null==r&&(r=t[ia]=GI++);const i=255&r;n.data[e+(i>>5)]|=1<<i}(e,n,t)}function ay(e,n,t){if(t&ie.Optional)return e;Ns(n,"NodeInjector")}function ly(e,n,t,r){if(t&ie.Optional&&void 0===r&&(r=null),0==(t&(ie.Self|ie.Host))){const i=e[9],s=si(void 0);try{return i?i.get(n,r,t&ie.Optional):Om(n,r,t&ie.Optional)}finally{si(s)}}return ay(r,n,t)}function uy(e,n,t,r=ie.Default,i){if(null!==e){const s=function XI(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(ia)?e[ia]:void 0;return"number"==typeof n?n>=0?255&n:YI:n}(t);if("function"==typeof s){if(!Ym(n,e,r))return r&ie.Host?ay(i,t,r):ly(n,t,r,i);try{const o=s(r);if(null!=o||r&ie.Optional)return o;Ns(t)}finally{Jm()}}else if("number"==typeof s){let o=null,a=of(e,n),l=-1,u=r&ie.Host?n[16][6]:null;for((-1===a||r&ie.SkipSelf)&&(l=-1===a?yu(e,n):n[a+8],-1!==l&&fy(r,!1)?(o=n[1],a=js(l),n=$s(l,n)):a=-1);-1!==a;){const c=n[1];if(dy(s,a,c.data)){const d=QI(a,n,t,o,r,u);if(d!==cy)return d}l=n[a+8],-1!==l&&fy(r,n[1].data[a+8]===u)&&dy(s,a,n)?(o=c,a=js(l),n=$s(l,n)):a=-1}}}return ly(n,t,r,i)}const cy={};function YI(){return new Hs(dt(),O())}function QI(e,n,t,r,i,s){const o=n[1],a=o.data[e+8],c=_u(a,o,t,null==r?iu(a)&&rf:r!=o&&0!=(3&a.type),i&ie.Host&&s===a);return null!==c?fa(n,o,c,a):cy}function _u(e,n,t,r,i){const s=e.providerIndexes,o=n.data,a=1048575&s,l=e.directiveStart,c=s>>20,f=i?a+c:e.directiveEnd;for(let p=r?a:a+c;p<f;p++){const v=o[p];if(p<l&&t===v||p>=l&&v.type===t)return p}if(i){const p=o[l];if(p&&Zn(p)&&p.type===t)return l}return null}function fa(e,n,t,r){let i=e[t];const s=n.data;if(function jI(e){return e instanceof ua}(i)){const o=i;o.resolving&&function na(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new fe(-200,`Circular dependency in DI detected for ${e}${t}`)}(ut(s[t]));const a=mu(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?si(o.injectImpl):null;Ym(e,r,ie.Default);try{i=e[t]=o.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function UI(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const o=Vm(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,s))}(t,s[t],n)}finally{null!==l&&si(l),mu(a),o.resolving=!1,Jm()}}return i}function dy(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function fy(e,n){return!(e&ie.Self||e&ie.Host&&n)}class Hs{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return uy(this._tNode,this._lView,n,r,t)}}function Ht(e){return oi(()=>{const n=e.prototype.constructor,t=n[Nr]||af(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Nr]||af(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function af(e){return zi(e)?()=>{const n=af(ne(e));return n&&n()}:Qi(e)}function ha(e){return function KI(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(ny(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===n)return t[i+1];i+=2}}}return null}(dt(),e)}const qs="__parameters__";function Ws(e,n,t){return oi(()=>{const r=function lf(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(qs)?l[qs]:Object.defineProperty(l,qs,{value:[]})[qs];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class se{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const JI=new se("AnalyzeForEntryComponents");function Rn(e,n){void 0===n&&(n=e);for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)?(n===e&&(n=e.slice(0,t)),Rn(r,n)):n!==e&&n.push(r)}return n}function yr(e,n){e.forEach(t=>Array.isArray(t)?yr(t,n):n(t))}function py(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function bu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ma(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function dn(e,n,t){let r=Ks(e,n);return r>=0?e[1|r]=t:(r=~r,function nx(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function cf(e,n){const t=Ks(e,n);if(t>=0)return e[1|t]}function Ks(e,n){return function yy(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<t];if(n===o)return s<<t;o>n?i=s:r=s+1}return~(i<<t)}(e,n,1)}const ya={},ff="__NG_DI_FLAG__",Du="ngTempTokenPath",ux=/\n/gm,_y="__source",dx=_e({provide:String,useValue:_e});let va;function by(e){const n=va;return va=e,n}function fx(e,n=ie.Default){if(void 0===va)throw new fe(203,"");return null===va?Om(e,void 0,n):va.get(e,n&ie.Optional?null:void 0,n)}function F(e,n=ie.Default){return(function ZA(){return kd}()||fx)(ne(e),n)}function hf(e){const n=[];for(let t=0;t<e.length;t++){const r=ne(e[t]);if(Array.isArray(r)){if(0===r.length)throw new fe(900,"");let i,s=ie.Default;for(let o=0;o<r.length;o++){const a=r[o],l=hx(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}n.push(F(i,s))}else n.push(F(r))}return n}function _a(e,n){return e[ff]=n,e.prototype[ff]=n,e}function hx(e){return e[ff]}const ba=_a(Ws("Inject",e=>({token:e})),-1),Jn=_a(Ws("Optional"),8),Ys=_a(Ws("SkipSelf"),4);let Eu,Su;function Xs(e){var n;return(null===(n=function gf(){if(void 0===Eu&&(Eu=null,xe.trustedTypes))try{Eu=xe.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Eu}())||void 0===n?void 0:n.createHTML(e))||e}function Ty(e){var n;return(null===(n=function mf(){if(void 0===Su&&(Su=null,xe.trustedTypes))try{Su=xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Su}())||void 0===n?void 0:n.createHTML(e))||e}class xy{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function di(e){return e instanceof xy?e.changingThisBreaksApplicationSecurity:e}function Da(e,n){const t=function Ox(e){return e instanceof xy&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===n}class Rx{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(Xs(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Nx{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(n){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Xs(n),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Xs(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const t=n.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&n.removeAttribute(o)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Fx=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Px=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tu(e){return(e=String(e)).match(Fx)||e.match(Px)?e:"unsafe:"+e}function vr(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function Ca(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const Ry=vr("area,br,col,hr,img,wbr"),Ny=vr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ky=vr("rp,rt"),yf=Ca(Ry,Ca(Ny,vr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ca(ky,vr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ca(ky,Ny)),vf=vr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_f=vr("srcset"),Fy=Ca(vf,_f,vr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lx=vr("script,style,template");class Vx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!yf.hasOwnProperty(t))return this.sanitizedSomething=!0,!Lx.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Fy.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;vf[a]&&(l=Tu(l)),_f[a]&&(e=l,l=(e=String(e)).split(",").map(n=>Tu(n.trim())).join(", ")),this.buf.push(" ",o,'="',Py(l),'"')}var e;return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();yf.hasOwnProperty(t)&&!Ry.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Py(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const Ux=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bx=/([^\#-~ |!])/g;function Py(e){return e.replace(/&/g,"&amp;").replace(Ux,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Bx,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Au;function bf(e){return"content"in e&&function $x(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var it=(()=>((it=it||{})[it.NONE=0]="NONE",it[it.HTML=1]="HTML",it[it.STYLE=2]="STYLE",it[it.SCRIPT=3]="SCRIPT",it[it.URL=4]="URL",it[it.RESOURCE_URL=5]="RESOURCE_URL",it))();function Fe(e){const n=Ea();return n?Ty(n.sanitize(it.HTML,e)||""):Da(e,"HTML")?Ty(di(e)):function jx(e,n){let t=null;try{Au=Au||function My(e){const n=new Nx(e);return function kx(){try{return!!(new window.DOMParser).parseFromString(Xs(""),"text/html")}catch(e){return!1}}()?new Rx(n):n}(e);let r=n?String(n):"";t=Au.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Au.getInertBodyElement(r)}while(r!==s);return Xs((new Vx).sanitizeChildren(bf(t)||t))}finally{if(t){const r=bf(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(qd(),Z(e))}function fi(e){const n=Ea();return n?n.sanitize(it.URL,e)||"":Da(e,"URL")?di(e):Tu(Z(e))}function Ea(){const e=O();return e&&e[12]}const Uy="__ngContext__";function Nt(e,n){e[Uy]=n}function Df(e){const n=function Sa(e){return e[Uy]||null}(e);return n?Array.isArray(n)?n:n.lView:null}function Ef(e){return e.ngOriginalError}function iM(e,...n){e.error(...n)}class Xi{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n),r=function rM(e){return e&&e.ngErrorLogger||iM}(n);r(this._console,"ERROR",n),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Ef(n);for(;t&&Ef(t);)t=Ef(t);return t||null}}const zy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xe))();function qy(e){return e.ownerDocument.defaultView}function _r(e){return e instanceof Function?e():e}var fn=(()=>((fn=fn||{})[fn.Important=1]="Important",fn[fn.DashCase=2]="DashCase",fn))();function Tf(e,n){return undefined(e,n)}function Ta(e){const n=e[3];return Xn(n)?n[3]:n}function Af(e){return Qy(e[13])}function If(e){return Qy(e[4])}function Qy(e){for(;null!==e&&!Xn(e);)e=e[4];return e}function Js(e,n,t,r,i){if(null!=r){let s,o=!1;Xn(r)?s=r:gr(r)&&(o=!0,r=r[0]);const a=rt(r);0===e&&null!==t?null==i?nv(n,t,a):Zi(n,t,a,i||null,!0):1===e&&null!==t?Zi(n,t,a,i||null,!0):2===e?function uv(e,n,t){const r=Iu(e,n);r&&function TM(e,n,t,r){Ke(e)?e.removeChild(n,t,r):n.removeChild(t)}(e,r,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function xM(e,n,t,r,i){const s=t[7];s!==rt(t)&&Js(n,e,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Aa(l[1],l,e,n,r,s)}}(n,e,s,t,i)}}function Mf(e,n,t){if(Ke(e))return e.createElement(n,t);{const r=null!==t?function vI(e){const n=e.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?e.createElement(n):e.createElementNS(r,n)}}function Zy(e,n){const t=e[9],r=t.indexOf(n),i=n[3];1024&n[2]&&(n[2]&=-1025,Kd(i,-1)),t.splice(r,1)}function Of(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const i=r[17];null!==i&&i!==e&&Zy(i,r),n>0&&(e[t-1][4]=r[4]);const s=bu(e,10+n);!function vM(e,n){Aa(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Jy(e,n){if(!(256&n[2])){const t=n[11];Ke(t)&&t.destroyNode&&Aa(e,n,t,3,null,null),function wM(e){let n=e[13];if(!n)return Rf(e[1],e);for(;n;){let t=null;if(gr(n))t=n[13];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)gr(n)&&Rf(n[1],n),n=n[3];null===n&&(n=e),gr(n)&&Rf(n[1],n),t=n&&n[4]}n=t}}(n)}}function Rf(e,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function SM(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof ua)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(e,n),function EM(e,n){const t=e.cleanup,r=n[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(n):rt(n[o]),l=r[i=t[s+2]],u=t[s+3];"boolean"==typeof u?a.removeEventListener(t[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();n[7]=null}}(e,n),1===n[1].type&&Ke(n[11])&&n[11].destroy();const t=n[17];if(null!==t&&Xn(n[3])){t!==n[3]&&Zy(t,n);const r=n[19];null!==r&&r.detachView(e)}}}function ev(e,n,t){return function tv(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Yn.None||i===Yn.Emulated)return null}return On(r,t)}(e,n.parent,t)}function Zi(e,n,t,r,i){Ke(e)?e.insertBefore(n,t,r,i):n.insertBefore(t,r,i)}function nv(e,n,t){Ke(e)?e.appendChild(n,t):n.appendChild(t)}function rv(e,n,t,r,i){null!==r?Zi(e,n,t,r,i):nv(e,n,t)}function Iu(e,n){return Ke(e)?e.parentNode(n):n.parentNode}function iv(e,n,t){return ov(e,n,t)}let ov=function sv(e,n,t){return 40&e.type?On(e,t):null};function xu(e,n,t,r){const i=ev(e,r,n),s=n[11],a=iv(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)rv(s,i,t[l],a,!1);else rv(s,i,t,a,!1)}function Mu(e,n){if(null!==n){const t=n.type;if(3&t)return On(n,e);if(4&t)return kf(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Mu(e,r);{const i=e[n.index];return Xn(i)?kf(-1,i):rt(i)}}if(32&t)return Tf(n,e)()||rt(e[n.index]);{const r=lv(e,n);return null!==r?Array.isArray(r)?r[0]:Mu(Ta(e[16]),r):Mu(e,n.next)}}return null}function lv(e,n){return null!==n?e[16][6].projection[n.projection]:null}function kf(e,n){const t=10+e+1;if(t<n.length){const r=n[t],i=r[1].firstChild;if(null!==i)return Mu(r,i)}return n[7]}function Ff(e,n,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===n&&(a&&Nt(rt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Ff(e,n,t.child,r,i,s,!1),Js(n,e,i,a,s);else if(32&l){const u=Tf(t,r);let c;for(;c=u();)Js(n,e,i,c,s);Js(n,e,i,a,s)}else 16&l?cv(e,n,r,t,i,s):Js(n,e,i,a,s);t=o?t.projectionNext:t.next}}function Aa(e,n,t,r,i,s){Ff(t,r,e.firstChild,n,i,s,!1)}function cv(e,n,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Js(n,e,i,l[u],s);else Ff(e,n,l,o[3],i,s,!0)}function dv(e,n,t){Ke(e)?e.setAttribute(n,"style",t):n.style.cssText=t}function Pf(e,n,t){Ke(e)?""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t):n.className=t}function fv(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}const hv="ng-template";function OM(e,n,t){let r=0;for(;r<e.length;){let i=e[r++];if(t&&"class"===i){if(i=e[r],-1!==fv(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function pv(e){return 4===e.type&&e.value!==hv}function RM(e,n,t){return n===(4!==e.type||t?e.value:hv)}function NM(e,n,t){let r=4;const i=e.attrs||[],s=function PM(e){for(let n=0;n<e.length;n++)if(ny(e[n]))return n;return e.length}(i);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!RM(e,l,t)||""===l&&1===n.length){if(er(r))return!1;o=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!OM(e.attrs,u,t)){if(er(r))return!1;o=!0}continue}const d=kM(8&r?"class":l,i,pv(e),t);if(-1===d){if(er(r))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":i[d+1].toLowerCase();const p=8&r?f:null;if(p&&-1!==fv(p,u,0)||2&r&&u!==f){if(er(r))return!1;o=!0}}}}else{if(!o&&!er(r)&&!er(l))return!1;if(o&&er(l))continue;o=!1,r=l|1&r}}return er(r)||o}function er(e){return 0==(1&e)}function kM(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function LM(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function gv(e,n,t=!1){for(let r=0;r<n.length;r++)if(NM(e,n[r],t))return!0;return!1}function VM(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function mv(e,n){return e?":not("+n.trim()+")":n}function UM(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&r){const a=e[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!er(o)&&(n+=mv(s,i),i=""),r=o,s=s||!er(r);t++}return""!==i&&(n+=mv(s,i)),n}const re={};function D(e){yv(De(),O(),$t()+e,au())}function yv(e,n,t,r){if(!r)if(3==(3&n[2])){const s=e.preOrderCheckHooks;null!==s&&fu(n,s,t)}else{const s=e.preOrderHooks;null!==s&&hu(n,s,0,t)}ui(t)}function Ou(e,n){return e<<17|n<<2}function tr(e){return e>>17&32767}function Lf(e){return 2|e}function Pr(e){return(131068&e)>>2}function Vf(e,n){return-131069&e|n<<2}function Uf(e){return 1|e}function Iv(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=e.data[s];Jd(i),o.contentQueries(2,n[s],s)}}}function Ia(e,n,t,r,i,s,o,a,l,u){const c=n.blueprint.slice();return c[0]=i,c[2]=140|r,Hm(c),c[3]=c[15]=e,c[8]=t,c[10]=o||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=s,c[16]=2==n.type?e[16]:c,c}function eo(e,n,t,r,i){let s=e.data[n];if(null===s)s=function Kf(e,n,t,r,i){const s=qm(),o=Yd(),l=e.data[n]=function rO(e,n,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(e,n,t,r,i),function MI(){return J.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function la(){const e=J.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return mr(s,!0),s}function to(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function xa(e,n,t){uu(n);try{const r=e.viewQuery;null!==r&&rh(1,r,t);const i=e.template;null!==i&&xv(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Iv(e,n),e.staticViewQueries&&rh(2,e.viewQuery,t);const s=e.components;null!==s&&function eO(e,n){for(let t=0;t<n.length;t++)wO(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,cu()}}function no(e,n,t,r){const i=n[2];if(256==(256&i))return;uu(n);const s=au();try{Hm(n),function Gm(e){return J.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&xv(e,n,t,2,r);const o=3==(3&i);if(!s)if(o){const u=e.preOrderCheckHooks;null!==u&&fu(n,u,null)}else{const u=e.preOrderHooks;null!==u&&hu(n,u,0,null),ef(n,0)}if(function _O(e){for(let n=Af(e);null!==n;n=If(n)){if(!n[2])continue;const t=n[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Kd(s,1),i[2]|=1024}}}(n),function vO(e){for(let n=Af(e);null!==n;n=If(n))for(let t=10;t<n.length;t++){const r=n[t],i=r[1];Wd(r)&&no(i,r,i.template,r[8])}}(n),null!==e.contentQueries&&Iv(e,n),!s)if(o){const u=e.contentCheckHooks;null!==u&&fu(n,u)}else{const u=e.contentHooks;null!==u&&hu(n,u,1),ef(n,1)}!function ZM(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ui(~i);else{const s=i,o=t[++r],a=t[++r];OI(o,s),a(2,n[s])}}}finally{ui(-1)}}(e,n);const a=e.components;null!==a&&function JM(e,n){for(let t=0;t<n.length;t++)bO(e,n[t])}(n,a);const l=e.viewQuery;if(null!==l&&rh(2,l,r),!s)if(o){const u=e.viewCheckHooks;null!==u&&fu(n,u)}else{const u=e.viewHooks;null!==u&&hu(n,u,2),ef(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Kd(n[3],-1))}finally{cu()}}function tO(e,n,t,r){const i=n[10],s=!au(),o=$m(n);try{s&&!o&&i.begin&&i.begin(),o&&xa(e,n,r),no(e,n,t,r)}finally{s&&!o&&i.end&&i.end()}}function xv(e,n,t,r,i){const s=$t(),o=2&r;try{ui(-1),o&&n.length>20&&yv(e,n,20,au()),t(r,i)}finally{ui(s)}}function Mv(e,n,t){if(Ud(n)){const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Yf(e,n,t){!zm()||(function cO(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;e.firstCreatePass||da(t,n),Nt(r,n);const o=t.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=Zn(l);u&&gO(n,t,l);const c=fa(n,e,a,t);Nt(c,n),null!==o&&mO(0,a-i,c,l,0,o),u&&(cn(t.index,n)[8]=c)}}(e,n,t,On(t,n)),128==(128&t.flags)&&function dO(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function RI(){return J.lFrame.currentDirectiveIndex}();try{ui(o);for(let l=r;l<i;l++){const u=e.data[l],c=n[l];Xd(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Vv(u,c)}}finally{ui(-1),Xd(a)}}(e,n,t))}function Qf(e,n,t=On){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(n,e):e[o];e[i++]=a}}}function Ov(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=ku(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function ku(e,n,t,r,i,s,o,a,l,u){const c=20+r,d=c+i,f=function nO(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:re);return t}(c,d),p="function"==typeof u?u():u;return f[1]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function kv(e,n,t,r){const i=zv(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&qv(e).push(r,i.length-1))}function Fv(e,n,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(n,i):t[r]=[n,i]}return t}function Xf(e,n,t,r){let i=!1;if(zm()){const s=function fO(e,n,t){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];gv(t,o.selectors,!1)&&(i||(i=[]),vu(da(t,n),e,o.type),Zn(o)?(Uv(e,t),i.unshift(o)):i.push(o))}return i}(e,n,t),o=null===r?null:{"":-1};if(null!==s){i=!0,Bv(t,e.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=to(e,n,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=gu(t.mergedAttrs,d.hostAttrs),jv(e,t,n,u,d),pO(u,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),l=!0),u++}!function iO(e,n){const r=n.directiveEnd,i=e.data,s=n.attrs,o=[];let a=null,l=null;for(let u=n.directiveStart;u<r;u++){const c=i[u],d=c.inputs,f=null===s||pv(n)?null:yO(d,s);o.push(f),a=Fv(d,u,a),l=Fv(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=o,n.inputs=a,n.outputs=l}(e,t)}o&&function hO(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new fe(-301,`Export of name '${n[i+1]}' not found!`);r.push(n[i],s)}}}(t,r,o)}return t.mergedAttrs=gu(t.mergedAttrs,t.attrs),i}function Lv(e,n,t,r,i,s){const o=s.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~n.index;(function uO(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function Vv(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Uv(e,n){n.flags|=2,(e.components||(e.components=[])).push(n.index)}function pO(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Zn(n)&&(t[""]=e)}}function Bv(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function jv(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=Qi(i.type)),o=new ua(s,Zn(i),null);e.blueprint[r]=o,t[r]=o,Lv(e,n,0,r,to(e,t,i.hostVars,re),i)}function gO(e,n,t){const r=On(n,e),i=Ov(t),s=e[10],o=Fu(e,Ia(e,i,null,t.onPush?64:16,r,n,s,s.createRenderer(r,t),null,null));e[n.index]=o}function br(e,n,t,r,i,s){const o=On(e,n);!function Zf(e,n,t,r,i,s,o){if(null==s)Ke(e)?e.removeAttribute(n,i,t):n.removeAttribute(i);else{const a=null==o?Z(s):o(s,r||"",i);Ke(e)?e.setAttribute(n,i,a,t):t?n.setAttributeNS(t,i,a):n.setAttribute(i,a)}}(n[11],o,s,e.value,t,r,i)}function mO(e,n,t,r,i,s){const o=s[n];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(t,d,u,c):t[c]=d}}}function yO(e,n){let t=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,e[i],n[r+1])),r+=2}else r+=2;else r+=4}return t}function $v(e,n,t,r){return new Array(e,!0,!1,n,null,0,r,t,null,null)}function bO(e,n){const t=cn(n,e);if(Wd(t)){const r=t[1];80&t[2]?no(r,t,r.template,t[8]):t[5]>0&&Jf(t)}}function Jf(e){for(let r=Af(e);null!==r;r=If(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];no(o,s,o.template,s[8])}else s[5]>0&&Jf(s)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=cn(t[r],e);Wd(i)&&i[5]>0&&Jf(i)}}function wO(e,n){const t=cn(n,e),r=t[1];(function DO(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),xa(r,t,t[8])}function Fu(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function eh(e){for(;e;){e[2]|=64;const n=Ta(e);if(lI(e)&&!n)return e;e=n}return null}function nh(e,n,t){const r=n[10];r.begin&&r.begin();try{no(e,n,e.template,t)}catch(i){throw Wv(n,i),i}finally{r.end&&r.end()}}function Hv(e){!function th(e){for(let n=0;n<e.components.length;n++){const t=e.components[n],r=Df(t),i=r[1];tO(i,r,i.template,t)}}(e[8])}function rh(e,n,t){Jd(0),n(e,t)}const TO=(()=>Promise.resolve(null))();function zv(e){return e[7]||(e[7]=[])}function qv(e){return e.cleanup||(e.cleanup=[])}function Wv(e,n){const t=e[9],r=t?t.get(Xi,null):null;r&&r.handleError(n)}function Kv(e,n,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=n[o],u=e.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Lr(e,n,t){const r=ou(n,e);!function Xy(e,n,t){Ke(e)?e.setValue(n,t):n.textContent=t}(e[11],r,t)}function Pu(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?i=nn(i,a):2==s&&(r=nn(r,a+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}const ih=new se("INJECTOR",-1);class Yv{get(n,t=ya){if(t===ya){const r=new Error(`NullInjectorError: No provider for ${we(n)}!`);throw r.name="NullInjectorError",r}return t}}const sh=new se("Set Injector scope."),Ma={},xO={};let oh;function Qv(){return void 0===oh&&(oh=new Yv),oh}function Xv(e,n=null,t=null,r){const i=Zv(e,n,t,r);return i._resolveInjectorDefTypes(),i}function Zv(e,n=null,t=null,r){return new MO(e,t,n||Qv(),r)}class MO{constructor(n,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&yr(t,a=>this.processProvider(a,n,t)),yr([n],a=>this.processInjectorType(a,[],s)),this.records.set(ih,ro(void 0,this));const o=this.records.get(sh);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof n?null:we(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,t=ya,r=ie.Default){this.assertNotDestroyed();const i=by(this),s=si(void 0);try{if(!(r&ie.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function VO(e){return"function"==typeof e||"object"==typeof e&&e instanceof se}(n)&&Rd(n);a=l&&this.injectableDefInScope(l)?ro(ah(n),Ma):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&ie.Self?Qv():this.parent).get(n,t=r&ie.Optional&&t===ya?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Du]=o[Du]||[]).unshift(we(n)),i)throw o;return function px(e,n,t,r){const i=e[Du];throw n[_y]&&i.unshift(n[_y]),e.message=function gx(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=we(n);if(Array.isArray(n))i=n.map(we).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):we(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(ux,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Du]=null,e}(o,n,"R3InjectorError",this.source)}throw o}finally{si(s),by(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,i)=>n.push(we(i))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,"")}processInjectorType(n,t,r){if(!(n=ne(n)))return!1;let i=xm(n);const s=null==i&&n.ngModule||void 0,o=void 0===s?n:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=xm(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{yr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:f,providers:p}=c[d];yr(p,v=>this.processProvider(v,f,p||ke))}}this.injectorDefTypes.add(o);const l=Qi(o)||(()=>new o);this.records.set(o,ro(l,Ma));const u=i.providers;if(null!=u&&!a){const c=n;yr(u,d=>this.processProvider(d,c,u))}return void 0!==s&&void 0!==n.providers}processProvider(n,t,r){let i=io(n=ne(n))?n:ne(n&&n.provide);const s=function RO(e,n,t){return e_(e)?ro(void 0,e.useValue):ro(Jv(e),Ma)}(n);if(io(n)||!0!==n.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=ro(void 0,Ma,!0),o.factory=()=>hf(o.multi),this.records.set(i,o)),i=n,o.multi.push(n)}this.records.set(i,s)}hydrate(n,t){return t.value===Ma&&(t.value=xO,t.value=t.factory()),"object"==typeof t.value&&t.value&&function LO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=ne(n.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function ah(e){const n=Rd(e),t=null!==n?n.factory:Qi(e);if(null!==t)return t;if(e instanceof se)throw new fe(204,"");if(e instanceof Function)return function OO(e){const n=e.length;if(n>0)throw ma(n,"?"),new fe(204,"");const t=function YA(e){const n=e&&(e[Jl]||e[Mm]);if(n){const t=function QA(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new fe(204,"")}function Jv(e,n,t){let r;if(io(e)){const i=ne(e);return Qi(i)||ah(i)}if(e_(e))r=()=>ne(e.useValue);else if(function kO(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...hf(e.deps||[]));else if(function NO(e){return!(!e||!e.useExisting)}(e))r=()=>F(ne(e.useExisting));else{const i=ne(e&&(e.useClass||e.provide));if(!function PO(e){return!!e.deps}(e))return Qi(i)||ah(i);r=()=>new i(...hf(e.deps))}return r}function ro(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function e_(e){return null!==e&&"object"==typeof e&&dx in e}function io(e){return"function"==typeof e}let ht=(()=>{class e{static create(t,r){var i;if(Array.isArray(t))return Xv({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return Xv({name:s},t.parent,t.providers,s)}}}return e.THROW_IF_NOT_FOUND=ya,e.NULL=new Yv,e.\u0275prov=z({token:e,providedIn:"any",factory:()=>F(ih)}),e.__NG_ELEMENT_ID__=-1,e})();function GO(e,n){du(Df(e)[1],dt())}function Oe(e){let n=function f_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Zn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new fe(903,"");i=n.\u0275dir}if(i){if(t){r.push(i);const o=e;o.inputs=ch(e.inputs),o.declaredInputs=ch(e.declaredInputs),o.outputs=ch(e.outputs);const a=i.hostBindings;a&&QO(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&KO(e,l),u&&YO(e,u),ln(e.inputs,i.inputs),ln(e.declaredInputs,i.declaredInputs),ln(e.outputs,i.outputs),Zn(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Oe&&(t=!1)}}n=Object.getPrototypeOf(n)}!function WO(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=gu(i.hostAttrs,t=gu(t,i.hostAttrs))}}(r)}function ch(e){return e===ks?{}:e===ke?[]:e}function KO(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function YO(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,s)=>{n(r,i,s),t(r,i,s)}:n}function QO(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}let Lu=null;function so(){if(!Lu){const e=xe.Symbol;if(e&&e.iterator)Lu=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const r=n[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Lu=r)}}}return Lu}function Oa(e){return!!dh(e)&&(Array.isArray(e)||!(e instanceof Map)&&so()in e)}function dh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function wr(e,n,t){return e[n]=t}function kt(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Ji(e,n,t,r){const i=kt(e,n,t);return kt(e,n+1,r)||i}function Vu(e,n,t,r,i){const s=Ji(e,n,t,r);return kt(e,n+2,i)||s}function Dr(e,n,t,r){const i=O();return kt(i,Bs(),n)&&(De(),br(Ye(),i,e,n,t,r)),Dr}function N(e,n,t,r,i,s,o,a){const l=O(),u=De(),c=e+20,d=u.firstCreatePass?function rR(e,n,t,r,i,s,o,a,l){const u=n.consts,c=eo(n,e,4,o||null,li(u,a));Xf(n,t,c,li(u,l)),du(n,c);const d=c.tViews=ku(2,c,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,t,r,i,s,o):u.data[c];mr(d,!1);const f=l[11].createComment("");xu(u,l,f,d),Nt(f,l),Fu(l,l[c]=$v(f,l,f,d)),su(d)&&Yf(u,l,d),null!=o&&Qf(l,d,a)}function pn(e){return Us(function xI(){return J.lFrame.contextLView}(),20+e)}function C(e,n=ie.Default){const t=O();return null===t?F(e,n):uy(dt(),t,ne(e),n)}function mh(){throw new Error("invalid")}function w(e,n,t){const r=O();return kt(r,Bs(),n)&&function hn(e,n,t,r,i,s,o,a){const l=On(n,t);let c,u=n.inputs;!a&&null!=u&&(c=u[r])?(Kv(e,t,c,r,i),iu(n)&&function oO(e,n){const t=cn(n,e);16&t[2]||(t[2]|=64)}(t,n.index)):3&n.type&&(r=function sO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,Ke(s)?s.setProperty(l,r,i):nf(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}(De(),Ye(),r,e,n,r[11],t,!1),w}function yh(e,n,t,r,i){const o=i?"class":"style";Kv(e,t,n.inputs[o],o,r)}function g(e,n,t,r){const i=O(),s=De(),o=20+e,a=i[11],l=i[o]=Mf(a,n,function VI(){return J.lFrame.currentNamespace}()),u=s.firstCreatePass?function ER(e,n,t,r,i,s,o){const a=n.consts,u=eo(n,e,2,i,li(a,s));return Xf(n,t,u,li(a,o)),null!==u.attrs&&Pu(u,u.attrs,!1),null!==u.mergedAttrs&&Pu(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(o,s,i,0,n,t,r):s.data[o];mr(u,!0);const c=u.mergedAttrs;null!==c&&pu(a,l,c);const d=u.classes;null!==d&&Pf(a,l,d);const f=u.styles;null!==f&&dv(a,l,f),64!=(64&u.flags)&&xu(s,i,l,u),0===function EI(){return J.lFrame.elementDepthCount}()&&Nt(l,i),function SI(){J.lFrame.elementDepthCount++}(),su(u)&&(Yf(s,i,u),Mv(s,u,i)),null!==r&&Qf(i,u)}function m(){let e=dt();Yd()?Qd():(e=e.parent,mr(e,!1));const n=e;!function TI(){J.lFrame.elementDepthCount--}();const t=De();t.firstCreatePass&&(du(t,e),Ud(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function HI(e){return 0!=(16&e.flags)}(n)&&yh(t,n,O(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function zI(e){return 0!=(32&e.flags)}(n)&&yh(t,n,O(),n.stylesWithoutHost,!1)}function M(e,n,t,r){g(e,n,t,r),m()}function yo(e,n,t){const r=O(),i=De(),s=e+20,o=i.firstCreatePass?function SR(e,n,t,r,i){const s=n.consts,o=li(s,r),a=eo(n,e,8,"ng-container",o);return null!==o&&Pu(a,o,!0),Xf(n,t,a,li(s,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,i,r,n,t):i.data[s];mr(o,!0);const a=r[s]=r[11].createComment("");xu(i,r,a,o),Nt(a,r),su(o)&&(Yf(i,r,o),Mv(i,o,r)),null!=t&&Qf(r,o)}function vo(){let e=dt();const n=De();Yd()?Qd():(e=e.parent,mr(e,!1)),n.firstCreatePass&&(du(n,e),Ud(e)&&n.queries.elementEnd(e))}function vh(e,n,t){yo(e,n,t),vo()}function Te(){return O()}function Na(e){return!!e&&"function"==typeof e.then}function R_(e){return!!e&&"function"==typeof e.subscribe}const _h=R_;function L(e,n,t,r){const i=O(),s=De(),o=dt();return function k_(e,n,t,r,i,s,o,a){const l=su(r),c=e.firstCreatePass&&qv(e),d=n[8],f=zv(n);let p=!0;if(3&r.type||a){const T=On(r,n),x=a?a(T):T,S=f.length,P=a?B=>a(rt(B[r.index])):r.index;if(Ke(t)){let B=null;if(!a&&l&&(B=function TR(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=n[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,n,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,p=!1;else{s=bh(r,n,d,s,!1);const Q=t.listen(x,i,s);f.push(s,Q),c&&c.push(i,P,S,S+1)}}else s=bh(r,n,d,s,!0),x.addEventListener(i,s,o),f.push(s),c&&c.push(i,P,S,o)}else s=bh(r,n,d,s,!1);const v=r.outputs;let _;if(p&&null!==v&&(_=v[i])){const T=_.length;if(T)for(let x=0;x<T;x+=2){const Ne=n[_[x]][_[x+1]].subscribe(s),Ve=f.length;f.push(s,Ne),c&&c.push(i,r.index,Ve,-(Ve+1))}}}(s,i,i[11],o,e,n,!!t,r),L}function F_(e,n,t,r){try{return!1!==t(r)}catch(i){return Wv(e,i),!1}}function bh(e,n,t,r,i){return function s(o){if(o===Function)return r;const a=2&e.flags?cn(e.index,n):n;0==(32&n[2])&&eh(a);let l=F_(n,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=F_(n,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function R(e=1){return function kI(e){return(J.lFrame.contextLView=function FI(e,n){for(;e>0;)n=n[15],e--;return n}(e,J.lFrame.contextLView))[8]}(e)}function AR(e,n){let t=null;const r=function FM(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(0==(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?gv(e,s,!0):VM(r,s))return i}else t=i}return t}function W_(e,n,t,r,i){const s=e[t+1],o=null===n;let a=r?tr(s):Pr(s),l=!1;for(;0!==a&&(!1===l||o);){const c=e[a+1];MR(e[a],n)&&(l=!0,e[a+1]=r?Uf(c):Lf(c)),a=r?tr(c):Pr(c)}l&&(e[t+1]=r?Lf(s):Uf(s))}function MR(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ks(e,n)>=0}function Dh(e,n,t){return rr(e,n,t,!1),Dh}function gi(e,n){return rr(e,n,null,!0),gi}function rr(e,n,t,r){const i=O(),s=De(),o=Fr(2);s.firstUpdatePass&&function t0(e,n,t,r){const i=e.data;if(null===i[t+1]){const s=i[$t()],o=function e0(e,n){return n>=e.expandoStartIndex}(e,t);(function o0(e,n){return 0!=(e.flags&(n?16:32))})(s,r)&&null===n&&!o&&(n=!1),n=function UR(e,n,t,r){const i=function Zd(e){const n=J.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=ka(t=Ch(null,e,n,t,r),n.attrs,r),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==i)if(t=Ch(i,e,n,t,r),null===s){let l=function BR(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Pr(r))return e[tr(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=Ch(null,e,n,l[1],r),l=ka(l,n.attrs,r),function jR(e,n,t,r){e[tr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else s=function $R(e,n,t){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=ka(r,e[s].hostAttrs,t);return ka(r,n.attrs,t)}(e,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),t}(i,s,n,r),function IR(e,n,t,r,i,s){let o=s?n.classBindings:n.styleBindings,a=tr(o),l=Pr(o);e[r]=t;let c,u=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||Ks(d,c)>0)&&(u=!0)}else c=t;if(i)if(0!==l){const f=tr(e[a+1]);e[r+1]=Ou(f,a),0!==f&&(e[f+1]=Vf(e[f+1],r)),e[a+1]=function $M(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=Ou(a,0),0!==a&&(e[a+1]=Vf(e[a+1],r)),a=r;else e[r+1]=Ou(l,0),0===a?a=r:e[l+1]=Vf(e[l+1],r),l=r;u&&(e[r+1]=Lf(e[r+1])),W_(e,c,r,!0),W_(e,c,r,!1),function xR(e,n,t,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&Ks(s,n)>=0&&(t[r+1]=Uf(t[r+1]))}(n,c,e,r,s),o=Ou(a,l),s?n.classBindings=o:n.styleBindings=o}(i,s,n,t,o,r)}}(s,e,o,r),n!==re&&kt(i,o,n)&&function r0(e,n,t,r,i,s,o,a){if(!(3&n.type))return;const l=e.data,u=l[a+1];Bu(function bv(e){return 1==(1&e)}(u)?s0(l,n,t,i,Pr(u),o):void 0)||(Bu(s)||function _v(e){return 2==(2&e)}(u)&&(s=s0(l,null,t,i,a,o)),function MM(e,n,t,r,i){const s=Ke(e);if(n)i?s?e.addClass(t,r):t.classList.add(r):s?e.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:fn.DashCase;if(null==i)s?e.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=fn.Important),s?e.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,ou($t(),t),i,s))}(s,s.data[$t()],i,i[11],e,i[o+1]=function qR(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=we(di(e)))),e}(n,t),r,o)}function Ch(e,n,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=n[a],r=ka(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function ka(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),dn(e,o,!!t||n[++s]))}return void 0===e?null:e}function s0(e,n,t,r,i,s){const o=null===n;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=t[i+1];f===re&&(f=d?ke:void 0);let p=d?cf(f,r):c===r?f:void 0;if(u&&!Bu(p)&&(p=cf(l,r)),Bu(p)&&(a=p,o))return a;const v=e[i+1];i=o?tr(v):Pr(v)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=cf(l,r))}return a}function Bu(e){return void 0!==e}function A(e,n=""){const t=O(),r=De(),i=e+20,s=r.firstCreatePass?eo(r,i,1,n,null):r.data[i],o=t[i]=function xf(e,n){return Ke(e)?e.createText(n):e.createTextNode(n)}(t[11],n);xu(r,t,o,s),mr(s,!1)}function gn(e){return Be("",e,""),gn}function Be(e,n,t){const r=O(),i=function ao(e,n,t,r){return kt(e,Bs(),t)?n+Z(t)+r:re}(r,e,n,t);return i!==re&&Lr(r,$t(),i),Be}function es(e,n,t,r,i){const s=O(),o=function lo(e,n,t,r,i,s){const a=Ji(e,kr(),t,i);return Fr(2),a?n+Z(t)+r+Z(i)+s:re}(s,e,n,t,r,i);return o!==re&&Lr(s,$t(),o),es}function Eh(e,n,t,r,i,s,o){const a=O(),l=function uo(e,n,t,r,i,s,o,a){const u=Vu(e,kr(),t,i,o);return Fr(3),u?n+Z(t)+r+Z(i)+s+Z(o)+a:re}(a,e,n,t,r,i,s,o);return l!==re&&Lr(a,$t(),l),Eh}const ts=void 0;var dN=["en",[["a","p"],["AM","PM"],ts],[["AM","PM"],ts,ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ts,"{1} 'at' {0}",ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cN(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let bo={};function qt(e){const n=function fN(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=S0(n);if(t)return t;const r=n.split("-")[0];if(t=S0(r),t)return t;if("en"===r)return dN;throw new Error(`Missing locale data for the locale "${e}".`)}function S0(e){return e in bo||(bo[e]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[e]),bo[e]}var $=(()=>(($=$||{})[$.LocaleId=0]="LocaleId",$[$.DayPeriodsFormat=1]="DayPeriodsFormat",$[$.DayPeriodsStandalone=2]="DayPeriodsStandalone",$[$.DaysFormat=3]="DaysFormat",$[$.DaysStandalone=4]="DaysStandalone",$[$.MonthsFormat=5]="MonthsFormat",$[$.MonthsStandalone=6]="MonthsStandalone",$[$.Eras=7]="Eras",$[$.FirstDayOfWeek=8]="FirstDayOfWeek",$[$.WeekendRange=9]="WeekendRange",$[$.DateFormat=10]="DateFormat",$[$.TimeFormat=11]="TimeFormat",$[$.DateTimeFormat=12]="DateTimeFormat",$[$.NumberSymbols=13]="NumberSymbols",$[$.NumberFormats=14]="NumberFormats",$[$.CurrencyCode=15]="CurrencyCode",$[$.CurrencySymbol=16]="CurrencySymbol",$[$.CurrencyName=17]="CurrencyName",$[$.Currencies=18]="Currencies",$[$.Directionality=19]="Directionality",$[$.PluralCase=20]="PluralCase",$[$.ExtraData=21]="ExtraData",$))();const ju="en-US";let T0=ju;function Ah(e,n,t,r,i){if(e=ne(e),Array.isArray(e))for(let s=0;s<e.length;s++)Ah(e[s],n,t,r,i);else{const s=De(),o=O();let a=io(e)?e:ne(e.provide),l=Jv(e);const u=dt(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(io(e)||!e.multi){const p=new ua(l,i,C),v=xh(a,n,i?c:c+f,d);-1===v?(vu(da(u,o),s,a),Ih(s,e,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(p),o.push(p)):(t[v]=p,o[v]=p)}else{const p=xh(a,n,c+f,d),v=xh(a,n,c,c+f),_=p>=0&&t[p],T=v>=0&&t[v];if(i&&!T||!i&&!_){vu(da(u,o),s,a);const x=function ck(e,n,t,r,i){const s=new ua(e,t,C);return s.multi=[],s.index=n,s.componentProviders=0,Q0(s,i,r&&!t),s}(i?uk:lk,t.length,i,r,l);!i&&T&&(t[v].providerFactory=x),Ih(s,e,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(x),o.push(x)}else Ih(s,e,p>-1?p:v,Q0(t[i?v:p],l,!i&&r));!i&&r&&T&&t[v].componentProviders++}}}function Ih(e,n,t,r){const i=io(n),s=function FO(e){return!!e.useClass}(n);if(i||s){const l=(s?ne(n.useClass):n).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function Q0(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function xh(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function lk(e,n,t,r){return Mh(this.multi,[])}function uk(e,n,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=fa(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Mh(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Mh(i,s);return s}function Mh(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function He(e,n=[]){return t=>{t.providersResolver=(r,i)=>function ak(e,n,t){const r=De();if(r.firstCreatePass){const i=Zn(e);Ah(t,r.data,r.blueprint,i,!0),Ah(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class X0{}class hk{resolveComponentFactory(n){throw function fk(e){const n=Error(`No component factory found for ${we(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let Do=(()=>{class e{}return e.NULL=new hk,e})();function pk(){return Co(dt(),O())}function Co(e,n){return new Gt(On(e,n))}let Gt=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=pk,e})();function gk(e){return e instanceof Gt?e.nativeElement:e}class Ua{}let Vr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function yk(){const e=O(),t=cn(dt().index,e);return function mk(e){return e[11]}(gr(t)?t:e)}(),e})(),vk=(()=>{class e{}return e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null}),e})();class Ba{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const _k=new Ba("13.2.0"),Oh={};function Gu(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];if(null!==s&&r.push(rt(s)),Xn(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&Gu(l[1],l,u,r)}const o=t.type;if(8&o)Gu(e,n,t.child,r);else if(32&o){const a=Tf(t,n);let l;for(;l=a();)r.push(l)}else if(16&o){const a=lv(n,t);if(Array.isArray(a))r.push(...a);else{const l=Ta(n[16]);Gu(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class ja{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return Gu(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Xn(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Of(n,r),bu(t,r))}this._attachedToViewContainer=!1}Jy(this._lView[1],this._lView)}onDestroy(n){kv(this._lView[1],this._lView,null,n)}markForCheck(){eh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function EO(e,n,t){lu(!0);try{nh(e,n,t)}finally{lu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bM(e,n){Aa(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new fe(902,"");this._appRef=n}}class bk extends ja{constructor(n){super(n),this._view=n}detectChanges(){Hv(this._view)}checkNoChanges(){!function SO(e){lu(!0);try{Hv(e)}finally{lu(!1)}}(this._view)}get context(){return null}}class J0 extends Do{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Ot(n);return new Rh(t,this.ngModule)}}function eb(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}const Dk=new se("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>zy});class Rh extends X0{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function BM(e){return e.map(UM).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return eb(this.componentDef.inputs)}get outputs(){return eb(this.componentDef.outputs)}create(n,t,r,i){const s=(i=i||this.ngModule)?function Ck(e,n){return{get:(t,r,i)=>{const s=e.get(t,Oh,i);return s!==Oh||r===Oh?s:n.get(t,r,i)}}}(n,i.injector):n,o=s.get(Ua,jm),a=s.get(vk,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=r?function Nv(e,n,t){if(Ke(e))return e.selectRootElement(n,t===Yn.ShadowDom);let r="string"==typeof n?e.querySelector(n):n;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Mf(o.createRenderer(null,this.componentDef),u,function wk(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(u)),d=this.componentDef.onPush?576:528,f=function d_(e,n){return{components:[],scheduler:e||zy,clean:TO,playerHandler:n||null,flags:0}}(),p=ku(0,null,null,1,0,null,null,null,null,null),v=Ia(null,p,f,d,null,null,o,l,a,s);let _,T;uu(v);try{const x=function u_(e,n,t,r,i,s){const o=t[1];t[20]=e;const l=eo(o,20,2,"#host",null),u=l.mergedAttrs=n.hostAttrs;null!==u&&(Pu(l,u,!0),null!==e&&(pu(i,e,u),null!==l.classes&&Pf(i,e,l.classes),null!==l.styles&&dv(i,e,l.styles)));const c=r.createRenderer(e,n),d=Ia(t,Ov(n),null,n.onPush?64:16,t[20],l,r,c,s||null,null);return o.firstCreatePass&&(vu(da(l,t),o,n.type),Uv(o,l),Bv(l,t.length,1)),Fu(t,d),t[20]=d}(c,this.componentDef,v,o,l);if(c)if(r)pu(l,c,["ng-version",_k.full]);else{const{attrs:S,classes:P}=function jM(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!er(i))break;i=s}r++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]);S&&pu(l,c,S),P&&P.length>0&&Pf(l,c,P.join(" "))}if(T=Gd(p,20),void 0!==t){const S=T.projection=[];for(let P=0;P<this.ngContentSelectors.length;P++){const B=t[P];S.push(null!=B?Array.from(B):null)}}_=function c_(e,n,t,r,i){const s=t[1],o=function lO(e,n,t){const r=dt();e.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),jv(e,r,n,to(e,n,1,null),t));const i=fa(n,e,r.directiveStart,r);Nt(i,n);const s=On(r,n);return s&&Nt(s,n),i}(s,t,n);if(r.components.push(o),e[8]=o,i&&i.forEach(l=>l(o,n)),n.contentQueries){const l=dt();n.contentQueries(1,o,l.directiveStart)}const a=dt();return!s.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ui(a.index),Lv(t[1],a,0,a.directiveStart,a.directiveEnd,n),Vv(n,o)),o}(x,this.componentDef,v,f,[GO]),xa(p,v,null)}finally{cu()}return new Sk(this.componentType,_,Co(T,v),v,T)}}class Sk extends class dk{}{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new bk(i),this.componentType=n}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Ur{}class tb{}const Eo=new Map;class ib extends Ur{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new J0(this);const r=In(n);this._bootstrapComponents=_r(r.bootstrap),this._r3Injector=Zv(n,t,[{provide:Ur,useValue:this},{provide:Do,useValue:this.componentFactoryResolver}],we(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,t=ht.THROW_IF_NOT_FOUND,r=ie.Default){return n===ht||n===Ur||n===ih?this:this._r3Injector.get(n,t,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Nh extends tb{constructor(n){super(),this.moduleType=n,null!==In(n)&&function Ak(e){const n=new Set;!function t(r){const i=In(r,!0),s=i.id;null!==s&&(function nb(e,n,t){if(n&&n!==t)throw new Error(`Duplicate module registered for ${e} - ${we(n)} vs ${we(n.name)}`)}(s,Eo.get(s),r),Eo.set(s,r));const o=_r(i.imports);for(const a of o)n.has(a)||(n.add(a),t(a))}(e)}(n)}create(n){return new ib(this.moduleType,n)}}function sr(e,n,t){const r=jt()+e,i=O();return i[r]===re?wr(i,r,t?n.call(t):n()):function Ra(e,n){return e[n]}(i,r)}function So(e,n,t,r){return ab(O(),jt(),e,n,t,r)}function kh(e,n,t,r,i){return lb(O(),jt(),e,n,t,r,i)}function sb(e,n,t,r,i,s){return function ub(e,n,t,r,i,s,o,a){const l=n+t;return Vu(e,l,i,s,o)?wr(e,l+3,a?r.call(a,i,s,o):r(i,s,o)):$a(e,l+3)}(O(),jt(),e,n,t,r,i,s)}function ob(e,n,t,r,i,s,o){return function cb(e,n,t,r,i,s,o,a,l){const u=n+t;return function Nn(e,n,t,r,i,s){const o=Ji(e,n,t,r);return Ji(e,n+2,i,s)||o}(e,u,i,s,o,a)?wr(e,u+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):$a(e,u+4)}(O(),jt(),e,n,t,r,i,s,o)}function $a(e,n){const t=e[n];return t===re?void 0:t}function ab(e,n,t,r,i,s){const o=n+t;return kt(e,o,i)?wr(e,o+1,s?r.call(s,i):r(i)):$a(e,o+1)}function lb(e,n,t,r,i,s,o){const a=n+t;return Ji(e,a,i,s)?wr(e,a+2,o?r.call(o,i,s):r(i,s)):$a(e,a+2)}function Fh(e,n){const t=De();let r;const i=e+20;t.firstCreatePass?(r=function Nk(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Qi(r.type)),o=si(C);try{const a=mu(!1),l=s();return mu(a),function iR(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,O(),i,l),l}finally{si(o)}}function Ha(e,n){return e[1].data[n].pure}function Ph(e){return n=>{setTimeout(e,void 0,n)}}const Re=class Lk extends lt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){var i,s,o;let a=n,l=t||(()=>null),u=r;if(n&&"object"==typeof n){const d=n;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),u=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=Ph(l),a&&(a=Ph(a)),u&&(u=Ph(u)));const c=super.subscribe({next:a,error:l,complete:u});return n instanceof Ae&&n.add(c),c}};function Vk(){return this._results[so()]()}class Lh{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=so(),r=Lh.prototype;r[t]||(r[t]=Vk)}get changes(){return this._changes||(this._changes=new Re)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=Rn(n);(this._changesDetected=!function ex(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Br=(()=>{class e{}return e.__NG_ELEMENT_ID__=jk,e})();const Uk=Br,Bk=class extends Uk{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n){const t=this._declarationTContainer.tViews,r=Ia(this._declarationLView,t,n,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),xa(t,r,n),new ja(r)}};function jk(){return Wu(dt(),O())}function Wu(e,n){return 4&e.type?new Bk(n,e,Co(e,n)):null}let or=(()=>{class e{}return e.__NG_ELEMENT_ID__=$k,e})();function $k(){return mb(dt(),O())}const Hk=or,pb=class extends Hk{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const n=yu(this._hostTNode,this._hostLView);if(iy(n)){const t=$s(n,this._hostLView),r=js(n);return new Hs(t[1].data[r+8],t)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=gb(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){const i=n.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(n,t,r,i,s){const o=n&&!function ga(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const l=o?n:new Rh(Ot(n)),u=r||this.parentInjector;if(!s&&null==l.ngModule&&u){const d=u.get(Ur,null);d&&(s=d)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(n,t){const r=n._lView,i=r[1];if(function CI(e){return Xn(e[3])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const d=r[3],f=new pb(d,d[6],d[3]);f.detach(f.indexOf(n))}}const s=this._adjustIndex(t),o=this._lContainer;!function DM(e,n,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=n),r<s-10?(n[4]=t[i],py(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const o=n[17];null!==o&&t!==o&&function CM(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(o,n);const a=n[19];null!==a&&a.insertView(e),n[2]|=128}(i,r,o,s);const a=kf(s,o),l=r[11],u=Iu(l,o[7]);return null!==u&&function _M(e,n,t,r,i,s){r[0]=i,r[6]=n,Aa(e,r,t,1,i,s)}(i,o[6],l,r,u,a),n.attachToViewContainerRef(),py(Vh(o),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=gb(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Of(this._lContainer,t);r&&(bu(Vh(this._lContainer),t),Jy(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=Of(this._lContainer,t);return r&&null!=bu(Vh(this._lContainer),t)?new ja(r):null}_adjustIndex(n,t=0){return null==n?this.length+t:n}};function gb(e){return e[8]}function Vh(e){return e[8]||(e[8]=[])}function mb(e,n){let t;const r=n[e.index];if(Xn(r))t=r;else{let i;if(8&e.type)i=rt(r);else{const s=n[11];i=s.createComment("");const o=On(e,n);Zi(s,Iu(s,o),i,function AM(e,n){return Ke(e)?e.nextSibling(n):n.nextSibling}(s,o),!1)}n[e.index]=t=$v(r,n,i,e),Fu(n,t)}return new pb(t,e,n)}class Uh{constructor(n){this.queryList=n,this.matches=null}clone(){return new Uh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Bh(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Db(n,t).matches&&this.queries[t].setDirty()}}class yb{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class jh{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new jh(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class $h{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new $h(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,t,Gk(t,s)),this.matchTNodeWithReadOption(n,t,_u(t,n,s,!1,!1))}else r===Br?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,_u(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Gt||i===or||i===Br&&4&t.type)this.addMatch(t.index,-2);else{const s=_u(t,n,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function Gk(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function Kk(e,n,t,r){return-1===t?function Wk(e,n){return 11&e.type?Co(e,n):4&e.type?Wu(e,n):null}(n,e):-2===t?function Yk(e,n,t){return t===Gt?Co(n,e):t===Br?Wu(n,e):t===or?mb(n,e):void 0}(e,n,r):fa(e,e[1],t,n)}function vb(e,n,t,r){const i=n[19].queries[r];if(null===i.matches){const s=e.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:Kk(n,s[u],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Hh(e,n,t,r){const i=e.queries.getByIndex(t),s=i.matches;if(null!==s){const o=vb(e,n,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],c=n[-l];for(let d=10;d<c.length;d++){const f=c[d];f[17]===f[3]&&Hh(f[1],f,u,r)}if(null!==c[9]){const d=c[9];for(let f=0;f<d.length;f++){const p=d[f];Hh(p[1],p,u,r)}}}}}return r}function Ku(e){const n=O(),t=De(),r=Km();Jd(r+1);const i=Db(t,r);if(e.dirty&&$m(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Hh(t,n,r,[]):vb(t,n,i,r);e.reset(s,gk),e.notifyOnChanges()}return!0}return!1}function _b(e,n,t){const r=De();r.firstCreatePass&&(function wb(e,n,t){null===e.queries&&(e.queries=new jh),e.queries.track(new $h(n,t))}(r,new yb(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function bb(e,n,t){const r=new Lh(4==(4&t));kv(e,n,r,r.destroy),null===n[19]&&(n[19]=new Bh),n[19].queries.push(new Uh(r))}(r,O(),n)}function Db(e,n){return e.queries.getByIndex(n)}function qh(e,n){return Wu(e,n)}function Zu(...e){}const qa=new se("Application Initializer");let Ao=(()=>{class e{constructor(t){this.appInits=t,this.resolve=Zu,this.reject=Zu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Na(s))t.push(s);else if(_h(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(F(qa,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const Ga=new se("AppId"),gF={provide:Ga,useFactory:function pF(){return`${Xh()}${Xh()}${Xh()}`},deps:[]};function Xh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ub=new se("Platform Initializer"),Io=new se("Platform ID"),Bb=new se("appBootstrapListener");let Ju=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const mi=new se("LocaleId"),jb=new se("DefaultCurrencyCode");class mF{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let ec=(()=>{class e{compileModuleSync(t){return new Nh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=_r(In(t).declarations).reduce((o,a)=>{const l=Ot(a);return l&&o.push(new Rh(l)),o},[]);return new mF(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const vF=(()=>Promise.resolve(0))();function Zh(e){"undefined"==typeof Zone?vF.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Xe{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function _F(){let e=xe.requestAnimationFrame,n=xe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function DF(e){const n=()=>{!function wF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(xe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ep(e),e.isCheckStableRunning=!0,Jh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ep(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return $b(e),t.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),Hb(e)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return $b(e),t.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),Hb(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,ep(e),Jh(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,n,bF,Zu,Zu);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const bF={};function Jh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ep(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function $b(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Hb(e){e._nesting--,Jh(e)}class CF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}let tp=(()=>{class e{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xe.assertNotInAngularZone(),Zh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zh(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(F(Xe))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),zb=(()=>{class e{constructor(){this._applications=new Map,np.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return np.findTestabilityInTree(this,t,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();class EF{addToWindow(n){}findTestabilityInTree(n,t,r){return null}}let ar,np=new EF;const qb=new se("AllowMultipleToken");class Gb{constructor(n,t){this.name=n,this.token=t}}function Wb(e,n,t=[]){const r=`Platform: ${n}`,i=new se(r);return(s=[])=>{let o=Kb();if(!o||o.injector.get(qb,!1))if(e)e(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:sh,useValue:"platform"});!function IF(e){if(ar&&!ar.destroyed&&!ar.injector.get(qb,!1))throw new fe(400,"");ar=e.get(Yb);const n=e.get(Ub,null);n&&n.forEach(t=>t())}(ht.create({providers:a,name:r}))}return function xF(e){const n=Kb();if(!n)throw new fe(401,"");return n}()}}function Kb(){return ar&&!ar.destroyed?ar:null}let Yb=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function MF(e,n){let t;return t="noop"===e?new CF:("zone.js"===e?void 0:e)||new Xe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Xe,useValue:a}];return a.run(()=>{const u=ht.create({providers:l,parent:this.injector,name:t.moduleType.name}),c=t.create(u),d=c.injector.get(Xi,null);if(!d)throw new fe(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:p=>{d.handleError(p)}});c.onDestroy(()=>{rp(this._modules,c),f.unsubscribe()})}),function OF(e,n,t){try{const r=t();return Na(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(d,a,()=>{const f=c.injector.get(Ao);return f.runInitializers(),f.donePromise.then(()=>(function mN(e){Se(e,"Expected localeId to be defined"),"string"==typeof e&&(T0=e.toLowerCase().replace(/_/g,"-"))}(c.injector.get(mi,ju)||ju),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=Qb({},r);return function TF(e,n,t){const r=new Nh(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(yi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new fe(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(F(ht))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();function Qb(e,n){return Array.isArray(n)?n.reduce(Qb,e):Object.assign(Object.assign({},e),n)}let yi=(()=>{class e{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ce(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new Ce(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),Zh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=ta(a,l.pipe(function tn(e={}){const{connector:n=(()=>new lt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o=null,a=null,l=null,u=0,c=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=null},p=()=>{f(),o=l=null,c=d=!1},v=()=>{const _=o;p(),null==_||_.unsubscribe()};return Ze((_,T)=>{u++,!d&&!c&&f();const x=l=null!=l?l:n();T.add(()=>{u--,0===u&&!d&&!c&&(a=pr(v,i))}),x.subscribe(T),o||(o=new Xr({next:S=>x.next(S),error:S=>{d=!0,f(),a=pr(p,t,S),x.error(S)},complete:()=>{c=!0,f(),a=pr(p,r),x.complete()}}),et(_).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new fe(405,"");let i;i=t instanceof X0?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function AF(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Ur),a=i.create(ht.NULL,[],r||i.selector,s),l=a.location.nativeElement,u=a.injector.get(tp,null),c=u&&a.injector.get(zb);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),rp(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new fe(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;rp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Bb,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(F(Xe),F(ht),F(Xi),F(Do),F(Ao))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();function rp(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let Zb=!0,Jb=!1,Kt=(()=>{class e{}return e.__NG_ELEMENT_ID__=FF,e})();function FF(e){return function PF(e,n,t){if(iu(e)&&!t){const r=cn(e.index,n);return new ja(r,r)}return 47&e.type?new ja(n[16],n):null}(dt(),O(),16==(16&e))}class sw{constructor(){}supports(n){return Oa(n)}create(n){return new $F(n)}}const jF=(e,n)=>n;class $F{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||jF}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<aw(r,i,s)?t:r,a=aw(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){const p=f<s.length?s[f]:s[f]=0,v=p+f;c<=v&&v<u&&(s[f]=p+1)}s[o.previousIndex]=c-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Oa(n))throw new fe(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function nR(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[so()]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new HF(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new ow),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ow),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class HF{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class ow{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new zF,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aw(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class lw{constructor(){}supports(n){return n instanceof Map||dh(n)}create(){return new qF}}class qF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||dh(n)))throw new fe(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new GF(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class GF{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uw(){return new Wa([new sw])}let Wa=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||uw()),deps:[[e,new Ys,new Jn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new fe(901,"")}}return e.\u0275prov=z({token:e,providedIn:"root",factory:uw}),e})();function cw(){return new xo([new lw])}let xo=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||cw()),deps:[[e,new Ys,new Jn]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new fe(901,"")}}return e.\u0275prov=z({token:e,providedIn:"root",factory:cw}),e})();const WF=[new lw],YF=new Wa([new sw]),QF=new xo(WF),XF=Wb(null,"core",[{provide:Io,useValue:"unknown"},{provide:Yb,deps:[ht]},{provide:zb,deps:[]},{provide:Ju,deps:[]}]),nP=[{provide:yi,useClass:yi,deps:[Xe,ht,Xi,Do,Ao]},{provide:Dk,deps:[Xe],useFactory:function rP(e){let n=[];return e.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(t){n.push(t)}}},{provide:Ao,useClass:Ao,deps:[[new Jn,qa]]},{provide:ec,useClass:ec,deps:[]},gF,{provide:Wa,useFactory:function ZF(){return YF},deps:[]},{provide:xo,useFactory:function JF(){return QF},deps:[]},{provide:mi,useFactory:function eP(e){return e||function tP(){return"undefined"!=typeof $localize&&$localize.locale||ju}()},deps:[[new ba(mi),new Jn,new Ys]]},{provide:jb,useValue:"USD"}];let iP=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(F(yi))},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({providers:nP}),e})(),nc=null;function Sr(){return nc}const Et=new se("DocumentToken");let rs=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:function(){return function lP(){return F(dw)}()},providedIn:"platform"}),e})();const uP=new se("Location Initialized");let dw=(()=>{class e extends rs{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(t){const r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){fw()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){fw()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(F(Et))},e.\u0275prov=z({token:e,factory:function(){return function cP(){return new dw(F(Et))}()},providedIn:"platform"}),e})();function fw(){return!!window.history.pushState}function lp(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function hw(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function jr(e){return e&&"?"!==e[0]?"?"+e:e}let Mo=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:function(){return function dP(e){const n=F(Et).location;return new pw(F(rs),n&&n.origin||"")}()},providedIn:"root"}),e})();const up=new se("appBaseHref");let pw=(()=>{class e extends Mo{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lp(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+jr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+jr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return e.\u0275fac=function(t){return new(t||e)(F(rs),F(up,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),fP=(()=>{class e extends Mo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=lp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+jr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+jr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return e.\u0275fac=function(t){return new(t||e)(F(rs),F(up,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),rc=(()=>{class e{constructor(t,r){this._subject=new Re,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=hw(gw(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+jr(r))}normalize(t){return e.stripTrailingSlash(function pP(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,gw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=jr,e.joinWithSlash=lp,e.stripTrailingSlash=hw,e.\u0275fac=function(t){return new(t||e)(F(Mo),F(rs))},e.\u0275prov=z({token:e,factory:function(){return function hP(){return new rc(F(Mo),F(rs))}()},providedIn:"root"}),e})();function gw(e){return e.replace(/\/index.html$/,"")}var st=(()=>((st=st||{})[st.Zero=0]="Zero",st[st.One=1]="One",st[st.Two=2]="Two",st[st.Few=3]="Few",st[st.Many=4]="Many",st[st.Other=5]="Other",st))(),nt=(()=>((nt=nt||{})[nt.Format=0]="Format",nt[nt.Standalone=1]="Standalone",nt))(),ve=(()=>((ve=ve||{})[ve.Narrow=0]="Narrow",ve[ve.Abbreviated=1]="Abbreviated",ve[ve.Wide=2]="Wide",ve[ve.Short=3]="Short",ve))(),ze=(()=>((ze=ze||{})[ze.Short=0]="Short",ze[ze.Medium=1]="Medium",ze[ze.Long=2]="Long",ze[ze.Full=3]="Full",ze))(),G=(()=>((G=G||{})[G.Decimal=0]="Decimal",G[G.Group=1]="Group",G[G.List=2]="List",G[G.PercentSign=3]="PercentSign",G[G.PlusSign=4]="PlusSign",G[G.MinusSign=5]="MinusSign",G[G.Exponential=6]="Exponential",G[G.SuperscriptingExponent=7]="SuperscriptingExponent",G[G.PerMille=8]="PerMille",G[G.Infinity=9]="Infinity",G[G.NaN=10]="NaN",G[G.TimeSeparator=11]="TimeSeparator",G[G.CurrencyDecimal=12]="CurrencyDecimal",G[G.CurrencyGroup=13]="CurrencyGroup",G))();function ic(e,n){return Fn(qt(e)[$.DateFormat],n)}function sc(e,n){return Fn(qt(e)[$.TimeFormat],n)}function oc(e,n){return Fn(qt(e)[$.DateTimeFormat],n)}function kn(e,n){const t=qt(e),r=t[$.NumberSymbols][n];if(void 0===r){if(n===G.CurrencyDecimal)return t[$.NumberSymbols][G.Decimal];if(n===G.CurrencyGroup)return t[$.NumberSymbols][G.Group]}return r}const wP=function E0(e){return qt(e)[$.PluralCase]};function yw(e){if(!e[$.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[$.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fn(e,n){for(let t=n;t>-1;t--)if(void 0!==e[t])return e[t];throw new Error("Locale data API: locale data undefined")}function dp(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const AP=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ka={},IP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gt=(()=>((gt=gt||{})[gt.Short=0]="Short",gt[gt.ShortGMT=1]="ShortGMT",gt[gt.Long=2]="Long",gt[gt.Extended=3]="Extended",gt))(),Y=(()=>((Y=Y||{})[Y.FullYear=0]="FullYear",Y[Y.Month=1]="Month",Y[Y.Date=2]="Date",Y[Y.Hours=3]="Hours",Y[Y.Minutes=4]="Minutes",Y[Y.Seconds=5]="Seconds",Y[Y.FractionalSeconds=6]="FractionalSeconds",Y[Y.Day=7]="Day",Y))(),ue=(()=>((ue=ue||{})[ue.DayPeriods=0]="DayPeriods",ue[ue.Days=1]="Days",ue[ue.Months=2]="Months",ue[ue.Eras=3]="Eras",ue))();function xP(e,n,t,r){let i=function VP(e){if(bw(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,s=1,o=1]=e.split("-").map(a=>+a);return ac(i,s-1,o)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(AP))return function UP(e){const n=new Date(0);let t=0,r=0;const i=e[8]?n.setUTCFullYear:n.setFullYear,s=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),u=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(n,o,a,l,u),n}(r)}const n=new Date(e);if(!bw(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=$r(t,n)||n;let a,o=[];for(;n;){if(a=IP.exec(n),!a){o.push(n);break}{o=o.concat(a.slice(1));const c=o.pop();if(!c)break;n=c}}let l=i.getTimezoneOffset();r&&(l=_w(r,l),i=function LP(e,n,t){const r=t?-1:1,i=e.getTimezoneOffset();return function PP(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,r*(_w(n,i)-i))}(i,r,!0));let u="";return o.forEach(c=>{const d=function FP(e){if(hp[e])return hp[e];let n;switch(e){case"G":case"GG":case"GGG":n=Le(ue.Eras,ve.Abbreviated);break;case"GGGG":n=Le(ue.Eras,ve.Wide);break;case"GGGGG":n=Le(ue.Eras,ve.Narrow);break;case"y":n=ot(Y.FullYear,1,0,!1,!0);break;case"yy":n=ot(Y.FullYear,2,0,!0,!0);break;case"yyy":n=ot(Y.FullYear,3,0,!1,!0);break;case"yyyy":n=ot(Y.FullYear,4,0,!1,!0);break;case"Y":n=dc(1);break;case"YY":n=dc(2,!0);break;case"YYY":n=dc(3);break;case"YYYY":n=dc(4);break;case"M":case"L":n=ot(Y.Month,1,1);break;case"MM":case"LL":n=ot(Y.Month,2,1);break;case"MMM":n=Le(ue.Months,ve.Abbreviated);break;case"MMMM":n=Le(ue.Months,ve.Wide);break;case"MMMMM":n=Le(ue.Months,ve.Narrow);break;case"LLL":n=Le(ue.Months,ve.Abbreviated,nt.Standalone);break;case"LLLL":n=Le(ue.Months,ve.Wide,nt.Standalone);break;case"LLLLL":n=Le(ue.Months,ve.Narrow,nt.Standalone);break;case"w":n=fp(1);break;case"ww":n=fp(2);break;case"W":n=fp(1,!0);break;case"d":n=ot(Y.Date,1);break;case"dd":n=ot(Y.Date,2);break;case"c":case"cc":n=ot(Y.Day,1);break;case"ccc":n=Le(ue.Days,ve.Abbreviated,nt.Standalone);break;case"cccc":n=Le(ue.Days,ve.Wide,nt.Standalone);break;case"ccccc":n=Le(ue.Days,ve.Narrow,nt.Standalone);break;case"cccccc":n=Le(ue.Days,ve.Short,nt.Standalone);break;case"E":case"EE":case"EEE":n=Le(ue.Days,ve.Abbreviated);break;case"EEEE":n=Le(ue.Days,ve.Wide);break;case"EEEEE":n=Le(ue.Days,ve.Narrow);break;case"EEEEEE":n=Le(ue.Days,ve.Short);break;case"a":case"aa":case"aaa":n=Le(ue.DayPeriods,ve.Abbreviated);break;case"aaaa":n=Le(ue.DayPeriods,ve.Wide);break;case"aaaaa":n=Le(ue.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":n=Le(ue.DayPeriods,ve.Abbreviated,nt.Standalone,!0);break;case"bbbb":n=Le(ue.DayPeriods,ve.Wide,nt.Standalone,!0);break;case"bbbbb":n=Le(ue.DayPeriods,ve.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":n=Le(ue.DayPeriods,ve.Abbreviated,nt.Format,!0);break;case"BBBB":n=Le(ue.DayPeriods,ve.Wide,nt.Format,!0);break;case"BBBBB":n=Le(ue.DayPeriods,ve.Narrow,nt.Format,!0);break;case"h":n=ot(Y.Hours,1,-12);break;case"hh":n=ot(Y.Hours,2,-12);break;case"H":n=ot(Y.Hours,1);break;case"HH":n=ot(Y.Hours,2);break;case"m":n=ot(Y.Minutes,1);break;case"mm":n=ot(Y.Minutes,2);break;case"s":n=ot(Y.Seconds,1);break;case"ss":n=ot(Y.Seconds,2);break;case"S":n=ot(Y.FractionalSeconds,1);break;case"SS":n=ot(Y.FractionalSeconds,2);break;case"SSS":n=ot(Y.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=uc(gt.Short);break;case"ZZZZZ":n=uc(gt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=uc(gt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=uc(gt.Long);break;default:return null}return hp[e]=n,n}(c);u+=d?d(i,t,l):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function ac(e,n,t){const r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function $r(e,n){const t=function gP(e){return qt(e)[$.LocaleId]}(e);if(Ka[t]=Ka[t]||{},Ka[t][n])return Ka[t][n];let r="";switch(n){case"shortDate":r=ic(e,ze.Short);break;case"mediumDate":r=ic(e,ze.Medium);break;case"longDate":r=ic(e,ze.Long);break;case"fullDate":r=ic(e,ze.Full);break;case"shortTime":r=sc(e,ze.Short);break;case"mediumTime":r=sc(e,ze.Medium);break;case"longTime":r=sc(e,ze.Long);break;case"fullTime":r=sc(e,ze.Full);break;case"short":const i=$r(e,"shortTime"),s=$r(e,"shortDate");r=lc(oc(e,ze.Short),[i,s]);break;case"medium":const o=$r(e,"mediumTime"),a=$r(e,"mediumDate");r=lc(oc(e,ze.Medium),[o,a]);break;case"long":const l=$r(e,"longTime"),u=$r(e,"longDate");r=lc(oc(e,ze.Long),[l,u]);break;case"full":const c=$r(e,"fullTime"),d=$r(e,"fullDate");r=lc(oc(e,ze.Full),[c,d])}return r&&(Ka[t][n]=r),r}function lc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return null!=n&&r in n?n[r]:t})),e}function lr(e,n,t="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=t));let o=String(e);for(;o.length<n;)o="0"+o;return r&&(o=o.substr(o.length-n)),s+o}function ot(e,n,t=0,r=!1,i=!1){return function(s,o){let a=function OP(e,n){switch(e){case Y.FullYear:return n.getFullYear();case Y.Month:return n.getMonth();case Y.Date:return n.getDate();case Y.Hours:return n.getHours();case Y.Minutes:return n.getMinutes();case Y.Seconds:return n.getSeconds();case Y.FractionalSeconds:return n.getMilliseconds();case Y.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||a>-t)&&(a+=t),e===Y.Hours)0===a&&-12===t&&(a=12);else if(e===Y.FractionalSeconds)return function MP(e,n){return lr(e,3).substr(0,n)}(a,n);const l=kn(o,G.MinusSign);return lr(a,n,l,r,i)}}function Le(e,n,t=nt.Format,r=!1){return function(i,s){return function RP(e,n,t,r,i,s){switch(t){case ue.Months:return function vP(e,n,t){const r=qt(e),s=Fn([r[$.MonthsFormat],r[$.MonthsStandalone]],n);return Fn(s,t)}(n,i,r)[e.getMonth()];case ue.Days:return function yP(e,n,t){const r=qt(e),s=Fn([r[$.DaysFormat],r[$.DaysStandalone]],n);return Fn(s,t)}(n,i,r)[e.getDay()];case ue.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const u=function DP(e){const n=qt(e);return yw(n),(n[$.ExtraData][2]||[]).map(r=>"string"==typeof r?dp(r):[dp(r[0]),dp(r[1])])}(n),c=function CP(e,n,t){const r=qt(e);yw(r);const s=Fn([r[$.ExtraData][0],r[$.ExtraData][1]],n)||[];return Fn(s,t)||[]}(n,i,r),d=u.findIndex(f=>{if(Array.isArray(f)){const[p,v]=f,_=o>=p.hours&&a>=p.minutes,T=o<v.hours||o===v.hours&&a<v.minutes;if(p.hours<v.hours){if(_&&T)return!0}else if(_||T)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function mP(e,n,t){const r=qt(e),s=Fn([r[$.DayPeriodsFormat],r[$.DayPeriodsStandalone]],n);return Fn(s,t)}(n,i,r)[o<12?0:1];case ue.Eras:return function _P(e,n){return Fn(qt(e)[$.Eras],n)}(n,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,e,n,t,r)}}function uc(e){return function(n,t,r){const i=-1*r,s=kn(t,G.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case gt.Short:return(i>=0?"+":"")+lr(o,2,s)+lr(Math.abs(i%60),2,s);case gt.ShortGMT:return"GMT"+(i>=0?"+":"")+lr(o,1,s);case gt.Long:return"GMT"+(i>=0?"+":"")+lr(o,2,s)+":"+lr(Math.abs(i%60),2,s);case gt.Extended:return 0===r?"Z":(i>=0?"+":"")+lr(o,2,s)+":"+lr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}function vw(e){return ac(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function fp(e,n=!1){return function(t,r){let i;if(n){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=vw(t),o=function kP(e){const n=ac(e,0,1).getDay();return ac(e,0,1+(n<=4?4:11)-n)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return lr(i,e,kn(r,G.MinusSign))}}function dc(e,n=!1){return function(t,r){return lr(vw(t).getFullYear(),e,kn(r,G.MinusSign),n)}}const hp={};function _w(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function bw(e){return e instanceof Date&&!isNaN(e.valueOf())}class hc{}let QP=(()=>{class e extends hc{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(wP(r||this.locale)(t)){case st.Zero:return"zero";case st.One:return"one";case st.Two:return"two";case st.Few:return"few";case st.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(F(mi))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();function Ew(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}let is=(()=>{class e{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Oa(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${we(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(C(Wa),C(xo),C(Gt),C(Vr))},e.\u0275dir=W({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class ZP{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vi=(()=>{class e{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ZP(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Sw(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Sw(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(C(or),C(Br),C(Wa))},e.\u0275dir=W({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function Sw(e,n){e.context.$implicit=n.item}let Yt=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new JP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tw("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tw("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(C(or),C(Br))},e.\u0275dir=W({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class JP{constructor(){this.$implicit=null,this.ngIf=null}}function Tw(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${we(n)}'.`)}class vp{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Qa=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=W({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),_p=(()=>{class e{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new vp(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(C(or),C(Br),C(Qa,9))},e.\u0275dir=W({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),bp=(()=>{class e{constructor(t,r,i){i._addDefault(new vp(t,r))}}return e.\u0275fac=function(t){return new(t||e)(C(or),C(Br),C(Qa,9))},e.\u0275dir=W({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Iw=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(C(or))},e.\u0275dir=W({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Bt]}),e})();function ur(e,n){return new fe(2100,"")}class n2{createSubscription(n,t){return n.subscribe({next:t,error:r=>{throw r}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class r2{createSubscription(n,t){return n.then(t,r=>{throw r})}dispose(n){}onDestroy(n){}}const i2=new r2,s2=new n2;let xw=(()=>{class e{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Na(t))return i2;if(R_(t))return s2;throw ur()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(C(Kt,16))},e.\u0275pipe=rn({name:"async",type:e,pure:!1}),e})();const c2=new se("DATE_PIPE_DEFAULT_TIMEZONE");let Oo=(()=>{class e{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){var o;if(null==t||""===t||t!=t)return null;try{return xP(t,r,s||this.locale,null!==(o=null!=i?i:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw ur()}}}return e.\u0275fac=function(t){return new(t||e)(C(mi,16),C(c2,24))},e.\u0275pipe=rn({name:"date",type:e,pure:!0}),e})(),Ow=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({providers:[{provide:hc,useClass:QP}]}),e})();const Rw="browser";function Nw(e){return e===Rw}let kw=(()=>{class e{}return e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new E2(F(Et),window)}),e})();class E2{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function S2(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Fw(this.window.history)||Fw(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Fw(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Pw{}class Cp extends class T2 extends class aP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oP(e){nc||(nc=e)}(new Cp)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function A2(){return Xa=Xa||document.querySelector("base"),Xa?Xa.getAttribute("href"):null}();return null==t?null:function I2(e){pc=pc||document.createElement("a"),pc.setAttribute("href",e);const n=pc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ew(document.cookie,n)}}let pc,Xa=null;const Lw=new se("TRANSITION_ID"),M2=[{provide:qa,useFactory:function x2(e,n,t){return()=>{t.get(Ao).donePromise.then(()=>{const r=Sr(),i=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Lw,Et,ht],multi:!0}];class Ep{static init(){!function SF(e){np=e}(new Ep)}addToWindow(n){xe.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},xe.getAllAngularTestabilities=()=>n.getAllTestabilities(),xe.getAllAngularRootElements=()=>n.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,t,r){if(null==t)return null;const i=n.getTestability(t);return null!=i?i:r?Sr().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}}let O2=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const Za=new se("EventManagerPlugins");let gc=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(F(Za),F(Xe))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();class Sp{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const i=Sr().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Vw=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),Ja=(()=>{class e extends Vw{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Uw),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Uw))}}return e.\u0275fac=function(t){return new(t||e)(F(Et))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();function Uw(e){Sr().remove(e)}const Tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ap=/%COMP%/g;function mc(e,n,t){for(let r=0;r<n.length;r++){let i=n[r];Array.isArray(i)?mc(e,i,t):(i=i.replace(Ap,e),t.push(i))}return t}function $w(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let yc=(()=>{class e{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ip(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Yn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new L2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Yn.ShadowDom:return new V2(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=mc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(F(gc),F(Ja),F(Ga))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();class Ip{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(Tp[t],n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){n.appendChild(t)}insertBefore(n,t,r){n&&n.insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=Tp[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Tp[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(fn.DashCase|fn.Important)?n.style.setProperty(t,r,i&fn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&fn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,$w(r)):this.eventManager.addEventListener(n,t,$w(r))}}class L2 extends Ip{constructor(n,t,r,i){super(n),this.component=r;const s=mc(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function k2(e){return"_ngcontent-%COMP%".replace(Ap,e)}(i+"-"+r.id),this.hostAttr=function F2(e){return"_nghost-%COMP%".replace(Ap,e)}(i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class V2 extends Ip{constructor(n,t,r,i){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=mc(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let U2=(()=>{class e extends Sp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(F(Et))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const zw=["alt","control","meta","shift"],j2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qw={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let H2=(()=>{class e extends Sp{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="";if(zw.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function z2(e){let n=e.key;if(null==n){if(n=e.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===e.location&&qw.hasOwnProperty(n)&&(n=qw[n]))}return j2[n]||n}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),zw.forEach(s=>{s!=i&&$2[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{e.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(F(Et))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const K2=Wb(XF,"browser",[{provide:Io,useValue:Rw},{provide:Ub,useValue:function q2(){Cp.makeCurrent(),Ep.init()},multi:!0},{provide:Et,useFactory:function W2(){return function _I(e){zd=e}(document),document},deps:[]}]),Y2=[{provide:sh,useValue:"root"},{provide:Xi,useFactory:function G2(){return new Xi},deps:[]},{provide:Za,useClass:U2,multi:!0,deps:[Et,Xe,Io]},{provide:Za,useClass:H2,multi:!0,deps:[Et]},{provide:yc,useClass:yc,deps:[gc,Ja,Ga]},{provide:Ua,useExisting:yc},{provide:Vw,useExisting:Ja},{provide:Ja,useClass:Ja,deps:[Et]},{provide:tp,useClass:tp,deps:[Xe]},{provide:gc,useClass:gc,deps:[Za,Xe]},{provide:Pw,useClass:O2,deps:[]}];let Gw=(()=>{class e{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Ga,useValue:t.appId},{provide:Lw,useExisting:Ga},M2]}}}return e.\u0275fac=function(t){return new(t||e)(F(e,12))},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({providers:Y2,imports:[Ow,iP]}),e})();"undefined"!=typeof window&&window;const sL={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Mp=new se("HammerGestureConfig"),Yw=new se("HammerLoader");let oL=(()=>{class e{constructor(){this.events=[],this.overrides={}}buildHammer(t){const r=new Hammer(t,this.options);r.get("pinch").set({enable:!0}),r.get("rotate").set({enable:!0});for(const i in this.overrides)r.get(i).set(this.overrides[i]);return r}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),aL=(()=>{class e extends Sp{constructor(t,r,i,s){super(t),this._config=r,this.console=i,this.loader=s,this._loaderPromise=null}supports(t){return!(!sL.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader)}addEventListener(t,r,i){const s=this.manager.getZone();if(r=r.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();let o=!1,a=()=>{o=!0};return this._loaderPromise.then(()=>{window.Hammer?o||(a=this.addEventListener(t,r,i)):a=()=>{}}).catch(()=>{a=()=>{}}),()=>{a()}}return s.runOutsideAngular(()=>{const o=this._config.buildHammer(t),a=function(l){s.runGuarded(function(){i(l)})};return o.on(r,a),()=>{o.off(r,a),"function"==typeof o.destroy&&o.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}return e.\u0275fac=function(t){return new(t||e)(F(Et),F(Mp),F(Ju),F(Yw,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),lL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({providers:[{provide:Za,useClass:aL,multi:!0,deps:[Et,Mp,Ju,[new Jn,Yw]]},{provide:Mp,useClass:oL,deps:[]}]}),e})();class Qw{}const Hr="*";function zr(e,n){return{type:7,name:e,definitions:n,options:{}}}function qr(e,n=null){return{type:4,styles:n,timings:e}}function Xw(e,n=null){return{type:3,steps:e,options:n}}function Zw(e,n=null){return{type:2,steps:e,options:n}}function qe(e){return{type:6,styles:e,offset:null}}function ss(e){return{type:5,steps:e}}function mn(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}function os(e,n=null){return{type:8,animation:e,options:n}}function el(e=null){return{type:9,options:e}}function dL(e,n=null){return{type:10,animation:e,options:n}}function Gr(e,n,t=null){return{type:11,selector:e,animation:n,options:t}}function Jw(e){Promise.resolve(null).then(e)}class Ro{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Jw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class e1{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const s=this.players.length;0==s?Jw(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function t1(){return"undefined"!=typeof window&&void 0!==window.document}function Rp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bi(e){switch(e.length){case 0:return new Ro;case 1:return e[0];default:return new e1(e)}}function n1(e,n,t,r,i={},s={}){const o=[],a=[];let l=-1,u=null;if(r.forEach(c=>{const d=c.offset,f=d==l,p=f&&u||{};Object.keys(c).forEach(v=>{let _=v,T=c[v];if("offset"!==v)switch(_=n.normalizePropertyName(_,o),T){case"!":T=i[v];break;case Hr:T=s[v];break;default:T=n.normalizeStyleValue(v,_,T,o)}p[_]=T}),f||a.push(p),u=p,l=d}),o.length){const c="\n - ";throw new Error(`Unable to animate due to the following errors:${c}${o.join(c)}`)}return a}function Np(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&kp(t,"start",e)));break;case"done":e.onDone(()=>r(t&&kp(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&kp(t,"destroy",e)))}}function kp(e,n,t){const r=t.totalTime,s=Fp(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,null==r?e.totalTime:r,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function Fp(e,n,t,r,i="",s=0,o){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function yn(e,n,t){let r;return e instanceof Map?(r=e.get(n),r||e.set(n,r=t)):(r=e[n],r||(r=e[n]=t)),r}function r1(e){const n=e.indexOf(":");return[e.substring(1,n),e.substr(n+1)]}let Pp=(e,n)=>!1,i1=(e,n,t)=>[];(Rp()||"undefined"!=typeof Element)&&(Pp=t1()?(e,n)=>{for(;n&&n!==document.documentElement;){if(n===e)return!0;n=n.parentNode||n.host}return!1}:(e,n)=>e.contains(n),i1=(e,n,t)=>{if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]});let as=null,s1=!1;function Lp(e){as||(as=function hL(){return"undefined"!=typeof document?document.body:null}()||{},s1=!!as.style&&"WebkitAppearance"in as.style);let n=!0;return as.style&&!function fL(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in as.style,!n&&s1&&(n="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in as.style)),n}const Vp=Pp,Up=i1;function o1(e){const n={};return Object.keys(e).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");n[r]=e[t]}),n}let a1=(()=>{class e{validateStyleProperty(t){return Lp(t)}matchesElement(t,r){return!1}containsElement(t,r){return Vp(t,r)}query(t,r,i){return Up(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Ro(i,s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),Bp=(()=>{class e{}return e.NOOP=new a1,e})();const jp="ng-enter",vc="ng-leave",_c="ng-trigger",bc=".ng-trigger",u1="ng-animating",$p=".ng-animating";function ls(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Hp(parseFloat(n[1]),n[2])}function Hp(e,n){return"s"===n?1e3*e:e}function wc(e,n,t){return e.hasOwnProperty("duration")?e:function mL(e,n,t){let i,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=Hp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Hp(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=e;if(!t){let a=!1,l=n.length;i<0&&(n.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(n.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&n.splice(l,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:s,easing:o}}(e,n,t)}function No(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function wi(e,n,t={}){if(n)for(let r in e)t[r]=e[r];else No(e,t);return t}function d1(e,n,t){return t?n+":"+t+";":""}function f1(e){let n="";for(let t=0;t<e.style.length;t++){const r=e.style.item(t);n+=d1(0,r,e.style.getPropertyValue(r))}for(const t in e.style)e.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=d1(0,_L(t),e.style[t]));e.setAttribute("style",n)}function Tr(e,n,t){e.style&&(Object.keys(n).forEach(r=>{const i=qp(r);t&&!t.hasOwnProperty(r)&&(t[r]=e.style[i]),e.style[i]=n[r]}),Rp()&&f1(e))}function us(e,n){e.style&&(Object.keys(n).forEach(t=>{const r=qp(t);e.style[r]=""}),Rp()&&f1(e))}function tl(e){return Array.isArray(e)?1==e.length?e[0]:Zw(e):e}const zp=new RegExp("{{\\s*(.+?)\\s*}}","g");function h1(e){let n=[];if("string"==typeof e){let t;for(;t=zp.exec(e);)n.push(t[1]);zp.lastIndex=0}return n}function Dc(e,n,t){const r=e.toString(),i=r.replace(zp,(s,o)=>{let a=n[o];return n.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?e:i}function Cc(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const vL=/-+([a-z0-9])/g;function qp(e){return e.replace(vL,(...n)=>n[1].toUpperCase())}function _L(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function p1(e,n){return 0===e||0===n}function g1(e,n,t){const r=Object.keys(t);if(r.length&&n.length){let s=n[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<n.length;i++){let a=n[i];o.forEach(function(l){a[l]=Gp(e,l)})}}return n}function vn(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function Gp(e,n){return window.getComputedStyle(e)[n]}function bL(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function wL(e,n,t){if(":"==e[0]){const l=function DL(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${e}" is not supported`),n;const i=r[1],s=r[2],o=r[3];n.push(m1(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&n.push(m1(o,i))}(r,t,n)):t.push(e),t}const Sc=new Set(["true","1"]),Tc=new Set(["false","0"]);function m1(e,n){const t=Sc.has(e)||Tc.has(e),r=Sc.has(n)||Tc.has(n);return(i,s)=>{let o="*"==e||e==i,a="*"==n||n==s;return!o&&t&&"boolean"==typeof i&&(o=i?Sc.has(e):Tc.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?Sc.has(n):Tc.has(n)),o&&a}}const CL=new RegExp("s*:selfs*,?","g");function Wp(e,n,t){return new EL(e).build(n,t)}class EL{constructor(n){this._driver=n}build(n,t){const r=new AL(t);return this._resetContextStyleTimingState(r),vn(this,tl(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==n.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(Ac(a)){const l=a;Object.keys(l).forEach(u=>{h1(l[u]).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}}),s.size){const a=Cc(s.values());t.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=vn(this,tl(n.animation),t);return{type:1,matchers:bL(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:cs(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>vn(this,r,t)),options:cs(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const s=n.steps.map(o=>{t.currentTime=r;const a=vn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:cs(n.options)}}visitAnimate(n,t){const r=function xL(e,n){let t=null;if(e.hasOwnProperty("duration"))t=e;else if("number"==typeof e)return Kp(wc(e,n).duration,0,"");const r=e;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Kp(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||wc(r,n),Kp(t.duration,t.delay,t.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,s=n.styles?n.styles:qe({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=n.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=qe(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[];Array.isArray(n.styles)?n.styles.forEach(o=>{"string"==typeof o?o==Hr?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(n.styles);let i=!1,s=null;return r.forEach(o=>{if(Ac(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let u in a)if(a[u].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:n.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],u=l[a];let c=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${u.startTime}ms" and "${u.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),c=!1),s=u.startTime),c&&(l[a]={startTime:s,endTime:i}),t.options&&function yL(e,n,t){const r=n.params||{},i=h1(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,l=!1,u=0;const c=n.steps.map(x=>{const S=this._makeStyleAst(x,t);let P=null!=S.offset?S.offset:function IL(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(Ac(t)&&t.hasOwnProperty("offset")){const r=t;n=parseFloat(r.offset),delete r.offset}});else if(Ac(e)&&e.hasOwnProperty("offset")){const t=e;n=parseFloat(t.offset),delete t.offset}return n}(S.styles),B=0;return null!=P&&(s++,B=S.offset=P),l=l||B<0||B>1,a=a||B<u,u=B,o.push(B),S});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=n.steps.length;let f=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(f=1/(d-1));const p=d-1,v=t.currentTime,_=t.currentAnimateTimings,T=_.duration;return c.forEach((x,S)=>{const P=f>0?S==p?1:f*S:o[S],B=P*T;t.currentTime=v+_.delay+B,_.duration=B,this._validateStyleAst(x,t),x.offset=P,r.styles.push(x)}),r}visitReference(n,t){return{type:8,animation:vn(this,tl(n.animation),t),options:cs(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:cs(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:cs(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[s,o]=function SL(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(CL,"")),e=e.replace(/@\*/g,bc).replace(/@\w+/g,t=>bc+"-"+t.substr(1)).replace(/:animating/g,$p),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+s:s,yn(t.collectedStyles,t.currentQuerySelector,{});const a=vn(this,tl(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:cs(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:wc(n.timings,t.errors,!0);return{type:12,animation:vn(this,tl(n.animation),t),timings:r,options:null}}}class AL{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ac(e){return!Array.isArray(e)&&"object"==typeof e}function cs(e){return e?(e=No(e)).params&&(e.params=function TL(e){return e?No(e):null}(e.params)):e={},e}function Kp(e,n,t){return{duration:e,delay:n,easing:t}}function Yp(e,n,t,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ic{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const RL=new RegExp(":enter","g"),kL=new RegExp(":leave","g");function Qp(e,n,t,r,i,s={},o={},a,l,u=[]){return(new FL).buildKeyframes(e,n,t,r,i,s,o,a,l,u)}class FL{buildKeyframes(n,t,r,i,s,o,a,l,u,c=[]){u=u||new Ic;const d=new Xp(n,t,u,i,s,c,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),vn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(Object.keys(a).length){let p;for(let v=f.length-1;v>=0;v--){const _=f[v];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[Yp(t,[],[],[],0,0,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_visitSubInstructions(n,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ls(r.duration):null,a=null!=r.delay?ls(r.delay):null;return 0!==o&&n.forEach(l=>{const u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(n,t){t.updateOptions(n.options,!0),vn(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const s=n.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xc);const o=ls(s.delay);i.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>vn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const s=n.options&&n.options.delay?ls(n.options.delay):0;n.steps.forEach(o=>{const a=t.createSubContext(n.options);s&&a.delayNextStep(s),vn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return wc(t.params?Dc(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},s=i.delay?ls(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xc);let o=r;const a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(n.options,u);s&&d.delayNextStep(s),u===t.element&&(l=d.currentTimeline),vn(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;vn(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const xc={};class Xp{constructor(n,t,r,i,s,o,a,l){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Mc(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=ls(r.duration)),null!=r.delay&&(i.delay=ls(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Dc(s[a],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,s=new Xp(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=xc,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:null!=t?t:n.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+n.delay,easing:""},s=new PL(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,s,o){let a=[];if(i&&a.push(this.element),n.length>0){n=(n=n.replace(RL,"."+this._enterClassName)).replace(kL,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Mc{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new Mc(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles[n]=t,this._globalTimelineStyles[n]=t,this._styleSummary[n]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Hr,this._currentKeyframe[t]=Hr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function LL(e,n){const t={};let r;return e.forEach(i=>{"*"===i?(r=r||Object.keys(n),r.forEach(s=>{t[s]=Hr})):wi(i,!1,t)}),t}(n,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Dc(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Hr),this._updateStyle(a,l)})}applyStylesToKeyframe(){const n=this._pendingStyles,t=Object.keys(n);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=n[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const t=this._localTimelineStyles[n];this._pendingStyles[n]=t,this._updateStyle(n,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=n._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=wi(a,!0);Object.keys(u).forEach(c=>{const d=u[c];"!"==d?n.add(c):d==Hr&&t.add(c)}),r||(u.offset=l/this.duration),i.push(u)});const s=n.size?Cc(n.values()):[],o=t.size?Cc(t.values()):[];if(r){const a=i[0],l=No(a);a.offset=0,l.offset=1,i=[a,l]}return Yp(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class PL extends Mc{constructor(n,t,r,i,s,o,a=!1){super(n,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=wi(n[0],!1);l.offset=0,s.push(l);const u=wi(n[0],!1);u.offset=_1(a),s.push(u);const c=n.length-1;for(let d=1;d<=c;d++){let f=wi(n[d],!1);f.offset=_1((t+f.offset*r)/o),s.push(f)}r=o,t=0,i="",n=s}return Yp(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function _1(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class Zp{}class VL extends Zp{normalizePropertyName(n,t){return qp(n)}normalizeStyleValue(n,t,r,i){let s="";const o=r.toString().trim();if(UL[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${n}:${r}`)}return o+s}}const UL=(()=>function BL(e){const n={};return e.forEach(t=>n[t]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function b1(e,n,t,r,i,s,o,a,l,u,c,d,f){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:f}}const Jp={};class w1{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function jL(e,n,t,r,i){return e.some(s=>s(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){const i=this._stateStyles["*"],s=this._stateStyles[n],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(n,t,r,i,s,o,a,l,u,c){const d=[],f=this.ast.options&&this.ast.options.params||Jp,v=this.buildStyles(r,a&&a.params||Jp,d),_=l&&l.params||Jp,T=this.buildStyles(i,_,d),x=new Set,S=new Map,P=new Map,B="void"===i,Q={params:Object.assign(Object.assign({},f),_)},Ne=c?[]:Qp(n,t,this.ast.animation,s,o,v,T,Q,u,d);let Ve=0;if(Ne.forEach(ce=>{Ve=Math.max(ce.duration+ce.delay,Ve)}),d.length)return b1(t,this._triggerName,r,i,B,v,T,[],[],S,P,Ve,d);Ne.forEach(ce=>{const mt=ce.element,Mr=yn(S,mt,{});ce.preStyleProps.forEach(de=>Mr[de]=!0);const Bn=yn(P,mt,{});ce.postStyleProps.forEach(de=>Bn[de]=!0),mt!==t&&x.add(mt)});const Tt=Cc(x.values());return b1(t,this._triggerName,r,i,B,v,T,Ne,Tt,S,P,Ve)}}class $L{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r={},i=No(this.defaultParams);return Object.keys(n).forEach(s=>{const o=n[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Dc(l,i,t));const u=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,u,l,t),r[u]=l})}}),r}}class zL{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new $L(i.style,i.options&&i.options.params||{},r)}),D1(this.states,"true","1"),D1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new w1(n,i,this.states))}),this.fallbackTransition=function qL(e,n,t){return new w1(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(o=>o.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function D1(e,n,t){e.hasOwnProperty(n)?e.hasOwnProperty(t)||(e[t]=e[n]):e.hasOwnProperty(t)&&(e[n]=e[t])}const GL=new Ic;class WL{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(n,t){const r=[],i=Wp(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[n]=i}_buildPlayer(n,t,r){const i=n.element,s=n1(0,this._normalizer,0,n.keyframes,t,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],s=this._animations[n];let o;const a=new Map;if(s?(o=Qp(this._driver,t,s,jp,vc,{},{},r,GL,i),o.forEach(c=>{const d=yn(a,c.element,{});c.postStyleProps.forEach(f=>d[f]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((c,d)=>{Object.keys(c).forEach(f=>{c[f]=this._driver.computeStyle(d,f,Hr)})});const u=bi(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[n]=u,u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const t=this._getPlayer(n);t.destroy(),delete this._playersById[n];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById[n];if(!t)throw new Error(`Unable to find the timeline player referenced by ${n}`);return t}listen(n,t,r,i){const s=Fp(t,"","","");return Np(this._getPlayer(n),r,s,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const C1="ng-animate-queued",eg="ng-animate-disabled",ZL=[],E1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pn="__ng_removed";class tg{constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function r3(e){return null!=e?e:null}(r?n.value:n),r){const s=No(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const nl="void",ng=new tg(nl);class e3{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ln(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function i3(e){return"start"==e||"done"==e}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=yn(this._elementListeners,n,[]),o={name:t,phase:r,callback:i};s.push(o);const a=yn(this._engine.statesByElement,n,{});return a.hasOwnProperty(t)||(Ln(n,_c),Ln(n,_c+"-"+t),a[t]=ng),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(n,t){return!this._triggers[n]&&(this._triggers[n]=t,!0)}_getTrigger(n){const t=this._triggers[n];if(!t)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return t}trigger(n,t,r,i=!0){const s=this._getTrigger(t),o=new rg(this.id,t,n);let a=this._engine.statesByElement.get(n);a||(Ln(n,_c),Ln(n,_c+"-"+t),this._engine.statesByElement.set(n,a={}));let l=a[t];const u=new tg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[t]=u,l||(l=ng),u.value!==nl&&l.value===u.value){if(!function a3(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!n.hasOwnProperty(s)||e[s]!==n[s])return!1}return!0}(l.params,u.params)){const _=[],T=s.matchStyles(l.value,l.params,_),x=s.matchStyles(u.value,u.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{us(n,T),Tr(n,x)})}return}const f=yn(this._engine.playersByElement,n,[]);f.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let p=s.matchTransition(l.value,u.value,n,u.params),v=!1;if(!p){if(!i)return;p=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:p,fromState:l,toState:u,player:o,isFallbackTransition:v}),v||(Ln(n,C1),o.onStart(()=>{ko(n,C1)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const T=this._engine.playersByElement.get(n);if(T){let x=T.indexOf(o);x>=0&&T.splice(x,1)}}),this.players.push(o),f.push(o),o}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((t,r)=>{delete t[n]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,bc,!0);r.forEach(i=>{if(i[Pn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const s=this._engine.statesByElement.get(n),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const u=this.trigger(n,l,nl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,o),r&&bi(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,u=r[o]||ng,c=new tg(nl),d=new rg(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let o=n;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const s=n[Pn];(!s||s===E1)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){Ln(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=Fp(s,r.triggerName,r.fromState.value,r.toState.value);l._data=n,Np(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let t=!1;return this._elementListeners.has(n)&&(t=!0),t=!!this._queue.find(r=>r.element===n)||t,t}}class t3{constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new e3(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,n),i=!0;break}i||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(n,t,r,i){if(Oc(t)){const s=this._fetchNamespace(n);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!Oc(t))return;const s=t[Pn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ln(n,eg)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ko(n,eg))}removeNode(n,t,r,i){if(Oc(t)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(n,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(n,t,r,i,s){this.collectedLeaveElements.push(t),t[Pn]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,t,r,i,s){return Oc(t)?this._fetchNamespace(n).listen(t,r,i,s):()=>{}}_buildInstruction(n,t,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,s)}destroyInnerAnimations(n){let t=this.driver.query(n,bc,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,$p,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return bi(this.players).onDone(()=>n());n()})}processLeaveNode(n){var t;const r=n[Pn];if(r&&r.setForRemoval){if(n[Pn]=E1,r.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}(null===(t=n.classList)||void 0===t?void 0:t.contains(eg))&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ln(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?bi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,t){const r=new Ic,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(j=>{c.add(j);const q=this.driver.query(j,".ng-animate-queued",!0);for(let K=0;K<q.length;K++)c.add(q[K])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=A1(f,this.collectedEnterElements),v=new Map;let _=0;p.forEach((j,q)=>{const K=jp+_++;v.set(q,K),j.forEach(Ee=>Ln(Ee,K))});const T=[],x=new Set,S=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const q=this.collectedLeaveElements[j],K=q[Pn];K&&K.setForRemoval&&(T.push(q),x.add(q),K.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(Ee=>x.add(Ee)):S.add(q))}const P=new Map,B=A1(f,Array.from(x));B.forEach((j,q)=>{const K=vc+_++;P.set(q,K),j.forEach(Ee=>Ln(Ee,K))}),n.push(()=>{p.forEach((j,q)=>{const K=v.get(q);j.forEach(Ee=>ko(Ee,K))}),B.forEach((j,q)=>{const K=P.get(q);j.forEach(Ee=>ko(Ee,K))}),T.forEach(j=>{this.processLeaveNode(j)})});const Q=[],Ne=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(K=>{const Ee=K.player,wt=K.element;if(Q.push(Ee),this.collectedEnterElements.length){const Xt=wt[Pn];if(Xt&&Xt.setForMove){if(Xt.previousTriggersValues&&Xt.previousTriggersValues.has(K.triggerName)){const bs=Xt.previousTriggersValues.get(K.triggerName),Ni=this.statesByElement.get(K.element);Ni&&Ni[K.triggerName]&&(Ni[K.triggerName].value=bs)}return void Ee.destroy()}}const Or=!d||!this.driver.containsElement(d,wt),Dn=P.get(wt),Ri=v.get(wt),Ge=this._buildInstruction(K,r,Ri,Dn,Or);if(Ge.errors&&Ge.errors.length)return void Ne.push(Ge);if(Or)return Ee.onStart(()=>us(wt,Ge.fromStyles)),Ee.onDestroy(()=>Tr(wt,Ge.toStyles)),void i.push(Ee);if(K.isFallbackTransition)return Ee.onStart(()=>us(wt,Ge.fromStyles)),Ee.onDestroy(()=>Tr(wt,Ge.toStyles)),void i.push(Ee);const zA=[];Ge.timelines.forEach(Xt=>{Xt.stretchStartingKeyframe=!0,this.disabledNodes.has(Xt.element)||zA.push(Xt)}),Ge.timelines=zA,r.append(wt,Ge.timelines),o.push({instruction:Ge,player:Ee,element:wt}),Ge.queriedElements.forEach(Xt=>yn(a,Xt,[]).push(Ee)),Ge.preStyleProps.forEach((Xt,bs)=>{const Ni=Object.keys(Xt);if(Ni.length){let ws=l.get(bs);ws||l.set(bs,ws=new Set),Ni.forEach(wm=>ws.add(wm))}}),Ge.postStyleProps.forEach((Xt,bs)=>{const Ni=Object.keys(Xt);let ws=u.get(bs);ws||u.set(bs,ws=new Set),Ni.forEach(wm=>ws.add(wm))})});if(Ne.length){const j=[];Ne.forEach(q=>{j.push(`@${q.triggerName} has failed due to:\n`),q.errors.forEach(K=>j.push(`- ${K}\n`))}),Q.forEach(q=>q.destroy()),this.reportError(j)}const Ve=new Map,Tt=new Map;o.forEach(j=>{const q=j.element;r.has(q)&&(Tt.set(q,q),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,Ve))}),i.forEach(j=>{const q=j.element;this._getPreviousPlayers(q,!1,j.namespaceId,j.triggerName,null).forEach(Ee=>{yn(Ve,q,[]).push(Ee),Ee.destroy()})});const ce=T.filter(j=>x1(j,l,u)),mt=new Map;T1(mt,this.driver,S,u,Hr).forEach(j=>{x1(j,l,u)&&ce.push(j)});const Bn=new Map;p.forEach((j,q)=>{T1(Bn,this.driver,new Set(j),l,"!")}),ce.forEach(j=>{const q=mt.get(j),K=Bn.get(j);mt.set(j,Object.assign(Object.assign({},q),K))});const de=[],X=[],oe={};o.forEach(j=>{const{element:q,player:K,instruction:Ee}=j;if(r.has(q)){if(c.has(q))return K.onDestroy(()=>Tr(q,Ee.toStyles)),K.disabled=!0,K.overrideTotalTime(Ee.totalTime),void i.push(K);let wt=oe;if(Tt.size>1){let Dn=q;const Ri=[];for(;Dn=Dn.parentNode;){const Ge=Tt.get(Dn);if(Ge){wt=Ge;break}Ri.push(Dn)}Ri.forEach(Ge=>Tt.set(Ge,wt))}const Or=this._buildAnimation(K.namespaceId,Ee,Ve,s,Bn,mt);if(K.setRealPlayer(Or),wt===oe)de.push(K);else{const Dn=this.playersByElement.get(wt);Dn&&Dn.length&&(K.parentPlayer=bi(Dn)),i.push(K)}}else us(q,Ee.fromStyles),K.onDestroy(()=>Tr(q,Ee.toStyles)),X.push(K),c.has(q)&&i.push(K)}),X.forEach(j=>{const q=s.get(j.element);if(q&&q.length){const K=bi(q);j.setRealPlayer(K)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<T.length;j++){const q=T[j],K=q[Pn];if(ko(q,vc),K&&K.hasAnimation)continue;let Ee=[];if(a.size){let Or=a.get(q);Or&&Or.length&&Ee.push(...Or);let Dn=this.driver.query(q,$p,!0);for(let Ri=0;Ri<Dn.length;Ri++){let Ge=a.get(Dn[Ri]);Ge&&Ge.length&&Ee.push(...Ge)}}const wt=Ee.filter(Or=>!Or.destroyed);wt.length?s3(this,q,wt):this.processLeaveNode(q)}return T.length=0,de.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const q=this.players.indexOf(j);this.players.splice(q,1)}),j.play()}),de}elementContainsData(n,t){let r=!1;const i=t[Pn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(n).elementContainsData(t)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(n);a&&(o=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==nl;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(n,t,r){const s=t.element,o=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,c=u!==s,d=yn(r,u,[]);this._getPreviousPlayers(u,c,o,a,t.toState).forEach(p=>{const v=p.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),p.destroy(),d.push(p)})}us(s,t.fromStyles)}_buildAnimation(n,t,r,i,s,o){const a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,f=t.timelines.map(v=>{const _=v.element;c.add(_);const T=_[Pn];if(T&&T.removedBeforeQueried)return new Ro(v.duration,v.delay);const x=_!==l,S=function o3(e){const n=[];return I1(e,n),n}((r.get(_)||ZL).map(Ve=>Ve.getRealPlayer())).filter(Ve=>!!Ve.element&&Ve.element===_),P=s.get(_),B=o.get(_),Q=n1(0,this._normalizer,0,v.keyframes,P,B),Ne=this._buildPlayer(v,Q,S);if(v.subTimeline&&i&&d.add(_),x){const Ve=new rg(n,a,_);Ve.setRealPlayer(Ne),u.push(Ve)}return Ne});u.forEach(v=>{yn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function n3(e,n,t){let r;if(e instanceof Map){if(r=e.get(n),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}}else if(r=e[n],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete e[n]}return r}(this.playersByQueriedElement,v.element,v))}),c.forEach(v=>Ln(v,u1));const p=bi(f);return p.onDestroy(()=>{c.forEach(v=>ko(v,u1)),Tr(l,t.toStyles)}),d.forEach(v=>{yn(i,v,[]).push(p)}),p}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new Ro(n.duration,n.delay)}}class rg{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new Ro,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Np(n,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){yn(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function Oc(e){return e&&1===e.nodeType}function S1(e,n){const t=e.style.display;return e.style.display=null!=n?n:"none",t}function T1(e,n,t,r,i){const s=[];t.forEach(l=>s.push(S1(l)));const o=[];r.forEach((l,u)=>{const c={};l.forEach(d=>{const f=c[d]=n.computeStyle(u,d,i);(!f||0==f.length)&&(u[Pn]=JL,o.push(u))}),e.set(u,c)});let a=0;return t.forEach(l=>S1(l,s[a++])),o}function A1(e,n){const t=new Map;if(e.forEach(a=>t.set(a,[])),0==n.length)return t;const i=new Set(n),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return n.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Ln(e,n){var t;null===(t=e.classList)||void 0===t||t.add(n)}function ko(e,n){var t;null===(t=e.classList)||void 0===t||t.remove(n)}function s3(e,n,t){bi(t).onDone(()=>e.processLeaveNode(n))}function I1(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof e1?I1(r.players,n):n.push(r)}}function x1(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(s=>i.add(s)):n.set(e,r),t.delete(e),!0}class Rc{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new t3(n,t,r),this._timelineEngine=new WL(n,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,t,r,i,s){const o=n+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=Wp(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function HL(e,n,t){return new zL(e,n,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r,i){this._transitionEngine.removeNode(n,t,i||!1,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[s,o]=r1(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=r1(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(n,t,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function M1(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=ig(n[0]),n.length>1&&(r=ig(n[n.length-1]))):n&&(t=ig(n)),t||r?new l3(e,t,r):null}let l3=(()=>{class e{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Tr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tr(this._element,this._initialStyles),this._endStyles&&(Tr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(us(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(us(this._element,this._endStyles),this._endStyles=null),Tr(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function ig(e){let n=null;const t=Object.keys(e);for(let r=0;r<t.length;r++){const i=t[r];u3(i)&&(n=n||{},n[i]=e[i])}return n}function u3(e){return"display"===e||"position"===e}const O1="animation",R1="animationend";class f3{constructor(n,t,r,i,s,o,a){this._element=n,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function h3(e,n){const t=og(e,"").trim();let r=0;t.length&&(r=function g3(e,n){let t=0;for(let r=0;r<e.length;r++)e.charAt(r)===n&&t++;return t}(t,",")+1,n=`${t}, ${n}`),Nc(e,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),F1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){N1(this._element,this._name,"paused")}resume(){N1(this._element,this._name,"running")}setPosition(n){const t=k1(this._element,this._name);this._position=n*this._duration,Nc(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(n){const t=n._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),F1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function p3(e,n){const r=og(e,"").split(","),i=sg(r,n);i>=0&&(r.splice(i,1),Nc(e,"",r.join(",")))}(this._element,this._name))}}function N1(e,n,t){Nc(e,"PlayState",t,k1(e,n))}function k1(e,n){const t=og(e,"");return t.indexOf(",")>0?sg(t.split(","),n):sg([t],n)}function sg(e,n){for(let t=0;t<e.length;t++)if(e[t].indexOf(n)>=0)return t;return-1}function F1(e,n,t){t?e.removeEventListener(R1,n):e.addEventListener(R1,n)}function Nc(e,n,t,r){const i=O1+n;if(null!=r){const s=e.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}e.style[i]=t}function og(e,n){return e.style[O1+n]||""}class P1{constructor(n,t,r,i,s,o,a,l){this.element=n,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new f3(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(n[r]=t?this._finalStyles[r]:Gp(this.element,r))})}this.currentSnapshot=n}}class v3 extends Ro{constructor(n,t){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=o1(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const t=this._startingStyles[n];t?this.element.style.setProperty(n,t):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class V1{constructor(){this._count=0}validateStyleProperty(n){return Lp(n)}matchesElement(n,t){return!1}containsElement(n,t){return Vp(n,t)}query(n,t,r){return Up(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}buildKeyframeElement(n,t,r){r=r.map(a=>o1(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const l=parseFloat(a.offset);i+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(u=>{const c=a[u];switch(u){case"offset":return;case"easing":return void(c&&(i+=`${s}animation-timing-function: ${c};\n`));default:return void(i+=`${s}${u}: ${c};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(n,t,r,i,s,o=[],a){const l=o.filter(T=>T instanceof P1),u={};p1(r,i)&&l.forEach(T=>{let x=T.currentSnapshot;Object.keys(x).forEach(S=>u[S]=x[S])});const c=function w3(e){let n={};return e&&(Array.isArray(e)?e:[e]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(n[i]=r[i])})}),n}(t=g1(n,t,u));if(0==r)return new v3(n,c);const d="gen_css_kf_"+this._count++,f=this.buildKeyframeElement(n,d,t);(function b3(e){var n;const t=null===(n=e.getRootNode)||void 0===n?void 0:n.call(e);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(n).appendChild(f);const v=M1(n,t),_=new P1(n,t,d,r,i,s,c,v);return _.onDestroy(()=>function D3(e){e.parentNode.removeChild(e)}(f)),_}}class B1{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,t,r){return n.animate(t,r)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(n[r]=this._finished?t[r]:Gp(this.element,r))})}this.currentSnapshot=n}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class C3{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(j1().toString()),this._cssKeyframesDriver=new V1}validateStyleProperty(n){return Lp(n)}matchesElement(n,t){return!1}containsElement(n,t){return Vp(n,t)}query(n,t,r){return Up(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,t,r,i,s,o);const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const d={},f=o.filter(v=>v instanceof B1);p1(r,i)&&f.forEach(v=>{let _=v.currentSnapshot;Object.keys(_).forEach(T=>d[T]=_[T])});const p=M1(n,t=g1(n,t=t.map(v=>wi(v,!1)),d));return new B1(n,t,c,p)}}function j1(){return t1()&&Element.prototype.animate||{}}let S3=(()=>{class e extends Qw{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Yn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Zw(t):t;return $1(this._renderer,null,r,"register",[i]),new T3(r,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(F(Ua),F(Et))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();class T3 extends class cL{}{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new A3(this._id,n,t||{},this._renderer)}}class A3{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return $1(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,t;return null!==(t=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==t?t:0}}function $1(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const H1="@.disabled";let I3=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new z1("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(l),new x3(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(F(Ua),F(Rc),F(Xe))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();class z1{constructor(n,t,r){this.namespaceId=n,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==H1?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class x3 extends z1{constructor(n,t,r,i){super(t,r,i),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==H1?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.substr(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function M3(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function O3(e){const n=e.indexOf(".");return[e.substring(0,n),e.substr(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(n,t,r)}}let R3=(()=>{class e extends Rc{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(F(Et),F(Bp),F(Zp))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const q1=new se("AnimationModuleType"),G1=[{provide:Qw,useClass:S3},{provide:Zp,useFactory:function k3(){return new VL}},{provide:Rc,useClass:R3},{provide:Ua,useFactory:function F3(e,n,t){return new I3(e,n,t)},deps:[yc,Rc,Xe]}],W1=[{provide:Bp,useFactory:function N3(){return function E3(){return"function"==typeof j1()}()?new C3:new V1}},{provide:q1,useValue:"BrowserAnimations"},...G1],P3=[{provide:Bp,useClass:a1},{provide:q1,useValue:"NoopAnimations"},...G1];let L3=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?P3:W1}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({providers:W1,imports:[Gw]}),e})();function ee(...e){return et(e,$i(e))}class cr extends lt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const{isArray:V3}=Array,{getPrototypeOf:U3,prototype:B3,keys:j3}=Object;function K1(e){if(1===e.length){const n=e[0];if(V3(n))return{args:n,keys:null};if(function $3(e){return e&&"object"==typeof e&&U3(e)===B3}(n)){const t=j3(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:H3}=Array;function ag(e){return te(n=>function z3(e,n){return H3(n)?e(...n):e(n)}(e,n))}function Y1(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Q1(e,n,t){e?Hn(t,e,n):n()}const rl=vt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Fo(...e){return function W3(){return hr(1)}()(et(e,$i(e)))}function Fc(e){return new Ce(n=>{an(e()).subscribe(n)})}function X1(){return Ze((e,n)=>{let t=null;e._refCount++;const r=new Ue(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class Z1 extends Ce{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ll(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ae;const t=this.getSubject();n.add(this.source.subscribe(new Ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ae.EMPTY)}return n}refCount(){return X1()(this)}}function _n(e,n){return Ze((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new Ue(r,l=>{null==i||i.unsubscribe();let u=0;const c=s++;an(e(l,c)).subscribe(i=new Ue(r,d=>r.next(n?n(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Y3(e,n,t,r,i){return(s,o)=>{let a=t,l=n,u=0;s.subscribe(new Ue(o,c=>{const d=u++;l=a?e(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function J1(e,n){return Ze(Y3(e,n,arguments.length>=2,!0))}function bn(e,n){return Ze((t,r)=>{let i=0;t.subscribe(new Ue(r,s=>e.call(n,s,i++)&&r.next(s)))})}function Di(e){return Ze((n,t)=>{let s,r=null,i=!1;r=n.subscribe(new Ue(t,void 0,void 0,o=>{s=an(e(o,Di(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Po(e,n){return pe(n)?We(e,n,1):We(e,1)}function lg(e){return e<=0?()=>zn:Ze((n,t)=>{let r=[];n.subscribe(new Ue(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function eD(e=Q3){return Ze((n,t)=>{let r=!1;n.subscribe(new Ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function Q3(){return new rl}function tD(e){return Ze((n,t)=>{let r=!1;n.subscribe(new Ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Ci(e,n){const t=arguments.length>=2;return r=>r.pipe(e?bn((i,s)=>e(i,s,r)):En,Dt(1),t?tD(n):eD(()=>new rl))}function Ft(e,n,t){const r=pe(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ze((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Ue(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):En}function nD(e){return Ze((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}class Wr{constructor(n,t){this.id=n,this.url=t}}class ug extends Wr{constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class il extends Wr{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rD extends Wr{constructor(n,t,r){super(n,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z3 extends Wr{constructor(n,t,r){super(n,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J3 extends Wr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eV extends Wr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tV extends Wr{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nV extends Wr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rV extends Wr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iD{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sD{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iV{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sV{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oV{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aV{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cg{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ye="primary";class lV{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lo(e){return new lV(e)}const oD="ngNavigationCancelingError";function dg(e){const n=Error("NavigationCancelingError: "+e);return n[oD]=!0,n}function cV(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ar(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!aD(e[i],n[i]))return!1;return!0}function aD(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function lD(e){return Array.prototype.concat.apply([],e)}function uD(e){return e.length>0?e[e.length-1]:null}function St(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function Ir(e){return _h(e)?e:Na(e)?et(Promise.resolve(e)):ee(e)}const hV={exact:function fD(e,n,t){if(!fs(e.segments,n.segments)||!Pc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!fD(e.children[r],n.children[r],t))return!1;return!0},subset:hD},cD={exact:function pV(e,n){return Ar(e,n)},subset:function gV(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>aD(e[t],n[t]))},ignored:()=>!0};function dD(e,n,t){return hV[t.paths](e.root,n.root,t.matrixParams)&&cD[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function hD(e,n,t){return pD(e,n,n.segments,t)}function pD(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!fs(i,t)||n.hasChildren()||!Pc(i,t,r))}if(e.segments.length===t.length){if(!fs(e.segments,t)||!Pc(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!hD(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(fs(e.segments,i)&&Pc(e.segments,i,r)&&e.children[ye])&&pD(e.children[ye],n,s,r)}}function Pc(e,n,t){return n.every((r,i)=>cD[t](e[i].parameters,r.parameters))}class ds{constructor(n,t,r){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return vV.serialize(this)}}class be{constructor(n,t){this.segments=n,this.children=t,this.parent=null,St(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lc(this)}}class sl{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lo(this.parameters)),this._parameterMap}toString(){return _D(this)}}function fs(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}class gD{}class mD{parse(n){const t=new AV(n);return new ds(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${ol(n.root,!0)}`,r=function wV(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Vc(t)}=${Vc(i)}`).join("&"):`${Vc(t)}=${Vc(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function _V(e){return encodeURI(e)}(n.fragment)}`:""}`}}const vV=new mD;function Lc(e){return e.segments.map(n=>_D(n)).join("/")}function ol(e,n){if(!e.hasChildren())return Lc(e);if(n){const t=e.children[ye]?ol(e.children[ye],!1):"",r=[];return St(e.children,(i,s)=>{s!==ye&&r.push(`${s}:${ol(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function yV(e,n){let t=[];return St(e.children,(r,i)=>{i===ye&&(t=t.concat(n(r,i)))}),St(e.children,(r,i)=>{i!==ye&&(t=t.concat(n(r,i)))}),t}(e,(r,i)=>i===ye?[ol(e.children[ye],!1)]:[`${i}:${ol(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ye]?`${Lc(e)}/${t[0]}`:`${Lc(e)}/(${t.join("//")})`}}function yD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(e){return yD(e).replace(/%3B/gi,";")}function fg(e){return yD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uc(e){return decodeURIComponent(e)}function vD(e){return Uc(e.replace(/\+/g,"%20"))}function _D(e){return`${fg(e.path)}${function bV(e){return Object.keys(e).map(n=>`;${fg(n)}=${fg(e[n])}`).join("")}(e.parameters)}`}const DV=/^[^\/()?;=#]+/;function Bc(e){const n=e.match(DV);return n?n[0]:""}const CV=/^[^=?&#]+/,SV=/^[^&#]+/;class AV{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[ye]=new be(n,t)),r}parseSegment(){const n=Bc(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new sl(Uc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=Bc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Bc(this.remaining);i&&(r=i,this.capture(r))}n[Uc(t)]=Uc(r)}parseQueryParam(n){const t=function EV(e){const n=e.match(CV);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function TV(e){const n=e.match(SV);return n?n[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=vD(t),s=vD(r);if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)||(o=[o],n[i]=o),o.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=ye);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ye]:new be([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class bD{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=hg(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=hg(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=pg(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return pg(n,this._root).map(t=>t.value)}}function hg(e,n){if(e===n.value)return n;for(const t of n.children){const r=hg(e,t);if(r)return r}return null}function pg(e,n){if(e===n.value)return[n];for(const t of n.children){const r=pg(e,t);if(r.length)return r.unshift(n),r}return[]}class Kr{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vo(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class wD extends bD{constructor(n,t){super(n),this.snapshot=t,gg(this,n)}toString(){return this.snapshot.toString()}}function DD(e,n){const t=function IV(e,n){const o=new jc([],{},{},"",{},ye,n,null,e.root,-1,{});return new ED("",new Kr(o,[]))}(e,n),r=new cr([new sl("",{})]),i=new cr({}),s=new cr({}),o=new cr({}),a=new cr(""),l=new Ei(r,i,o,a,s,ye,n,t.root);return l.snapshot=t.root,new wD(new Kr(l,[]),t)}class Ei{constructor(n,t,r,i,s,o,a,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(te(n=>Lo(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(te(n=>Lo(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CD(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function xV(e){return e.reduce((n,t)=>({params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign({},n.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class jc{constructor(n,t,r,i,s,o,a,l,u,c,d){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ED extends bD{constructor(n,t){super(t),this.url=n,gg(this,t)}toString(){return SD(this._root)}}function gg(e,n){n.value._routerState=e,n.children.forEach(t=>gg(e,t))}function SD(e){const n=e.children.length>0?` { ${e.children.map(SD).join(", ")} } `:"";return`${e.value}${n}`}function mg(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ar(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),Ar(n.params,t.params)||e.params.next(t.params),function dV(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ar(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),Ar(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function yg(e,n){const t=Ar(e.params,n.params)&&function mV(e,n){return fs(e,n)&&e.every((t,r)=>Ar(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||yg(e.parent,n.parent))}function al(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function OV(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return al(e,r,i);return al(e,r)})}(e,n,t);return new Kr(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>al(e,a)),o}}const r=function RV(e){return new Ei(new cr(e.url),new cr(e.params),new cr(e.queryParams),new cr(e.fragment),new cr(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>al(e,s));return new Kr(r,i)}}function $c(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ll(e){return"object"==typeof e&&null!=e&&e.outlets}function vg(e,n,t,r,i){let s={};return r&&St(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new ds(t.root===e?n:TD(t.root,e,n),s,i)}function TD(e,n,t){const r={};return St(e.children,(i,s)=>{r[s]=i===n?t:TD(i,n,t)}),new be(e.segments,r)}class AD{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&$c(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ll);if(i&&i!==uD(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _g{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function ID(e,n,t){if(e||(e=new be([],{})),0===e.segments.length&&e.hasChildren())return Hc(e,n,t);const r=function VV(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const o=e.segments[i],a=t[r];if(ll(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!MD(l,u,o))return s;r+=2}else{if(!MD(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new be(e.segments.slice(0,r.pathIndex),{});return s.children[ye]=new be(e.segments.slice(r.pathIndex),e.children),Hc(s,0,i)}return r.match&&0===i.length?new be(e.segments,{}):r.match&&!e.hasChildren()?bg(e,n,t):r.match?Hc(e,0,i):bg(e,n,t)}function Hc(e,n,t){if(0===t.length)return new be(e.segments,{});{const r=function LV(e){return ll(e[0])?e[0].outlets:{[ye]:e}}(t),i={};return St(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ID(e.children[o],n,s))}),St(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new be(e.segments,i)}}function bg(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(ll(s)){const l=UV(s.outlets);return new be(r,l)}if(0===i&&$c(t[0])){r.push(new sl(e.segments[n].path,xD(t[0]))),i++;continue}const o=ll(s)?s.outlets[ye]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&$c(a)?(r.push(new sl(o,xD(a))),i+=2):(r.push(new sl(o,{})),i++)}return new be(r,{})}function UV(e){const n={};return St(e,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[r]=bg(new be([],{}),0,t))}),n}function xD(e){const n={};return St(e,(t,r)=>n[r]=`${t}`),n}function MD(e,n,t){return e==t.path&&Ar(n,t.parameters)}class jV{constructor(n,t,r,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),mg(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Vo(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),St(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Vo(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Vo(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,t,r){const i=Vo(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new aV(s.value.snapshot))}),n.children.length&&this.forwardEvent(new sV(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(mg(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),mg(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=function $V(e){for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,r)}}class wg{constructor(n,t){this.routes=n,this.module=t}}function Si(e){return"function"==typeof e}function hs(e){return e instanceof ds}const ul=Symbol("INITIAL_VALUE");function cl(){return _n(e=>function q3(...e){const n=$i(e),t=Qo(e),{args:r,keys:i}=K1(e);if(0===r.length)return et([],n);const s=new Ce(function G3(e,n,t=En){return r=>{Q1(n,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)Q1(n,()=>{const u=et(e[l],n);let c=!1;u.subscribe(new Ue(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,n,i?o=>Y1(i,o):En));return t?s.pipe(ag(t)):s}(e.map(n=>n.pipe(Dt(1),function K3(...e){const n=$i(e);return Ze((t,r)=>{(n?Fo(e,t,n):Fo(e,t)).subscribe(r)})}(ul)))).pipe(J1((n,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==ul?i:(s===ul&&(r=!0),r||!1!==s&&o!==t.length-1&&!hs(s)?i:s),n)},ul),bn(n=>n!==ul),te(n=>hs(n)?n:!0===n),Dt(1)))}class KV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dl,this.attachRef=null}}class dl{constructor(){this.contexts=new Map}onChildOutletCreated(n,t){const r=this.getOrCreateContext(n);r.outlet=t,this.contexts.set(n,r)}onChildOutletDestroyed(n){const t=this.getContext(n);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let t=this.getContext(n);return t||(t=new KV,this.contexts.set(n,t)),t}getContext(n){return this.contexts.get(n)||null}}let zc=(()=>{class e{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.name=s||ye,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new YV(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(C(dl),C(or),C(Do),ha("name"),C(Kt))},e.\u0275dir=W({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class YV{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Ei?this.route:n===dl?this.childContexts:this.parent.get(n,t)}}let OD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&M(0,"router-outlet")},directives:[zc],encapsulation:2}),e})();function RD(e,n=""){for(let t=0;t<e.length;t++){const r=e[t];QV(r,XV(n,r))}}function QV(e,n){e.children&&RD(e.children,n)}function XV(e,n){return n?e||n.path?e&&!n.path?`${e}/`:!e&&n.path?n.path:`${e}/${n.path}`:"":e}function Dg(e){const n=e.children&&e.children.map(Dg),t=n?Object.assign(Object.assign({},e),{children:n}):Object.assign({},e);return!t.component&&(n||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=OD),t}function Vn(e){return e.outlet||ye}function ND(e,n){const t=e.filter(r=>Vn(r)===n);return t.push(...e.filter(r=>Vn(r)!==n)),t}const kD={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qc(e,n,t){var r;if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?Object.assign({},kD):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(n.matcher||cV)(t,e,n);if(!s)return Object.assign({},kD);const o={};St(s.posParams,(l,u)=>{o[u]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Gc(e,n,t,r,i="corrected"){if(t.length>0&&function eU(e,n,t){return t.some(r=>Wc(e,n,r)&&Vn(r)!==ye)}(e,t,r)){const o=new be(n,function JV(e,n,t,r){const i={};i[ye]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;for(const s of t)if(""===s.path&&Vn(s)!==ye){const o=new be([],{});o._sourceSegment=e,o._segmentIndexShift=n.length,i[Vn(s)]=o}return i}(e,n,r,new be(t,e.children)));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function tU(e,n,t){return t.some(r=>Wc(e,n,r))}(e,t,r)){const o=new be(e.segments,function ZV(e,n,t,r,i,s){const o={};for(const a of r)if(Wc(e,t,a)&&!i[Vn(a)]){const l=new be([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===s?e.segments.length:n.length,o[Vn(a)]=l}return Object.assign(Object.assign({},i),o)}(e,n,t,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:t}}const s=new be(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:t}}function Wc(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function FD(e,n,t,r){return!!(Vn(e)===r||r!==ye&&Wc(n,t,e))&&("**"===e.path||qc(n,e,t).matched)}function PD(e,n,t){return 0===n.length&&!e.children[t]}class fl{constructor(n){this.segmentGroup=n||null}}class LD{constructor(n){this.urlTree=n}}function Kc(e){return new Ce(n=>n.error(new fl(e)))}function VD(e){return new Ce(n=>n.error(new LD(e)))}function nU(e){return new Ce(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class sU{constructor(n,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=n.get(Ur)}apply(){const n=Gc(this.urlTree.root,[],[],this.config).segmentGroup,t=new be(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ye).pipe(te(s=>this.createUrlTree(Cg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Di(s=>{if(s instanceof LD)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof fl?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ye).pipe(te(i=>this.createUrlTree(Cg(i),n.queryParams,n.fragment))).pipe(Di(i=>{throw i instanceof fl?this.noMatchError(i):i}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,t,r){const i=n.segments.length>0?new be([],{[ye]:n}):n;return new ds(i,t,r)}expandSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,t,r).pipe(te(s=>new be([],s))):this.expandSegment(n,r,t,r.segments,i,!0)}expandChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return et(i).pipe(Po(s=>{const o=r.children[s],a=ND(t,s);return this.expandSegmentGroup(n,a,o,s).pipe(te(l=>({segment:l,outlet:s})))}),J1((s,o)=>(s[o.outlet]=o.segment,s),{}),function X3(e,n){const t=arguments.length>=2;return r=>r.pipe(e?bn((i,s)=>e(i,s,r)):En,lg(1),t?tD(n):eD(()=>new rl))}())}expandSegment(n,t,r,i,s,o){return et(r).pipe(Po(a=>this.expandSegmentAgainstRoute(n,t,r,a,i,s,o).pipe(Di(u=>{if(u instanceof fl)return ee(null);throw u}))),Ci(a=>!!a),Di((a,l)=>{if(a instanceof rl||"EmptyError"===a.name){if(PD(t,i,s))return ee(new be([],{}));throw new fl(t)}throw a}))}expandSegmentAgainstRoute(n,t,r,i,s,o,a){return FD(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o):Kc(t):Kc(t)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?VD(s):this.lineralizeSegments(r,s).pipe(We(o=>{const a=new be(o,{});return this.expandSegment(n,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:u,positionalParamSegments:c}=qc(t,i,s);if(!a)return Kc(t);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?VD(d):this.lineralizeSegments(i,d).pipe(We(f=>this.expandSegment(n,t,r,f.concat(s.slice(u)),o,!1)))}matchSegmentAgainstRoute(n,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ee(r._loadedConfig):this.configLoader.load(n.injector,r)).pipe(te(f=>(r._loadedConfig=f,new be(i,{})))):ee(new be(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=qc(t,r,i);if(!o)return Kc(t);const u=i.slice(l);return this.getChildConfig(n,r,i).pipe(We(d=>{const f=d.module,p=d.routes,{segmentGroup:v,slicedSegments:_}=Gc(t,a,u,p),T=new be(v.segments,v.children);if(0===_.length&&T.hasChildren())return this.expandChildren(f,p,T).pipe(te(B=>new be(a,B)));if(0===p.length&&0===_.length)return ee(new be(a,{}));const x=Vn(r)===s;return this.expandSegment(f,T,p,_,x?ye:s,!0).pipe(te(P=>new be(a.concat(P.segments),P.children)))}))}getChildConfig(n,t,r){return t.children?ee(new wg(t.children,n)):t.loadChildren?void 0!==t._loadedConfig?ee(t._loadedConfig):this.runCanLoadGuards(n.injector,t,r).pipe(We(i=>i?this.configLoader.load(n.injector,t).pipe(te(s=>(t._loadedConfig=s,s))):function rU(e){return new Ce(n=>n.error(dg(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):ee(new wg([],n))}runCanLoadGuards(n,t,r){const i=t.canLoad;return i&&0!==i.length?ee(i.map(o=>{const a=n.get(o);let l;if(function zV(e){return e&&Si(e.canLoad)}(a))l=a.canLoad(t,r);else{if(!Si(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Ir(l)})).pipe(cl(),Ft(o=>{if(!hs(o))return;const a=dg(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),te(o=>!0===o)):ee(!0)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[ye])return nU(n.redirectTo);i=i.children[ye]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreatreUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new ds(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return St(n,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let o={};return St(t.children,(a,l)=>{o[l]=this.createSegmentGroup(n,a,r,i)}),new be(s,o)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${n}'. Cannot find '${t.path}'.`);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}function Cg(e){const n={};for(const r of Object.keys(e.children)){const s=Cg(e.children[r]);(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function oU(e){if(1===e.numberOfChildren&&e.children[ye]){const n=e.children[ye];return new be(e.segments.concat(n.segments),n.children)}return e}(new be(e.segments,n))}class UD{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Yc{constructor(n,t){this.component=n,this.route=t}}function lU(e,n,t){const r=e._root;return hl(r,n?n._root:null,t,[r.value])}function Qc(e,n,t){const r=function cU(e){if(!e)return null;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(n);return(r?r.module.injector:t).get(e)}function hl(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Vo(n);return e.children.forEach(o=>{(function dU(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function fU(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!fs(e.url,n.url);case"pathParamsOrQueryParamsChange":return!fs(e.url,n.url)||!Ar(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yg(e,n)||!Ar(e.queryParams,n.queryParams);default:return!yg(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new UD(r)):(s.data=o.data,s._resolvedData=o._resolvedData),hl(e,n,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yc(a.outlet.component,o))}else o&&pl(n,a,i),i.canActivateChecks.push(new UD(r)),hl(e,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),St(s,(o,a)=>pl(o,t.getContext(a),i)),i}function pl(e,n,t){const r=Vo(e),i=e.value;St(r,(s,o)=>{pl(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new Yc(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}class wU{}function BD(e){return new Ce(n=>n.error(e))}class CU{constructor(n,t,r,i,s,o){this.rootComponentType=n,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const n=Gc(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,n,ye);if(null===t)return null;const r=new jc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ye,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Kr(r,t),s=new ED(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(n){const t=n.value,r=CD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(n,t):this.processSegment(n,t,t.segments,r)}processChildren(n,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=ND(n,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=jD(r);return function EU(e){e.sort((n,t)=>n.value.outlet===ye?-1:t.value.outlet===ye?1:n.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(n,t,r,i){for(const s of n){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return PD(t,r,i)?[]:null}processSegmentAgainstRoute(n,t,r,i){if(n.redirectTo||!FD(n,t,r,i))return null;let s,o=[],a=[];if("**"===n.path){const p=r.length>0?uD(r).parameters:{};s=new jc(r,p,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zD(n),Vn(n),n.component,n,$D(t),HD(t)+r.length,qD(n))}else{const p=qc(t,n,r);if(!p.matched)return null;o=p.consumedSegments,a=r.slice(p.lastChild),s=new jc(o,p.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zD(n),Vn(n),n.component,n,$D(t),HD(t)+o.length,qD(n))}const l=function SU(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(n),{segmentGroup:u,slicedSegments:c}=Gc(t,o,a,l.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const p=this.processChildren(l,u);return null===p?null:[new Kr(s,p)]}if(0===l.length&&0===c.length)return[new Kr(s,[])];const d=Vn(n)===i,f=this.processSegment(l,u,c,d?ye:i);return null===f?null:[new Kr(s,f)]}}function TU(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function jD(e){const n=[],t=new Set;for(const r of e){if(!TU(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=jD(r.children);n.push(new Kr(r.value,i))}return n.filter(r=>!t.has(r))}function $D(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function HD(e){let n=e,t=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift?n._segmentIndexShift:0;return t-1}function zD(e){return e.data||{}}function qD(e){return e.resolve||{}}function GD(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Eg(e){return _n(n=>{const t=e(n);return t?et(t).pipe(te(()=>n)):ee(n)})}class kU extends class NU{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const Sg=new se("ROUTES");class WD{constructor(n,t,r,i){this.injector=n,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(n,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(te(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(n);return new wg(lD(o.injector.get(Sg,void 0,ie.Self|ie.Optional)).map(Dg),o)}),Di(s=>{throw t._loader$=void 0,s}));return t._loader$=new Z1(i,()=>new lt).pipe(X1()),t._loader$}loadModuleFactory(n){return Ir(n()).pipe(We(t=>t instanceof tb?ee(t):et(this.compiler.compileModuleAsync(t))))}}class PU{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function LU(e){throw e}function VU(e,n,t){return n.parse("/")}function KD(e,n){return ee(null)}const UU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bt=(()=>{class e{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lt,this.errorHandler=LU,this.malformedUriErrorHandler=VU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:KD,afterPreactivation:KD},this.urlHandlingStrategy=new PU,this.routeReuseStrategy=new kU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Ur),this.console=o.get(Ju);const d=o.get(Xe);this.isNgZoneEnabled=d instanceof Xe&&Xe.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function fV(){return new ds(new be([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new WD(o,a,f=>this.triggerEvent(new iD(f)),f=>this.triggerEvent(new sD(f))),this.routerState=DD(this.currentUrlTree,this.rootComponentType),this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(bn(i=>0!==i.id),te(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),_n(i=>{let s=!1,o=!1;return ee(i).pipe(Ft(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_n(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Xc(a.source)&&(this.browserUrlTree=a.extractedUrl),ee(a).pipe(_n(d=>{const f=this.transitions.getValue();return r.next(new ug(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions.getValue()?zn:Promise.resolve(d)}),function aU(e,n,t,r){return _n(i=>function iU(e,n,t,r,i){return new sU(e,n,t,r,i).apply()}(e,n,t,i.extractedUrl,r).pipe(te(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ft(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function AU(e,n,t,r,i){return We(s=>function DU(e,n,t,r,i="emptyOnly",s="legacy"){try{const o=new CU(e,n,t,r,i,s).recognize();return null===o?BD(new wU):ee(o)}catch(o){return BD(o)}}(e,n,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(te(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ft(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const p=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(p,d)}this.browserUrlTree=d.urlAfterRedirects}const f=new J3(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(f)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:p,source:v,restoredState:_,extras:T}=a,x=new ug(f,this.serializeUrl(p),v,_);r.next(x);const S=DD(p,this.rootComponentType).snapshot;return ee(Object.assign(Object.assign({},a),{targetSnapshot:S,urlAfterRedirects:p,extras:Object.assign(Object.assign({},T),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),zn}),Eg(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:p}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!p})}),Ft(a=>{const l=new eV(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),te(a=>Object.assign(Object.assign({},a),{guards:lU(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function hU(e,n){return We(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ee(Object.assign(Object.assign({},t),{guardsResult:!0})):function pU(e,n,t,r){return et(e).pipe(We(i=>function bU(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const l=Qc(a,n,i);let u;if(function WV(e){return e&&Si(e.canDeactivate)}(l))u=Ir(l.canDeactivate(e,n,t,r));else{if(!Si(l))throw new Error("Invalid CanDeactivate guard");u=Ir(l(e,n,t,r))}return u.pipe(Ci())})).pipe(cl()):ee(!0)}(i.component,i.route,t,n,r)),Ci(i=>!0!==i,!0))}(o,r,i,e).pipe(We(a=>a&&function HV(e){return"boolean"==typeof e}(a)?function gU(e,n,t,r){return et(n).pipe(Po(i=>Fo(function yU(e,n){return null!==e&&n&&n(new iV(e)),ee(!0)}(i.route.parent,r),function mU(e,n){return null!==e&&n&&n(new oV(e)),ee(!0)}(i.route,r),function _U(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function uU(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>Fc(()=>ee(o.guards.map(l=>{const u=Qc(l,o.node,t);let c;if(function GV(e){return e&&Si(e.canActivateChild)}(u))c=Ir(u.canActivateChild(r,e));else{if(!Si(u))throw new Error("Invalid CanActivateChild guard");c=Ir(u(r,e))}return c.pipe(Ci())})).pipe(cl())));return ee(s).pipe(cl())}(e,i.path,t),function vU(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>Fc(()=>{const o=Qc(s,n,t);let a;if(function qV(e){return e&&Si(e.canActivate)}(o))a=Ir(o.canActivate(n,e));else{if(!Si(o))throw new Error("Invalid CanActivate guard");a=Ir(o(n,e))}return a.pipe(Ci())}));return ee(i).pipe(cl())}(e,i.route,t))),Ci(i=>!0!==i,!0))}(r,s,e,n):ee(a)),te(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ft(a=>{if(hs(a.guardsResult)){const u=dg(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new tV(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),bn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Eg(a=>{if(a.guards.canActivateChecks.length)return ee(a).pipe(Ft(l=>{const u=new nV(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),_n(l=>{let u=!1;return ee(l).pipe(function IU(e,n){return We(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let s=0;return et(i).pipe(Po(o=>function xU(e,n,t,r){return function MU(e,n,t,r){const i=GD(e);if(0===i.length)return ee({});const s={};return et(i).pipe(We(o=>function OU(e,n,t,r){const i=Qc(e,n,r);return Ir(i.resolve?i.resolve(n,t):i(n,t))}(e[o],n,t,r).pipe(Ft(a=>{s[o]=a}))),lg(1),We(()=>GD(s).length===i.length?ee(s):zn))}(e._resolve,e,n,r).pipe(te(s=>(e._resolvedData=s,e.data=Object.assign(Object.assign({},e.data),CD(e,t).resolve),null)))}(o.route,r,e,n)),Ft(()=>s++),lg(1),We(o=>s===i.length?ee(t):zn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ft({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Ft(l=>{const u=new rV(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),Eg(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:p}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!p})}),te(a=>{const l=function MV(e,n,t){const r=al(e,n._root,t?t._root:void 0);return new wD(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Ft(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,n,t)=>te(r=>(new jV(n,r.targetRouterState,r.currentRouterState,t).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ft({next(){s=!0},complete(){s=!0}}),nD(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Di(a=>{if(o=!0,function uV(e){return e&&e[oD]}(a)){const l=hs(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new rD(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xc(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Z3(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return zn}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){RD(t),this.config=t.map(Dg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function NV(e,n,t,r,i){if(0===t.length)return vg(n.root,n.root,n,r,i);const s=function kV(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new AD(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return St(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new AD(t,n,r)}(t);if(s.toRoot())return vg(n.root,new be([],{}),n,r,i);const o=function FV(e,n,t){if(e.isAbsolute)return new _g(n.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new _g(s,s===n.root,0)}const r=$c(e.commands[0])?0:1;return function PV(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new _g(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,n,e),a=o.processChildren?Hc(o.segmentGroup,o.index,s.commands):ID(o.segmentGroup,o.index,s.commands);return vg(o.segmentGroup,a,n,r,i)}(u,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=hs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function jU(e){for(let n=0;n<e.length;n++){const t=e[n];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${n}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},UU):!1===r?Object.assign({},BU):r,hs(t))return dD(this.currentUrlTree,t,i);const s=this.parseUrl(t);return dD(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new il(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l,u;if(this.disposed)return Promise.resolve(!1);const c=this.transitions.value,d=Xc(r)&&c&&!Xc(c.source),f=c.rawUrl.toString()===t.toString(),p=c.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&f&&p)return Promise.resolve(!0);let _,T,x;o?(_=o.resolve,T=o.reject,x=o.promise):x=new Promise((B,Q)=>{_=B,T=Q});const S=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),P=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):P=0,this.setTransition({id:S,targetPageId:P,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:_,reject:T,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(B=>Promise.reject(B))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new rD(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){mh()},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();function Xc(e){return"imperative"!==e}let gl=(()=>{class e{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new lt,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Uo(this.skipLocationChange),replaceUrl:Uo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Uo(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(C(bt),C(Ei),ha("tabindex"),C(Vr),C(Gt))},e.\u0275dir=W({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&L("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Bt]}),e})(),Zc=(()=>{class e{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new lt,this.subscription=t.events.subscribe(s=>{s instanceof il&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Uo(this.skipLocationChange),replaceUrl:Uo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Uo(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(C(bt),C(Ei),C(Mo))},e.\u0275dir=W({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&L("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Dr("target",r.target)("href",r.href,fi)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Bt]}),e})();function Uo(e){return""===e||!!e}class YD{}class QD{preload(n,t){return ee(null)}}let XD=(()=>{class e{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new WD(i,r,l=>t.triggerEvent(new iD(l)),l=>t.triggerEvent(new sD(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(bn(t=>t instanceof il),Po(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Ur);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return et(i).pipe(hr(),te(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ee(r._loadedConfig):this.loader.load(t.injector,r)).pipe(We(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(F(bt),F(ec),F(ht),F(YD))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),Tg=(()=>{class e{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ug?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof il&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new cg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){mh()},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const ps=new se("ROUTER_CONFIGURATION"),ZD=new se("ROUTER_FORROOT_GUARD"),qU=[rc,{provide:gD,useClass:mD},{provide:bt,useFactory:function QU(e,n,t,r,i,s,o={},a,l){const u=new bt(null,e,n,t,r,i,lD(s));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function XU(e,n){e.errorHandler&&(n.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(n.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(n.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(n.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(n.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(n.canceledNavigationResolution=e.canceledNavigationResolution)}(o,u),o.enableTracing&&u.events.subscribe(c=>{var d,f;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(f=console.groupEnd)||void 0===f||f.call(console)}),u},deps:[gD,dl,rc,ht,ec,Sg,ps,[class FU{},new Jn],[class RU{},new Jn]]},dl,{provide:Ei,useFactory:function ZU(e){return e.routerState.root},deps:[bt]},XD,QD,class zU{preload(n,t){return t().pipe(Di(()=>ee(null)))}},{provide:ps,useValue:{enableTracing:!1}}];function GU(){return new Gb("Router",bt)}let Ag=(()=>{class e{constructor(t,r){}static forRoot(t,r){return{ngModule:e,providers:[qU,JD(t),{provide:ZD,useFactory:YU,deps:[[bt,new Jn,new Ys]]},{provide:ps,useValue:r||{}},{provide:Mo,useFactory:KU,deps:[rs,[new ba(up),new Jn],ps]},{provide:Tg,useFactory:WU,deps:[bt,kw,ps]},{provide:YD,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:QD},{provide:Gb,multi:!0,useFactory:GU},[Ig,{provide:qa,multi:!0,useFactory:JU,deps:[Ig]},{provide:eC,useFactory:eB,deps:[Ig]},{provide:Bb,multi:!0,useExisting:eC}]]}}static forChild(t){return{ngModule:e,providers:[JD(t)]}}}return e.\u0275fac=function(t){return new(t||e)(F(ZD,8),F(bt,8))},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({}),e})();function WU(e,n,t){return t.scrollOffset&&n.setOffset(t.scrollOffset),new Tg(e,n,t)}function KU(e,n,t={}){return t.useHash?new fP(e,n):new pw(e,n)}function YU(e){return"guarded"}function JD(e){return[{provide:JI,multi:!0,useValue:e},{provide:Sg,multi:!0,useValue:e}]}let Ig=(()=>{class e{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lt}appInitializer(){return this.injector.get(uP,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(bt),o=this.injector.get(ps);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ee(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ps),i=this.injector.get(XD),s=this.injector.get(Tg),o=this.injector.get(bt),a=this.injector.get(yi);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(F(ht))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();function JU(e){return e.appInitializer.bind(e)}function eB(e){return e.bootstrapListener.bind(e)}const eC=new se("Router Initializer");function tC(e,n,t,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){return void t(u)}a.done?n(l):Promise.resolve(l).then(r,i)}function V(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var s=e.apply(n,t);function o(l){tC(s,r,i,o,a,"next",l)}function a(l){tC(s,r,i,o,a,"throw",l)}o(void 0)})}}function E(e,n){return[...n&&"before"===n.animateChildren?[Gr("@*",el(),{optional:!0})]:[],Xw([dL(e),...n&&n.animateChildren&&"together"!==n.animateChildren?[]:[Gr("@*",el(),{optional:!0})]]),...n&&"after"===n.animateChildren?[Gr("@*",el(),{optional:!0})]:[]]}function ml(e){return zr(e&&e.anchor||"fadeOutOnLeave",[mn(":leave",[...E(os([qr("{{duration}}ms {{delay}}ms",ss([qe({opacity:1,easing:"ease",offset:0}),qe({opacity:0,easing:"ease",offset:1})]))]),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||1e3}})])}function nB(e){return zr(e&&e.anchor||"slideInLeftOnEnter",[mn(":enter",[qe({visibility:"hidden"}),...E(os([qr("{{duration}}ms {{delay}}ms",ss([qe({visibility:"visible",transform:"translate3d(-{{translate}}, 0, 0)",easing:"ease",offset:0}),qe({transform:"translate3d(0, 0, 0)",easing:"ease",offset:1})]))]),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||1e3,translate:e&&e.translate||"100%"}})])}function hS(e){return zr(e&&e.anchor||"slideInRightOnEnter",[mn(":enter",[qe({visibility:"hidden"}),...E(os([qr("{{duration}}ms {{delay}}ms",ss([qe({visibility:"visible",transform:"translate3d({{translate}}, 0, 0)",easing:"ease",offset:0}),qe({transform:"translate3d(0, 0, 0)",easing:"ease",offset:1})]))]),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||1e3,translate:e&&e.translate||"100%"}})])}function mS(e){return zr(e&&e.anchor||"slideInUpOnEnter",[mn(":enter",[qe({visibility:"hidden"}),...E(os([qr("{{duration}}ms {{delay}}ms",ss([qe({visibility:"visible",transform:"translate3d(0, {{translate}}, 0)",easing:"ease",offset:0}),qe({transform:"translate3d(0, 0, 0)",easing:"ease",offset:1})]))]),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||1e3,translate:e&&e.translate||"100%"}})])}function _S(e){return zr(e&&e.anchor||"slideOutDownOnLeave",[mn(":leave",[...E(os([qr("{{duration}}ms {{delay}}ms",ss([qe({transform:"translate3d(0, 0, 0)",easing:"ease",offset:0}),qe({transform:"translate3d(0, {{translate}}, 0)",visibility:"hidden",easing:"ease",offset:1})]))]),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||1e3,translate:e&&e.translate||"100%"}})])}function rB(e){return zr(e&&e.anchor||"slideOutLeftOnLeave",[mn(":leave",[...E(os([qr("{{duration}}ms {{delay}}ms",ss([qe({transform:"translate3d(0, 0, 0)",easing:"ease",offset:0}),qe({transform:"translate3d(-{{translate}}, 0, 0)",visibility:"hidden",easing:"ease",offset:1})]))]),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||1e3,translate:e&&e.translate||"100%"}})])}function ES(e){return zr(e&&e.anchor||"slideOutRightOnLeave",[mn(":leave",[...E(os([qr("{{duration}}ms {{delay}}ms",ss([qe({transform:"translate3d(0, 0, 0)",easing:"ease",offset:0}),qe({transform:"translate3d({{translate}}, 0, 0)",visibility:"hidden",easing:"ease",offset:1})]))]),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||1e3,translate:e&&e.translate||"100%"}})])}class xg{static get default(){return{updateTime:(new Date).getTime(),showsOrder:"airdate",version:6,episodesOrder:"seen",hideTba:!0,hideSeen:!0,defaultCountry:"US",showIdOrderList:[],timezoneOffset:{US:0}}}}let nT,rT;const iT=new WeakMap,Mg=new WeakMap,sT=new WeakMap,Og=new WeakMap,Rg=new WeakMap;let Ng={get(e,n,t){if(e instanceof IDBTransaction){if("done"===n)return Mg.get(e);if("objectStoreNames"===n)return e.objectStoreNames||sT.get(e);if("store"===n)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ti(e[n])},set:(e,n,t)=>(e[n]=t,!0),has:(e,n)=>e instanceof IDBTransaction&&("done"===n||"store"===n)||n in e};function wB(e){return"function"==typeof e?function bB(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mB(){return rT||(rT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...n){return e.apply(yl(this),n),Ti(iT.get(this))}:function(...n){return Ti(e.apply(yl(this),n))}:function(n,...t){const r=e.call(yl(this),n,...t);return sT.set(r,n.sort?n.sort():[n]),Ti(r)}}(e):(e instanceof IDBTransaction&&function vB(e){if(Mg.has(e))return;const n=new Promise((t,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Mg.set(e,n)}(e),((e,n)=>n.some(t=>e instanceof t))(e,function gB(){return nT||(nT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Ng):e)}function Ti(e){if(e instanceof IDBRequest)return function yB(e){const n=new Promise((t,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(Ti(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return n.then(t=>{t instanceof IDBCursor&&iT.set(t,e)}).catch(()=>{}),Rg.set(n,e),n}(e);if(Og.has(e))return Og.get(e);const n=wB(e);return n!==e&&(Og.set(e,n),Rg.set(n,e)),n}const yl=e=>Rg.get(e),CB=["get","getKey","getAll","getAllKeys","count"],EB=["put","add","delete","clear"],kg=new Map;function oT(e,n){if(!(e instanceof IDBDatabase)||n in e||"string"!=typeof n)return;if(kg.get(n))return kg.get(n);const t=n.replace(/FromIndex$/,""),r=n!==t,i=EB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!CB.includes(t))return;const s=function(){var o=V(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[t](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return kg.set(n,s),s}!function _B(e){Ng=e(Ng)}(e=>KA(WA({},e),{get:(n,t,r)=>oT(n,t)||e.get(n,t,r),has:(n,t)=>!!oT(n,t)||e.has(n,t)}));let vl=(()=>{class e{constructor(){"indexedDB"in window?(this.createDb(),console.log("IndexedDB initialized")):console.warn("This browser doesn't support IndexedDB")}createDb(t="myTvQDB",r=1){var i=this;return V(function*(){i.dbPromise=function DB(e,n,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,n),a=Ti(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ti(o.result),l.oldVersion,l.newVersion,Ti(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(t,r,{upgrade:(s,o,a,l)=>V(function*(){function c(){return(c=V(function*(){s.createObjectStore("settings"),s.createObjectStore("shows",{keyPath:"showId"}).createIndex("updateTimeIndex","updateTime",{unique:!1});const v=s.createObjectStore("episodes",{keyPath:"episodeId"});v.createIndex("showIdIndex","showId",{unique:!1}),v.createIndex("localShowTimeIndex","localShowTime",{unique:!1});const _=xg.default,T=[];for(const x in _)Object.prototype.hasOwnProperty.call(_,x)&&T.push(l.objectStore("settings").put(_[x],x));T.push(l.done),yield Promise.all(T),T.length=0,console.log("IndexedDB v1 created!")})).apply(this,arguments)}0===o?function u(){c.apply(this,arguments)}():console.error("unknown db version")})(),blocked(){console.warn("blocked Called if there are older versions of the database open on the origin, so this version cannot open.")},blocking(){console.warn("blocking Called if this connection is blocking a future version of the database from opening.")},terminated(){console.warn("terminated Called if the browser abnormally terminates the connection. This is not called when db.close() is called.")}})})()}getKeyRange(t,r,i){switch(t){case"=":return IDBKeyRange.only(r);case"<":return IDBKeyRange.upperBound(r,!0);case"<=":return IDBKeyRange.upperBound(r);case">":return IDBKeyRange.lowerBound(r,!0);case">=":return IDBKeyRange.lowerBound(r);case"> && <":return IDBKeyRange.bound(r,i,!0,!0);case">= && <=":return IDBKeyRange.bound(r,i);case"> && <=":return IDBKeyRange.bound(r,i,!0,!1);case">= && <":return IDBKeyRange.bound(r,i,!1,!0)}}getObj(t,r){var i=this;return V(function*(){return yield(yield i.dbPromise).transaction(t,"readonly").objectStore(t).get(r)})()}getList(t,r,i){var s=this;return V(function*(){const o=yield s.dbPromise;return new Promise((a,l)=>{const u=o.transaction(t,"readwrite");let c=0;const d=[];if(u.oncomplete=v=>{console.log(t+" Added "+c+"/"+r.length),i&&i(c,r.length,!0),a(d)},u.onabort=v=>{i&&i(c,r.length,!0),a(d)},0==r.length)return void u.abort();const f=yl(u.objectStore(t)),p=v=>{let _;c<r.length?(_&&d.push(_.result),_=f.get(r[c]),_.onsuccess=p,++c,i&&i(c,r.length,!1)):console.log("populate complete")};p()})})()}getAllAsArray(t,r,i){var s=this;return V(function*(){return yield(yield s.dbPromise).transaction(t,"readonly").objectStore(t).getAll(r,i)})()}getAllAsObject(t,r,i){var s=this;return V(function*(){const o=(yield s.dbPromise).transaction(t,"readonly"),a={};let l=yield o.objectStore(t).openCursor(r,i);for(;l&&(a[l.key]=l.value,l=yield l.continue()),l;);return a})()}getIndexedList(t,r,i,s){var o=this;return V(function*(){let u=yield(yield o.dbPromise).transaction(t,"readonly").store.index(r).openCursor(i,s);const c=[];for(;u;)c.push(u.value),u=yield u.continue();return c})()}getIndexedObject(t,r,i,s){var o=this;return V(function*(){let u=yield(yield o.dbPromise).transaction(t,"readonly").store.index(r).openCursor(i,s);const c={};for(;u;)c[u.primaryKey]=u.value,u=yield u.continue();return c})()}deleteObj(t,r){var i=this;return V(function*(){return(yield i.dbPromise).transaction(t,"readwrite").objectStore(t).delete(r)})()}deleteRange(t,r,i){var s=this;return V(function*(){let l=yield(yield s.dbPromise).transaction(t,"readwrite").store.index(r).openCursor(i);for(;l;)yield l.delete(),l=yield l.continue()})()}clearStore(t){var r=this;return V(function*(){const i=yield r.dbPromise;return new Promise((s,o)=>{i&&i.objectStoreNames.contains(t)&&i.transaction([t],"readwrite").objectStore(t).clear().then(()=>{s(!0)}).catch(l=>{console.error(l),s(!1)}),s(!1)})})()}clearAllStores(t=[]){var r=this;return V(function*(){const i=(yield r.dbPromise).objectStoreNames;console.log(i);const s=i.length-t.length;let o=0;return new Promise((a,l)=>{for(const u of i)-1===t.indexOf(u)&&r.clearStore(u).then(()=>{o++,s==o&&a(o)});0==s&&a(0)})})()}putObj(t,r,i){var s=this;return V(function*(){return null!=r&&(yield(yield s.dbPromise).transaction(t,"readwrite").objectStore(t).put(r,i).then(()=>!0))})()}putKeyValueBulk(t,r){var i=this;return V(function*(){if(null==r)return!1;const o=(yield i.dbPromise).transaction(t,"readwrite"),l=(o.objectStore(t),[]);for(const u in r)Object.prototype.hasOwnProperty.call(r,u)&&l.push(o.objectStore(t).put(r[u],u));return l.push(o.done),Promise.all(l).then(()=>!0)})()}putList(t,r,i){var s=this;return V(function*(){if(null==r||0===r.length)return;const o=yield s.dbPromise;return new Promise((a,l)=>{const u=o.transaction(t,"readwrite");let c=0;u.oncomplete=p=>{console.log(t+" Added "+c+"/"+r.length),i&&i(c,r.length,!0),a(!0)},u.onabort=p=>{i&&i(c,r.length,!0),a(!0)};const d=yl(u.objectStore(t)),f=()=>{c<r.length?(d.put(r[c]).onsuccess=f,++c,i&&i(c,r.length,!1)):console.log("populate complete")};f()})})()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gs=(()=>{class e{constructor(t){this.webDb=t}get(t){var r=this;return V(function*(){return yield r.webDb.getObj("settings",t)})()}getAll(){var t=this;return V(function*(){return yield t.webDb.getAllAsObject("settings")})()}save(t,r){var i=this;return V(function*(){return yield i.webDb.putObj("settings",r,t)})()}saveAll(t){var r=this;return V(function*(){return yield r.webDb.putKeyValueBulk("settings",t)})()}getTimezoneOffset(t){var r=this;return V(function*(){const i=yield r.get("timezoneOffset"),s=yield r.get("defaultCountry");return+i[t||s]})()}saveFileToDb(t){var r=this;return V(function*(){if(t){const i=xg.default;r.webDb.putKeyValueBulk("settings",{defaultCountry:t.default_country||i.defaultCountry,hideSeen:t.hide_seen,episodesOrder:t.default_episodes||i.episodesOrder,hideTba:t.hide_tba,showsOrder:t.shows_order||i.showsOrder,updateTime:t.update_time||i.updateTime,timezoneOffset:t.timezone_offset||i.timezoneOffset,version:i.version,showIdOrderList:i.showIdOrderList})}})()}}return e.\u0275fac=function(t){return new(t||e)(F(vl))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class SB{constructor(n){var t,r,i,s,o,a;this.status=0,this.latestEpisodeId="",this.latestEpisodeName="",this.latestEpisodeDateFormatted="",this.latestEpisodeInDays="",this.unseenEpisodeId="",this.unseenEpisodeName="",(new Date).getTime(),this.id=n.showId,this.apiSource=n.apiSource,this.apiId=n.apiId[n.apiSource],this.name=n.name,this.premiered=n.premiered?n.premiered.substring(0,4):"",this.banner=(null===(t=n.image)||void 0===t?void 0:t.banner[0])||"",this.poster=(null===(r=n.image)||void 0===r?void 0:r.poster[0])||"",this.channel=n.channel.name||"",this.language=n.language,this.genres=n.showType+" - "+n.genres.join(", "),this.schedule=`${((null===(i=n.schedule)||void 0===i?void 0:i.days)||[]).join(", ")}${(null===(s=n.schedule)||void 0===s?void 0:s.time)?" at "+(null===(o=n.schedule)||void 0===o?void 0:o.time):""}${n.runtime?" ("+n.runtime+" mins)":""}`,this.userRating=(null===(a=n.userRating)||void 0===a?void 0:a.average)?`${n.userRating.average}/10 ${n.userRating.count?"("+n.userRating.count+"votes)":""}`:"",this.summary=n.summary,this.url=n.url,this.statusText=n.status,this.totalSeasons=n.totalSeasons,this.unseenCount=n.unseenCount,this.totalEpisodes=n.totalEpisodes,this.expand=!1}}class TB{constructor(n){this.episode=n;const t=(new Date).getTime();this.id=n.episodeId,this.episodeName=this.getEpisodeName()||"TBA",this.dateFormatted="",this.summary=n.summary||"",this.isUnaired=(n.localShowTime||0)>t,this.image=n.poster||"",this.seen=n.seen,this.expand=!1,this.url=n.url}getEpisodeName(){return this.episode?this.episode.special?`[Special ${this.episode.counter}] ${this.episode.name}`:`${this.episode.counter}.(${this.episode.season}x${this.episode.number}) ${this.episode.name}`:""}setFormattedDate(n,t){if(this.episode.localShowTime){const r=new Date(this.episode.localShowTime);n&&r.setMinutes(r.getMinutes()+60*n),this.dateFormatted=this.isUnaired?t.transform(r,"EEE hh:mm a, MMM dd, y")||"n/a":t.transform(r,"MMM dd, y")||"n/a"}else this.dateFormatted="n/a"}}function Fg(e,n){const t="object"==typeof n;return new Promise((r,i)=>{let o,s=!1;e.subscribe({next:a=>{o=a,s=!0},error:i,complete:()=>{s?r(o):t?r(n.defaultValue):i(new rl)}})})}let ed=(()=>{class e{constructor(){this.now=(new Date).getTime()}get time(){return this.now}clearObj(t){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&delete t[r]}getKeys(t){return t?Object.keys(t):[]}zeroPad(t,r){return t||(t=0),Array(Math.max(r-String(t).length+1,0)).join("0")+t}getDaysBetween(t,r){return+((r.getTime()-t.getTime())/864e5).toFixed(4)}getDaysBetweenToEnglish(t,r){if(!t||!r)return"";let i=this.getDaysBetween(new Date(t.getFullYear(),t.getMonth(),t.getDate()),new Date(r.getFullYear(),r.getMonth(),r.getDate())),s=!1;return i<0&&(s=!0,i=Math.abs(i)),+(i/365).toFixed(2)>2?"TBA":i<1?"Today":i<2?s?"Yesterday":"Tomorrow":i<30?(s?-1:1)*i+" Day(s)":i<90?(i/7*(s?-1:1)).toFixed(0)+" Week(s)":i<365?(i/30*(s?-1:1)).toFixed(0)+" Month(s)":(i/365.25*(s?-1:1)).toFixed(2)+" Year(s)"}sortAscending(t,r){return t<r?-1:t>r?1:0}byPropertiesOf(t){function r(i){let s,o=1;return"string"==typeof i&&i.startsWith("-")?(o=-1,s=i.substr(1)):s=i,function(a,l){return(a[s]<l[s]?-1:a[s]>l[s]?1:0)*o}}return function(i,s){let o=0,a=0;const l=null==t?void 0:t.length;for(;0===a&&o<l;)a=r(t[o])(i,s),o++;return a}}sort(t,...r){t.sort(this.byPropertiesOf(r))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_l=(()=>{class e{constructor(t,r,i,s){this.commonSvc=t,this.settingSvc=r,this.datePipe=i,this.webDb=s}createEpisodeId(t,r,i,s,o){return o?`${t}_S${this.commonSvc.zeroPad(r,3)}_E${this.commonSvc.zeroPad(i,3)}_C${this.commonSvc.zeroPad(s,4)}_X${this.commonSvc.zeroPad(o,3)}`:`${t}_S${this.commonSvc.zeroPad(r,3)}_E${this.commonSvc.zeroPad(i,3)}_C${this.commonSvc.zeroPad(s,4)}`}getEpisodeName(t){return t?t.special?`[Special ${t.counter}] ${t.name}`:`${t.counter}.(${t.season}x${t.number}) ${t.name}`:""}getNextEpisodeDays(t){return t?this.commonSvc.getDaysBetweenToEnglish(new Date,new Date(t.localShowTime||0)):"TBA"}getFormattedTime(t,r){return 0===r?this.datePipe.transform(t,"EEE h:mm a, MMM d, y")||"n/a":this.datePipe.transform(t,"MMM d, y")||"n/a"}getFormattedDate(t){return this.datePipe.transform(t.localShowTime,"(MMM d, y)")||"(n/a)"}getEpisodeModel(t,r){var i=this;return V(function*(){const s=yield i.getEpisode(t);if(!s)throw new Error("Episode was not found");const o=new TB(s),a=yield i.settingSvc.getTimezoneOffset(r);return o.setFormattedDate(a,i.datePipe),o})()}getAll(){var t=this;return V(function*(){return yield t.webDb.getAllAsArray("episodes")})()}saveAll(t){var r=this;return V(function*(){return yield r.webDb.putList("episodes",t)})()}getEpisodeDictionary(t){var r=this;return V(function*(){return yield r.webDb.getIndexedObject("episodes","showIdIndex",r.webDb.getKeyRange("=",t))})()}getEpisodeList(t){var r=this;return V(function*(){return yield r.webDb.getIndexedList("episodes","showIdIndex",r.webDb.getKeyRange("=",t))})()}getEpisode(t){var r=this;return V(function*(){return yield r.webDb.getObj("episodes",t)})()}toggleSeen(t,r){var i=this;return V(function*(){yield i.toggleBulkSeen([t],r)})()}toggleBulkSeen(t,r){var i=this;return V(function*(){if(0===t.length)console.warn("empty list, doing nothing");else if(1===t.length){const s=yield i.getEpisode(t[0]);s&&(s.seen=r,yield i.webDb.putObj("episodes",s))}else{const s=t.filter(a=>a).sort(),o=yield i.webDb.getAllAsArray("episodes",i.webDb.getKeyRange(">= && <=",s[0],s[s.length-1]));for(const a of o)t.includes(a.episodeId)&&(a.seen=r);yield i.webDb.putList("episodes",o)}})()}saveFileToDb(t){var r=this;return V(function*(){let i=0,s=0,o=0;const a=[];for(const u in t)if(Object.prototype.hasOwnProperty.call(t,u)){const c=t[u];c.number?(o=c.number,c.special=!1,c.counter=++i,c.episode_id=r.createEpisodeId(c.show_id,c.season,o,i)):(c.number=o,c.special=!0,c.counter=++s,c.episode_id=r.createEpisodeId(c.show_id,c.season,o,i,s)),a.push(c)}const l=a.map((u,c,d)=>{var f,p,v,_;const T=c-1>=0?d[c-1].episode_id:"",x=c+1<d.length?d[c+1].episode_id:"";return{episodeId:u.episode_id,showId:u.show_id,localShowTime:u.local_showtime,name:u.name,url:u.url,iso8601:u.iso8601,runtime:u.runtime,season:u.season,number:u.number,counter:u.counter,special:u.special,summary:u.summary,poster:((null===(f=u.image)||void 0===f?void 0:f.poster)&&Array.isArray(null===(p=u.image)||void 0===p?void 0:p.poster)?null===(v=u.image)||void 0===v?void 0:v.poster[0]:null===(_=u.image)||void 0===_?void 0:_.poster)||"",seen:u.seen,previousId:T,nextId:x,apiSource:u.api_source,apiId:u.api_id}});yield r.webDb.putList("episodes",l)})()}}return e.\u0275fac=function(t){return new(t||e)(F(ed),F(gs),F(Oo),F(vl))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function td(...e){const n=Qo(e),{args:t,keys:r}=K1(e),i=new Ce(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;an(t[c]).subscribe(new Ue(s,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?Y1(r,a):a),s.complete())}))}});return n?i.pipe(ag(n)):i}class AB extends Ae{constructor(n,t){super()}schedule(n,t=0){return this}}const nd={setInterval(...e){const{delegate:n}=nd;return((null==n?void 0:n.setInterval)||setInterval)(...e)},clearInterval(e){const{delegate:n}=nd;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0},aT={now:()=>(aT.delegate||Date).now(),delegate:void 0};class bl{constructor(n,t=bl.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}bl.now=aT.now;const Pg=new class xB extends bl{constructor(n,t=bl.now){super(n,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class IB extends AB{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(n,t,r=0){return nd.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;nd.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qo(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}),MB=Pg;function lT(e,n){return n?t=>Fo(n.pipe(Dt(1),function OB(){return Ze((e,n)=>{e.subscribe(new Ue(n,dr))})}()),t.pipe(lT(e))):We((t,r)=>e(t,r).pipe(Dt(1),function RB(e){return te(()=>e)}(t)))}function uT(e=0,n,t=MB){let r=-1;return null!=n&&(Os(n)?t=n:r=n),new Ce(i=>{let s=function NB(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Lg(e,n=Pg){const t=uT(e,n);return lT(()=>t)}class cT{}class dT{}class Yr{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let r=n[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Yr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Yr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=n.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class kB{encodeKey(n){return fT(n)}encodeValue(n){return fT(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const PB=/%(\d[a-f0-9])/gi,LB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function fT(e){return encodeURIComponent(e).replace(PB,(n,t)=>{var r;return null!==(r=LB[t])&&void 0!==r?r:n})}function hT(e){return`${e}`}class Ai{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new kB,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FB(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ai({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(hT(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(hT(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class VB{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function pT(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function gT(e){return"undefined"!=typeof Blob&&e instanceof Blob}function mT(e){return"undefined"!=typeof FormData&&e instanceof FormData}class wl{constructor(n,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function UB(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yr),this.context||(this.context=new VB),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ai,this.urlWithParams=t}serializeBody(){return null===this.body?null:pT(this.body)||gT(this.body)||mT(this.body)||function BB(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ai?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mT(this.body)?null:gT(this.body)?this.body.type||null:pT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ai?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var t;const r=n.method||this.method,i=n.url||this.url,s=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let u=n.headers||this.headers,c=n.params||this.params;const d=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((f,p)=>f.set(p,n.setHeaders[p]),u)),n.setParams&&(c=Object.keys(n.setParams).reduce((f,p)=>f.set(p,n.setParams[p]),c)),new wl(r,i,o,{params:c,headers:u,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var at=(()=>((at=at||{})[at.Sent=0]="Sent",at[at.UploadProgress=1]="UploadProgress",at[at.ResponseHeader=2]="ResponseHeader",at[at.DownloadProgress=3]="DownloadProgress",at[at.Response=4]="Response",at[at.User=5]="User",at))();class Vg{constructor(n,t=200,r="OK"){this.headers=n.headers||new Yr,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Ug extends Vg{constructor(n={}){super(n),this.type=at.ResponseHeader}clone(n={}){return new Ug({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class rd extends Vg{constructor(n={}){super(n),this.type=at.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new rd({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Bg extends Vg{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function jg(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Bo=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof wl)s=t;else{let l,u;l=i.headers instanceof Yr?i.headers:new Yr(i.headers),i.params&&(u=i.params instanceof Ai?i.params:new Ai({fromObject:i.params})),s=new wl(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ee(s).pipe(Po(l=>this.handler.handle(l)));if(t instanceof wl||"events"===i.observe)return o;const a=o.pipe(bn(l=>l instanceof rd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(te(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(te(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(te(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(te(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ai).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,jg(i,r))}post(t,r,i={}){return this.request("POST",t,jg(i,r))}put(t,r,i={}){return this.request("PUT",t,jg(i,r))}}return e.\u0275fac=function(t){return new(t||e)(F(cT))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();class yT{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const $g=new se("HTTP_INTERCEPTORS");let jB=(()=>{class e{intercept(t,r){return r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const $B=/^\)\]\}',?\n/;let vT=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((p,v)=>i.setRequestHeader(p,v.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&i.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();i.responseType="json"!==p?p:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const p=1223===i.status?204:i.status,v=i.statusText||"OK",_=new Yr(i.getAllResponseHeaders()),T=function HB(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new Ug({headers:_,status:p,statusText:v,url:T}),o},l=()=>{let{headers:p,status:v,statusText:_,url:T}=a(),x=null;204!==v&&(x=void 0===i.response?i.responseText:i.response),0===v&&(v=x?200:0);let S=v>=200&&v<300;if("json"===t.responseType&&"string"==typeof x){const P=x;x=x.replace($B,"");try{x=""!==x?JSON.parse(x):null}catch(B){x=P,S&&(S=!1,x={error:B,text:x})}}S?(r.next(new rd({body:x,headers:p,status:v,statusText:_,url:T||void 0})),r.complete()):r.error(new Bg({error:x,headers:p,status:v,statusText:_,url:T||void 0}))},u=p=>{const{url:v}=a(),_=new Bg({error:p,status:i.status||0,statusText:i.statusText||"Unknown Error",url:v||void 0});r.error(_)};let c=!1;const d=p=>{c||(r.next(a()),c=!0);let v={type:at.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(v.total=p.total),"text"===t.responseType&&!!i.responseText&&(v.partialText=i.responseText),r.next(v)},f=p=>{let v={type:at.UploadProgress,loaded:p.loaded};p.lengthComputable&&(v.total=p.total),r.next(v)};return i.addEventListener("load",l),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",f)),i.send(s),r.next({type:at.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",l),i.removeEventListener("timeout",u),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(F(Pw))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();const Hg=new se("XSRF_COOKIE_NAME"),zg=new se("XSRF_HEADER_NAME");class _T{}let zB=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ew(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(F(Et),F(Io),F(Hg))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),qg=(()=>{class e{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(F(_T),F(zg))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),qB=(()=>{class e{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get($g,[]);this.chain=r.reduceRight((i,s)=>new yT(i,s),this.backend)}return this.chain.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(F(dT),F(ht))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),GB=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:qg,useClass:jB}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Hg,useValue:t.cookieName}:[],t.headerName?{provide:zg,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({providers:[qg,{provide:$g,useExisting:qg,multi:!0},{provide:_T,useClass:zB},{provide:Hg,useValue:"XSRF-TOKEN"},{provide:zg,useValue:"X-XSRF-TOKEN"}]}),e})(),WB=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({providers:[Bo,{provide:cT,useClass:qB},vT,{provide:dT,useExisting:vT}],imports:[[GB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),bT=(()=>{class e{constructor(t){this.http=t}searchShow(t){return this.http.get(`https://api.tvmaze.com/search/shows?q=${t}`)}getShowAndEpisode(t){return td([this.http.get(`https://api.tvmaze.com/shows/${t}?embed=images`),this.http.get(`https://api.tvmaze.com/shows/${t}/episodes?specials=1`)]).pipe(Lg(1e3))}getByThetvdb(t){return this.http.get(`https://api.tvmaze.com/lookup/shows?thetvdb=${t}`).pipe(_n(r=>td([ee(r),this.getImages(r.id),this.http.get(`https://api.tvmaze.com/shows/${r.id}/episodes?specials=1`)])),Lg(1e3))}getUpdates(t="all"){let r="https://api.tvmaze.com/updates/shows";return"all"!==t&&(r+=`?since=${t}`),this.http.get(r)}getImages(t){return this.http.get(`https://api.tvmaze.com/shows/${t}/images`)}}return e.\u0275fac=function(t){return new(t||e)(F(Bo))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wT=(()=>{class e{constructor(t){this.http=t,this.apiKey="1313d18d670b66715fb862d8eff63c5c"}getPopularWithReference(){return td([this.getConfiguration(),this.getGenres(),this.getPopular()])}getPopular(){return this.http.get(`https://api.themoviedb.org/3/tv/popular?api_key=${this.apiKey}&language=en-US&page=1`)}getExternal(t){return this.http.get(`https://api.themoviedb.org/3/tv/${t}/external_ids?api_key=${this.apiKey}&language=en-US`)}getGenres(){return this.http.get(`https://api.themoviedb.org/3/genre/tv/list?api_key=${this.apiKey}&language=en-US`)}getConfiguration(){return this.http.get(`https://api.themoviedb.org/3/configuration?api_key=${this.apiKey}`)}}return e.\u0275fac=function(t){return new(t||e)(F(Bo))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),KB=0;class id{constructor(){this.id=++KB,this.type="info",this.message="",this.life=5e3}static Create(n,t="info",r=5e3,i){const s=new id;return s.type=t,s.message=n,s.life=r,s.confirm$=i,s}}let ms=(()=>{class e{constructor(){this.subject=new lt}message(t,r,i=5e3){const s=id.Create(r,t,i);this.subject.next(s)}info(t,r=5e3){this.message("info",t,r)}success(t,r=5e3){this.message("success",t,r)}warning(t,r=5e3){this.message("warn",t,r)}error(t,r=5e3){this.message("error",t,r)}confirm(t){return new Ce(r=>{const i=id.Create(t,"info",void 0,r);return this.subject.next(i),()=>{}})}subscribe(t,r){return this.subject.subscribe({next:t,error:r})}unsubscribe(){this.subject.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ys=(()=>{class e{constructor(t,r,i,s,o,a,l){this.settingSvc=t,this.episodeSvc=r,this.webDb=i,this.commonSvc=s,this.apiTvMazeSvc=o,this.apiTmdbSvc=a,this.toastSvc=l,this.EndedRegex=/Pilot.?Rejected|Cancell?ed\/Ended|Cancell?ed|Ended/i}getAll(){var t=this;return V(function*(){return yield t.webDb.getAllAsArray("shows")})()}saveFileToDb(t){var r=this;return V(function*(){const i=t.map(s=>({showId:s.show_id,name:s.name,url:s.url,runtime:s.runtime,summary:s.summary,showType:s.show_type,language:s.language,genres:s.genres,cast:s.cast,premiered:s.premiered,schedule:s.schedule,userRating:s.user_rating,status:s.status,channel:{name:s.channel.name,country:s.channel.country},image:s.image,apiSource:s.api_source,apiId:s.api_id,updateTime:1e3*s.next_update_time,lastWatchedTime:0,unseenCount:0,totalEpisodes:0,totalSeasons:0,pastEpisode:void 0,futureEpisode:void 0,unseenEpisode:void 0}));yield r.webDb.putList("shows",i)})()}saveAll(t){var r=this;return V(function*(){return yield r.webDb.putList("shows",t)})()}save(t){var r=this;return V(function*(){yield r.webDb.putObj("shows",t)})()}getShowModel(t){var r=this;return V(function*(){var i;const s=yield r.getShow(t),o=s.futureEpisode||s.pastEpisode,a=new SB(s);return a.status=r.getShowStatus(s),o&&(a.latestEpisodeId=o.episodeId,a.latestEpisodeName=r.episodeSvc.getEpisodeName(o)||"TBA",a.latestEpisodeDateFormatted=r.episodeSvc.getFormattedTime(o.localShowTime||0,a.status),a.latestEpisodeInDays=r.episodeSvc.getNextEpisodeDays(o)),a.unseenEpisodeId=(null===(i=s.unseenEpisode)||void 0===i?void 0:i.episodeId)||"",a.unseenEpisodeName=r.episodeSvc.getEpisodeName(s.unseenEpisode),a})()}updateAllShowReference(){var t=this;return V(function*(){console.log("Updating show references...starting!");let r=yield t.getAll();const i=yield t.settingSvc.getAll();r.forEach(function(){var o=V(function*(a){const l=yield t.episodeSvc.getEpisodeList(a.showId);t.updateReference(a,l),yield t.webDb.putObj("shows",a)});return function(a){return o.apply(this,arguments)}}()),i.hideTba&&(r=r.filter(o=>!!o&&(o.unseenCount>0||!!o.futureEpisode)));let s=[];if("showname"===i.showsOrder)r.length&&t.commonSvc.sort(r,"name");else{const o=r.filter(d=>!!d.futureEpisode);t.commonSvc.sort(o,"-futureEpisode");const a=r.filter(d=>!(d.status||"").match(t.EndedRegex)&&!d.futureEpisode);t.commonSvc.sort(a,"-pastEpisode");const l=r.filter((d,f)=>(d.status||"").match(t.EndedRegex));t.commonSvc.sort(l,"-pastEpisode");const u=a.concat(l);let c=o.concat(u);if("unseen"===i.showsOrder){const d=c.filter(p=>p.unseenCount>0).sort((p,v)=>{const _=v.unseenCount,T=p.unseenCount;return _<T?-1:_>T?1:0}),f=c.filter(p=>0===p.unseenCount);c=d.concat(f)}s=c.map(d=>d.showId)}t.settingSvc.save("showIdOrderList",s),console.log("Updating show references...complete!")})()}updateShowReference(t,r={}){var i=this;return V(function*(){const s=yield i.getShow(t);void 0!==r.lastWatchedTime&&(s.lastWatchedTime=r.lastWatchedTime);const o=yield i.episodeSvc.getEpisodeList(t);i.updateReference(s,o),yield i.webDb.putObj("shows",s)})()}updateReference(t,r){const i=(new Date).getTime();let s=0;t.futureEpisode=void 0,t.pastEpisode=void 0,t.unseenEpisode=void 0,r.forEach((o,a,l)=>{o.localShowTime&&o.localShowTime<i?t.pastEpisode=o:!t.futureEpisode&&!!o.localShowTime&&o.localShowTime>=i&&(t.futureEpisode=o),o.localShowTime&&o.localShowTime<i&&!o.seen&&(s++,(0===a||a>0&&l[a-1].seen)&&(t.unseenEpisode=o))}),t.totalSeasons=(t.futureEpisode||t.pastEpisode||{season:0}).season,t.totalEpisodes=r.length,t.unseenCount=s}getShow(t){var r=this;return V(function*(){return yield r.webDb.getObj("shows",t)})()}getShowIdFromEpisode(t){return t.split("_")[0]}getShowByEpisodeId(t){var r=this;return V(function*(){const i=t.split("_")[0];return yield r.getShow(i)})()}getShowStatus(t){if((t.status||"").match(this.EndedRegex))return-1;const r=t.futureEpisode||t.pastEpisode,i=(new Date).getTime();return r&&r.localShowTime&&r.localShowTime>i?0:1}removeShow(t){this.webDb.deleteObj("shows",t),this.webDb.deleteRange("episodes","showIdIndex",this.webDb.getKeyRange("=",t)),this.settingSvc.get("showIdOrderList").then(r=>{r.splice(r.findIndex(i=>i===t),1),this.settingSvc.save("showIdOrderList",r)})}markAsSeen(t,r){var i=this;return V(function*(){yield i.episodeSvc.toggleSeen(r,!0);const s=yield i.episodeSvc.getEpisode(r),o=yield i.episodeSvc.getEpisode(s.nextId);t.unseenEpisode=o,t.unseenCount>0&&(t.unseenCount=t.unseenCount-1),t.lastWatchedTime=(new Date).getTime(),yield i.webDb.putObj("shows",t)})()}addUpdateTvMazeShow(t,r,i){var s=this;return V(function*(){var o,a,l,u,c;let d,f,p;if("tmdb"===t)d=s.apiTmdbSvc.getExternal(r).pipe(_n(X=>s.apiTvMazeSvc.getByThetvdb(X.tvdb_id)),te(([X,oe,j])=>(X._embedded={images:oe},[X,j])));else{if("tvmaze"!==t)throw new Error("API not recognized");d=s.apiTvMazeSvc.getShowAndEpisode(r)}try{const[X,oe]=yield Fg(d);f=X,p=oe}catch(X){return s.toastSvc.error("Something went wrong while fetching data from TvMaze API"),void console.error("server rejected the request",X)}const v="tvmaze"+f.id,_=(yield s.getShow(v))||{},T=!_.showId;_.showId=v,_.apiSource="tvmaze",_.apiId=_.apiId||{},_.apiId[t]=r,_.apiId.tvmaze=f.id,_.apiId.thetvdb=f.externals.thetvdb,_.apiId.imdb=f.externals.imdb;const x=f.network||f.webChannel;if(x&&(_.channel=_.channel||{},_.channel.name=x.name||"",x.country&&(_.channel.country=x.country)),_.name=f.name,_.url=f.url,_.showType=f.type,_.language=f.language,_.genres=f.genres,_.status=f.status,_.runtime=f.averageRuntime||f.runtime,_.premiered=f.premiered,_.summary=f.summary,_.schedule=f.schedule,_.userRating=_.userRating||{},_.userRating.average=f.rating.average,_.image=_.image||{poster:[],banner:[]},!!(null===(o=f.image)||void 0===o?void 0:o.original)&&!_.image.poster.includes(f.image.original)&&_.image.poster.push(f.image.original),null===(a=f._embedded)||void 0===a?void 0:a.images){const X=null===(l=f._embedded)||void 0===l?void 0:l.images.filter(oe=>"banner"===oe.type).map(oe=>oe.resolutions.original.url);for(const oe of X)_.image.banner.includes(oe)||_.image.banner.push(oe);if(0===_.image.banner.length){const oe=null===(c=null===(u=f._embedded)||void 0===u?void 0:u.images.find(j=>"background"===j.type))||void 0===c?void 0:c.resolutions.original.url;oe&&_.image.banner.push(oe)}}_.updateTime=i||(new Date).getTime();const S=p.filter(X=>!!X.airstamp);let P=p.filter(X=>!X.airstamp);S.sort((X,oe)=>{var j=X.airstamp+"_"+s.commonSvc.zeroPad(X.season,4)+"_"+s.commonSvc.zeroPad(X.number||0,4),q=oe.airstamp+"_"+s.commonSvc.zeroPad(oe.season,4)+"_"+s.commonSvc.zeroPad(oe.number||0,4);return s.commonSvc.sortAscending(j,q)});let B=S.length>0?S[0].season:1,Q=[];S.forEach(X=>{X.season!=B&&(Q=Q.concat(P.filter(oe=>oe.season===B)),P=P.filter(oe=>oe.season!==B),B=X.season),Q.push(X)}),Q=Q.concat(P);let Ne=0,Ve=0,Tt=0,ce=[];Q.forEach(X=>{const oe={showId:v,episodeId:"",localShowTime:X.airstamp?Date.parse(X.airstamp):void 0,name:X.name,url:X.url,iso8601:X.airstamp,runtime:X.runtime,season:X.season,number:X.number,summary:X.summary,apiSource:t,apiId:{tvmaze:X.id},poster:X.image?X.image.original:void 0,counter:0,nextId:void 0,previousId:void 0,seen:!1,special:!1};null!=X.number?(Tt=X.number,oe.special=!1,oe.counter=++Ne,oe.episodeId=s.episodeSvc.createEpisodeId(v,oe.season,Tt,Ne)):(oe.special=!0,oe.counter=++Ve,oe.episodeId=s.episodeSvc.createEpisodeId(v,oe.season,Tt,Ne,Ve)),ce.push(oe)});const mt=(yield s.episodeSvc.getEpisodeDictionary(v))||{},Mr=(new Date).getTime();let Bn=0;_.futureEpisode=void 0,_.pastEpisode=void 0,_.unseenEpisode=void 0;for(var de=0;de<ce.length;de++){if(de>0&&(ce[de].previousId=ce[de-1].episodeId),de<=ce.length-2&&(ce[de].nextId=ce[de+1].episodeId),mt[ce[de].episodeId])ce[de].seen=mt[ce[de].episodeId].seen;else for(const X in mt)if(Object.prototype.hasOwnProperty.call(mt,X)){const oe=mt[X];if(oe.season===ce[de].season&&oe.number===ce[de].number&&oe.name.toLowerCase()===ce[de].name.toLowerCase()){ce[de].seen=oe.seen;break}}ce[de].localShowTime&&(ce[de].localShowTime||0)<Mr?_.pastEpisode=ce[de]:!_.futureEpisode&&!!ce[de].localShowTime&&(ce[de].localShowTime||0)>=Mr&&(_.futureEpisode=ce[de]),ce[de].localShowTime&&(ce[de].localShowTime||0)<Mr&&!ce[de].seen&&(Bn++,(0===de||de>0&&ce[de-1].seen)&&(_.unseenEpisode=ce[de]))}_.totalSeasons=(_.futureEpisode||_.pastEpisode||{season:0}).season,_.totalEpisodes=ce.length,_.unseenCount=Bn;try{yield s.webDb.putObj("shows",_),yield s.webDb.deleteRange("episodes","showIdIndex",s.webDb.getKeyRange("=",v)),yield s.webDb.putList("episodes",ce),console.log("addUpdateShow",f.name,T?"Adding":"Updating"),s.toastSvc.success(`Show '${_.name}' ${T?"added to":"updated in"} your TvWatchList!`)}catch(X){s.toastSvc.error(`Something went wrong while saving Show '${_.name||r}'`),console.error("server rejected the request",X)}})()}smartUpdateAllShows(){var t=this;return V(function*(){const r=yield t.settingSvc.get("updateTime"),i=new Date,s=t.commonSvc.getDaysBetween(new Date(r),i);if(console.log("smartUpdateAllShows",s+" days since last smart update..."),s<1)return console.log("smartUpdateAllShows","its not time to do smartUpdate yet"),!1;const l=yield Fg(t.apiTvMazeSvc.getUpdates("all"));return(yield t.webDb.getIndexedList("shows","updateTimeIndex",t.webDb.getKeyRange("<",r))).forEach(function(){var c=V(function*(d){const f=d.apiId[d.apiSource],p=1e3*(l[f]||0),v=d.updateTime||0;!!l[f]&&p>v&&("tvmaze"===d.apiSource?yield t.addUpdateTvMazeShow(d.apiSource,d.apiId[d.apiSource],p):console.log(d.apiSource+" Not supported yet!")),l[f]?console.log("smartUpdateAllShows",f,d.name,new Date(v),p>v?"UPDATED":"SKIPPED",new Date(p)):console.log("smartUpdateAllShows",f,d.name,new Date(v),"NOT in API-Update list")});return function(d){return c.apply(this,arguments)}}()),yield t.settingSvc.save("updateTime",i.getTime()),!0})()}}return e.\u0275fac=function(t){return new(t||e)(F(gs),F(_l),F(vl),F(ed),F(bT),F(wT),F(ms))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vs=(()=>{class e{constructor(){this.subject=new lt}show(t=""){this.subject.next({message:t,status:!0})}close(){this.subject.next({message:"",status:!1})}subscribe(t,r){return this.subject.subscribe({next:t,error:r})}unsubscribe(){this.subject.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),Gg=(()=>{class e{constructor(){this.now=(new Date).getTime()}addToHomeScreen(){var t,r;console.log("adding to homescreen"),null===(t=this.deferredInstallPrompt)||void 0===t||t.prompt(),null===(r=this.deferredInstallPrompt)||void 0===r||r.userChoice.then(i=>{"accepted"===i.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),this.deferredInstallPrompt=void 0})}get IsIos(){return navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2}get IsInStandaloneMode(){return"standalone"in window.navigator?window.navigator.standalone:window.matchMedia("(display-mode: standalone)").matches}get Browser(){const t=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,r="undefined"!=typeof InstallTrigger,i=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString(),s=!!document.documentMode,o=!s&&!!window.StyleMedia,a=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);let c="";return c+="isFirefox: "+r,c+=", isChrome: "+a,c+=", isSafari: "+i,c+=", isOpera: "+t,c+=", isIE: "+s,c+=", isEdge: "+o,c+=", isEdgeChromium: "+(a&&-1!=navigator.userAgent.indexOf("Edg")),c+=", isBlink: "+((a||t)&&!!window.CSS),c}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function YB(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",10),m()),2&e&&w("ngClass",R().classComposed)}function QB(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",11),m()),2&e&&w("ngClass",R().classComposed)}function XB(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",12),m()),2&e&&w("ngClass",R().classComposed)}function ZB(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",13),M(2,"path",14),m()),2&e&&w("ngClass",R().classComposed)}function JB(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",15),m()),2&e&&w("ngClass",R().classComposed)}function ej(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",16),m()),2&e&&w("ngClass",R().classComposed)}function tj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",17),m()),2&e&&w("ngClass",R().classComposed)}function nj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",18),m()),2&e&&w("ngClass",R().classComposed)}function rj(e,n){1&e&&($e(),g(0,"svg",19),M(1,"path",20),m()),2&e&&w("ngClass",R().classComposed)}function ij(e,n){1&e&&($e(),g(0,"svg",21),M(1,"path",22),m()),2&e&&w("ngClass",R().classComposed)}function sj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",23),m()),2&e&&w("ngClass",R().classComposed)}function oj(e,n){1&e&&($e(),g(0,"svg",19),M(1,"path",24),M(2,"path",25),m()),2&e&&w("ngClass",R().classComposed)}function aj(e,n){1&e&&($e(),g(0,"svg",21),M(1,"path",26),m()),2&e&&w("ngClass",R().classComposed)}function lj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",27),m()),2&e&&w("ngClass",R().classComposed)}function uj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",28),m()),2&e&&w("ngClass",R().classComposed)}function cj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",29),m()),2&e&&w("ngClass",R().classComposed)}function dj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",30),m()),2&e&&w("ngClass",R().classComposed)}function fj(e,n){1&e&&($e(),g(0,"svg",31),M(1,"path",32),m()),2&e&&w("ngClass",R().classComposed)}function hj(e,n){1&e&&($e(),g(0,"svg",33),g(1,"metadata"),A(2," Svg Vector Icons : http://www.onlinewebfonts.com/icon "),m(),M(3,"path",34),m()),2&e&&w("ngClass",R().classComposed)}function pj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",35),m()),2&e&&w("ngClass",R().classComposed)}function gj(e,n){1&e&&($e(),g(0,"svg",9),M(1,"path",36),M(2,"path",37),m()),2&e&&w("ngClass",R().classComposed)}function mj(e,n){1&e&&vh(0,38),2&e&&(R(),w("ngTemplateOutlet",pn(25)))}function yj(e,n){1&e&&vh(0,38),2&e&&(R(),w("ngTemplateOutlet",pn(25)))}function vj(e,n){1&e&&($e(),g(0,"svg",21),M(1,"path",39),m()),2&e&&w("ngClass",R().classComposed)}let wn=(()=>{class e{constructor(){this.icon="home",this.size="7",this.classes="",this.classComposed="",this.iconSizes={12:"w-12 h-12",8:"w-8 h-8",7:"w-7 h-7",6:"w-6 h-6",4:"w-4 h-4"}}ngOnChanges(){this.classComposed+=this.classes+" "+this.iconSizes[this.size]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["tvq-svg-icon"]],inputs:{icon:"icon",size:"size",classes:"classes"},features:[Bt],decls:26,vars:23,consts:[[3,"ngSwitch"],["class","inline-block","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",3,"ngClass",4,"ngSwitchCase"],["class","inline-block","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",3,"ngClass",4,"ngSwitchCase"],["class","inline-block","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",3,"ngClass",4,"ngSwitchCase"],["class","inline-block","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",3,"ngClass",4,"ngSwitchCase"],["class","inline-block","fill","currentColor","stroke","none","viewBox","0 0 1000 1000","xmlns","http://www.w3.org/2000/svg",3,"ngClass",4,"ngSwitchCase"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],["default",""],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"inline-block",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"inline-block",3,"ngClass"],["fill-rule","evenodd","d","M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"inline-block",3,"ngClass"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["d","M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"],["d","M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z","clip-rule","evenodd"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"inline-block",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["fill","currentColor","stroke","none","viewBox","0 0 1000 1000","xmlns","http://www.w3.org/2000/svg",1,"inline-block",3,"ngClass"],["d","M780,290H640v35h140c19.3,0,35,15.7,35,35v560c0,19.3-15.7,35-35,35H220c-19.2,0-35-15.7-35-35V360c0-19.2,15.7-35,35-35h140v-35H220c-38.7,0-70,31.3-70,70v560c0,38.7,31.3,70,70,70h560c38.7,0,70-31.3,70-70V360C850,321.3,818.7,290,780,290z M372.5,180l110-110.2v552.7c0,9.6,7.9,17.5,17.5,17.5c9.6,0,17.5-7.9,17.5-17.5V69.8l110,110c3.5,3.5,7.9,5,12.5,5s9-1.7,12.5-5c6.8-6.8,6.8-17.9,0-24.7l-140-140c-6.8-6.8-17.9-6.8-24.7,0l-140,140c-6.8,6.8-6.8,17.9,0,24.7C354.5,186.8,365.5,186.8,372.5,180z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"],[3,"ngTemplateOutlet"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"]],template:function(t,r){1&t&&(yo(0,0),N(1,YB,2,1,"svg",1),N(2,QB,2,1,"svg",1),N(3,XB,2,1,"svg",1),N(4,ZB,3,1,"svg",1),N(5,JB,2,1,"svg",1),N(6,ej,2,1,"svg",1),N(7,tj,2,1,"svg",1),N(8,nj,2,1,"svg",1),N(9,rj,2,1,"svg",2),N(10,ij,2,1,"svg",3),N(11,sj,2,1,"svg",1),N(12,oj,3,1,"svg",2),N(13,aj,2,1,"svg",3),N(14,lj,2,1,"svg",1),N(15,uj,2,1,"svg",1),N(16,cj,2,1,"svg",1),N(17,dj,2,1,"svg",1),N(18,fj,2,1,"svg",4),N(19,hj,4,1,"svg",5),N(20,pj,2,1,"svg",1),N(21,gj,3,1,"svg",1),N(22,mj,1,1,"ng-container",6),N(23,yj,1,1,"ng-container",7),vo(),N(24,vj,2,1,"ng-template",null,8,qh)),2&t&&(w("ngSwitch",r.icon),D(1),w("ngSwitchCase","home"),D(1),w("ngSwitchCase","search"),D(1),w("ngSwitchCase","sparkles"),D(1),w("ngSwitchCase","cog"),D(1),w("ngSwitchCase","information-circle"),D(1),w("ngSwitchCase","chevron-left"),D(1),w("ngSwitchCase","chevron-down"),D(1),w("ngSwitchCase","chevron-right"),D(1),w("ngSwitchCase","menu"),D(1),w("ngSwitchCase","check-circle"),D(1),w("ngSwitchCase","check"),D(1),w("ngSwitchCase","external-link"),D(1),w("ngSwitchCase","solid-plus-circle"),D(1),w("ngSwitchCase","trash"),D(1),w("ngSwitchCase","refresh"),D(1),w("ngSwitchCase","dots-vertical"),D(1),w("ngSwitchCase","exclamation-circle"),D(1),w("ngSwitchCase","x"),D(1),w("ngSwitchCase","ios-share"),D(1),w("ngSwitchCase","cloud-upload"),D(1),w("ngSwitchCase","pie-chart"),D(1),w("ngSwitchCase","solid-exclamation-circle"))},directives:[Qa,_p,is,Iw,bp],encapsulation:2}),e})();function _j(e,n){1&e&&M(0,"img",16),2&e&&w("src",R(2).model.banner,fi)}function bj(e,n){if(1&e&&(g(0,"span",17),A(1),m()),2&e){const t=R(2);D(1),gn(t.model.latestEpisodeDateFormatted)}}function wj(e,n){1&e&&(g(0,"span"),A(1,"TBA"),m())}function Dj(e,n){1&e&&(g(0,"span"),A(1,"Completed"),m())}function Cj(e,n){1&e&&M(0,"span",18),2&e&&w("innerHTML",R(2).model.latestEpisodeName,Fe)}const Ej=function(e,n){return{"w-9/12":e,"w-11/12":n}};function Sj(e,n){if(1&e&&(yo(0),M(1,"span",19),M(2,"span",20),vo()),2&e){const t=R(2);D(1),w("ngClass",kh(3,Ej,t.model.latestEpisodeDateFormatted.length>3,t.model.latestEpisodeDateFormatted.length<=3))("innerHTML",t.model.latestEpisodeName,Fe),D(1),w("innerHTML",t.model.latestEpisodeDateFormatted,Fe)}}function Tj(e,n){1&e&&(g(0,"div",21),M(1,"tvq-svg-icon",22),m())}function Aj(e,n){if(1&e&&(g(0,"span",17),A(1),m()),2&e){const t=R(3);D(1),gn(t.model.unseenEpisodeName||"**All Seen**")}}function Ij(e,n){1&e&&(g(0,"span"),A(1,"**TBA**"),m())}function xj(e,n){if(1&e&&(g(0,"span",33),A(1),m()),2&e){const t=R(3);D(1),Be("Unseen: ",t.model.unseenCount,"")}}function Mj(e,n){if(1&e&&(g(0,"span",33),A(1),m()),2&e){const t=R(3);D(1),Be("Next: ",t.model.latestEpisodeInDays,"")}}function Oj(e,n){if(1&e){const t=Te();yo(0),g(1,"div",23),g(2,"span",24),L("click",function(){return me(t),R(2).goToShowDetails()}),N(3,Aj,2,1,"span",25),N(4,Ij,2,0,"span",14),g(5,"button",26),M(6,"tvq-svg-icon",22),m(),m(),g(7,"button",27),L("click",function(){return me(t),R(2).markAsSeen()}),M(8,"tvq-svg-icon",28),m(),m(),g(9,"div",29),g(10,"div",30),M(11,"span",31),N(12,xj,2,1,"span",32),N(13,Mj,2,1,"span",32),m(),m(),vo()}if(2&e){const t=R(2);D(3),w("ngIf",t.model.totalEpisodes>0),D(1),w("ngIf",0===t.model.totalEpisodes),D(3),gi("invisible",0===t.model.unseenCount),D(4),w("innerHTML",t.model.channel,Fe),D(1),w("ngIf",t.model.unseenCount),D(1),w("ngIf",0===t.model.status)}}const Rj=function(e,n,t,r){return{"bg-red-500":e,"bg-green-500":n,"bg-blue-500":t,"cursor-pointer":r}},Nj=function(e){return{"bg-black bg-opacity-50 ":e}},kj=function(e,n,t){return{"bg-red-500":e,"bg-green-500":n,"bg-blue-500":t}},Fj=function(e){return{"mb-2":e}};function Pj(e,n){if(1&e){const t=Te();g(0,"div",1),L("click",function(){return me(t),R().model.expand=!0}),N(1,_j,1,1,"img",2),g(2,"div",3),g(3,"div",4),g(4,"span"),M(5,"span",5),M(6,"span",6),m(),g(7,"span",7),yo(8,8),N(9,bj,2,1,"span",9),N(10,wj,2,0,"span",10),N(11,Dj,2,0,"span",11),vo(),m(),m(),g(12,"div",12),N(13,Cj,1,1,"span",13),N(14,Sj,3,6,"ng-container",14),m(),N(15,Tj,2,0,"div",15),N(16,Oj,14,7,"ng-container",14),m(),m()}if(2&e){const t=R();w("ngClass",ob(14,Rj,-1===t.model.status,0===t.model.status,1===t.model.status,!t.model.expand)),D(1),w("ngIf",!!t.model.banner),D(1),w("ngClass",So(19,Nj,!!t.model.banner)),D(3),w("innerHTML",t.model.name,Fe),D(1),w("innerHTML",t.model.premiered,Fe),D(1),w("ngClass",sb(21,kj,-1===t.model.status,0===t.model.status,1===t.model.status)),D(1),w("ngSwitch",t.model.status),D(1),w("ngSwitchCase",0),D(1),w("ngSwitchCase",1),D(2),w("ngClass",So(25,Fj,t.model.expand)),D(1),w("ngIf",0===t.model.status),D(1),w("ngIf",0!==t.model.status),D(1),w("ngIf",!t.model.expand),D(1),w("ngIf",t.model.expand)}}let Lj=(()=>{class e{constructor(t,r,i,s){this.showSvc=t,this.episodeSvc=r,this.router=i,this.cdRef=s}ngOnInit(){var t=this;return V(function*(){if(!t.showId)throw new Error("The required input [showId] was not provided");t.model=yield t.showSvc.getShowModel(t.showId),t.cdRef.markForCheck()})()}markAsSeen(){var t=this;return V(function*(){const r=yield t.showSvc.getShow(t.showId);r.unseenEpisode&&(yield t.showSvc.markAsSeen(r,r.unseenEpisode.episodeId),t.model=yield t.showSvc.getShowModel(t.showId),t.model.expand=!0),t.cdRef.markForCheck()})()}goToShowDetails(){this.router.navigate(["/show-detail/",this.showId]),this.cdRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(C(ys),C(_l),C(bt),C(Kt))},e.\u0275cmp=Me({type:e,selectors:[["tvq-show-banner-card"]],inputs:{showId:"showId"},decls:1,vars:1,consts:[["class","relative flex flex-wrap mb-2 rounded-md shadow-md",3,"ngClass","click",4,"ngIf"],[1,"relative","flex","flex-wrap","mb-2","rounded-md","shadow-md",3,"ngClass","click"],["class","absolute inset-0 object-cover w-full h-full rounded-md","alt","",3,"src",4,"ngIf"],[1,"relative","inset-0","w-full","h-full","p-2","text-white","rounded-md",3,"ngClass"],[1,"flex","justify-between","w-full"],[1,"mr-2","font-bold",3,"innerHTML"],[1,"text-sm",3,"innerHTML"],[1,"px-1","my-auto","text-xs",3,"ngClass"],[3,"ngSwitch"],["class","truncate",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","justify-between","w-full",3,"ngClass"],["class","w-full",3,"innerHTML",4,"ngIf"],[4,"ngIf"],["class","flex justify-center",4,"ngIf"],["alt","",1,"absolute","inset-0","object-cover","w-full","h-full","rounded-md",3,"src"],[1,"truncate"],[1,"w-full",3,"innerHTML"],[1,"w-9/12","truncate",3,"ngClass","innerHTML"],[1,"px-1","my-auto","text-xs","text-right",3,"innerHTML"],[1,"flex","justify-center"],["icon","chevron-down","size","4"],[1,"flex","justify-between","w-full","gap-1","mb-2"],[1,"flex","justify-between","w-11/12","p-1","my-auto","text-sm","truncate","border","border-white","rounded","shadow-lg","cursor-pointer",3,"click"],["class","truncate",4,"ngIf"],["title","More",1,"inline-flex","justify-center","my-auto","text-white","focus:outline-none"],["title","Watched",1,"inline-flex","justify-center","text-white","focus:outline-none",3,"click"],["icon","check-circle","size","6"],[1,"flex","justify-between","w-full","text-sm"],[1,"w-11/12"],[1,"my-auto","mr-4",3,"innerHTML"],["class","my-auto mr-4",4,"ngIf"],[1,"my-auto","mr-4"]],template:function(t,r){1&t&&N(0,Pj,17,27,"div",0),2&t&&w("ngIf",!!r.model)},directives:[Yt,is,Qa,_p,bp,wn],encapsulation:2,changeDetection:0}),e})();const Vj=["*"];let Wg=(()=>{class e{constructor(){this.clicked=new Re}ngOnInit(){}onClickButton(t){t.stopPropagation(),console.log("button clicked"),this.clicked.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["tvq-button"]],outputs:{clicked:"clicked"},ngContentSelectors:Vj,decls:2,vars:0,consts:[[1,"inline-block","px-4","py-1","mx-auto","mt-2","text-xs","text-white","bg-blue-500","border","rounded-lg",3,"click"]],template:function(t,r){1&t&&(function P_(e){const n=O()[16][6];if(!n.projection){const r=n.projection=ma(e?e.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const o=e?AR(s,e):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),g(0,"button",0),L("click",function(s){return r.onClickButton(s)}),function L_(e,n=0,t){const r=O(),i=De(),s=eo(i,20+e,16,null,t||null);null===s.projection&&(s.projection=n),Qd(),64!=(64&s.flags)&&function IM(e,n,t){cv(n[11],0,n,t,ev(e,t,n),iv(t.parent||n[6],t,n))}(i,r,s)}(1),m())},encapsulation:2}),e})();function Uj(e,n){1&e&&M(0,"tvq-show-banner-card",2),2&e&&w("showId",n.$implicit)}function Bj(e,n){if(1&e&&(g(0,"div"),N(1,Uj,1,1,"tvq-show-banner-card",1),m()),2&e){const t=R();D(1),w("ngForOf",t.showIdList)}}function jj(e,n){if(1&e){const t=Te();g(0,"tvq-button",20),L("clicked",function(){return me(t),R(3).install()}),A(1,"Install Web App"),m()}}function $j(e,n){1&e&&(g(0,"span"),A(1,"Install this web app on your device. Tap "),M(2,"tvq-svg-icon",21),A(3," then Add to Home Screen."),m())}function Hj(e,n){if(1&e&&(g(0,"li",6),N(1,jj,2,0,"tvq-button",19),N(2,$j,4,0,"span",0),m()),2&e){const t=R(2);D(1),w("ngIf",!t.isIOS&&t.showInstall),D(1),w("ngIf",t.isIOS)}}const zj=function(){return["/popular"]},qj=function(){return["/search"]};function Gj(e,n){if(1&e&&(g(0,"div"),g(1,"ul",3),g(2,"li",4),M(3,"img",5),m(),g(4,"li",6),A(5,"Do you watch lot of TV Shows?"),m(),g(6,"li",6),A(7,"Forgot the last seen episode?"),m(),g(8,"li",7),A(9,'If "YES", then you are in the right place!'),m(),g(10,"li",8),A(11,"Track your favorite TV Shows and episodes by creating your personal TV WatchList for Free."),m(),g(12,"li",9),A(13,"No need to setup user account or email."),m(),g(14,"li",10),A(15,"Data is stored in your device."),m(),g(16,"li",11),A(17,"Also as a bonus, it will alert you of Today's Show."),m(),g(18,"li",12),A(19,"Get started"),m(),g(20,"li",13),g(21,"span",14),M(22,"tvq-svg-icon",15),A(23," Popular "),m(),g(24,"span",14),M(25,"tvq-svg-icon",16),A(26," Search "),m(),m(),N(27,Hj,3,2,"li",17),m(),g(28,"pre",18),A(29,"        Features:\n        * Simple design with easily manageable listing.\n        * Displays TV shows with all its episode names and air dates.\n        * Quick peek previous and next episode name and air date.\n        * Next show days and unseen episodes counter.\n        * Follow Running, TBA and Completed Shows.\n        * Search Series and add them to your watchlist.\n        * Show list updated daily.\n        * Data saved using HTML5's IndexedDB.\n        * Notification popup alert for current new shows.\n        * One click episode summary\n        * Ability to customize summary link and color scheme\n        * Each TV Show displays its banner in the background (courtesy of thetvdb.com).\n        * Ability to Share your show list with others\n        * Added facebook Status Page\n        * Shows can be sorted by date, name, unseen or arrange the list of the shows to your preference\n        * Icon count can now be unseen shows, episodes or blank TV icon for seen\n        * Compact view, Now can fit more shows on screen.\n        * Cloud syncing of data using Dropbox\n        * Shows and episode listing courtesy of TVmaze.com.\n    "),m(),m()),2&e){const t=R();D(21),w("routerLink",sr(3,zj)),D(3),w("routerLink",sr(4,qj)),D(3),w("ngIf",!t.isInStandaloneMode)}}let Wj=(()=>{class e{constructor(t,r,i,s,o){this.settingSvc=t,this.showSvc=r,this.loaderSvc=i,this.tvqSvc=s,this.cdRef=o,this.showIdList=[]}get isIOS(){return this.tvqSvc.IsIos}get isInStandaloneMode(){return this.tvqSvc.IsInStandaloneMode}get showInstall(){return!!this.tvqSvc.deferredInstallPrompt}ngOnInit(){var t=this;return V(function*(){t.loaderSvc.show();const r=performance.now();try{yield t.showSvc.smartUpdateAllShows()}catch(s){}yield t.showSvc.updateAllShowReference(),t.showIdList=yield t.settingSvc.get("showIdOrderList");const i=performance.now();console.log(`Call to updateAllShowReference took ${i-r} milliseconds.`),t.loaderSvc.close(),t.cdRef.markForCheck()})()}install(){console.log("installing"),this.tvqSvc.addToHomeScreen()}}return e.\u0275fac=function(t){return new(t||e)(C(gs),C(ys),C(vs),C(Gg),C(Kt))},e.\u0275cmp=Me({type:e,selectors:[["tvq-home"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"showId",4,"ngFor","ngForOf"],[3,"showId"],[1,"flex","flex-col"],[1,"w-full","mb-4"],["src","assets/myTvQ.png","alt","",1,"mx-auto","h-[115px]"],[1,"text-center"],[1,"my-2","text-center"],[1,"my-4","text-center"],[1,"mb-2","text-center"],[1,"mb-4","text-center"],[1,"hidden","text-center"],[1,"text-xl","text-center"],[1,"flex","justify-around","mb-8","text-orange-600"],[1,"flex","flex-col","my-4","cursor-pointer","focus:outline-none",3,"routerLink"],["icon","sparkles","size","12","classes","mx-auto"],["icon","search","size","12","classes","mx-auto"],["class","text-center",4,"ngIf"],[1,"hidden"],[3,"clicked",4,"ngIf"],[3,"clicked"],["icon","ios-share","classes","mx-auto text-blue-500"]],template:function(t,r){1&t&&(N(0,Bj,2,1,"div",0),N(1,Gj,30,5,"div",0)),2&t&&(w("ngIf",!!r.showIdList.length),D(1),w("ngIf",!r.showIdList.length))},directives:[Yt,vi,Lj,gl,wn,Wg],encapsulation:2,data:{animation:[nB({anchor:"enterLeft",duration:400}),hS({anchor:"enterRight",duration:400}),rB({anchor:"leaveLeft",duration:400}),ES({anchor:"leaveRight",duration:400})]},changeDetection:0}),e})(),Dl=(()=>{class e{constructor(t){this.elem=t,this.default="assets/icons/apple-icon-180.png"}onError(){console.log("error fetching image, using default"),this.elem.nativeElement.src=this.elem.nativeElement.src!==this.default?this.default:""}}return e.\u0275fac=function(t){return new(t||e)(C(Gt))},e.\u0275dir=W({type:e,selectors:[["img","tvqDefault",""]],hostBindings:function(t,r){1&t&&L("error",function(){return r.onError()})},inputs:{default:"default"}}),e})(),DT=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(C(Vr),C(Gt))},e.\u0275dir=W({type:e}),e})(),_s=(()=>{class e extends DT{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ht(e)))(r||e)}}(),e.\u0275dir=W({type:e,features:[Oe]}),e})();const xr=new se("NgValueAccessor"),Kj={provide:xr,useExisting:Ie(()=>Kg),multi:!0};let Kg=(()=>{class e extends _s{writeValue(t){this.setProperty("checked",t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ht(e)))(r||e)}}(),e.\u0275dir=W({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&L("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[He([Kj]),Oe]}),e})();const Yj={provide:xr,useExisting:Ie(()=>sd),multi:!0},Xj=new se("CompositionEventMode");let sd=(()=>{class e extends DT{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qj(){const e=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(C(Vr),C(Gt),C(Xj,8))},e.\u0275dir=W({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&L("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[He([Yj]),Oe]}),e})();const Pt=new se("NgValidators"),xi=new se("NgAsyncValidators");function RT(e){return null!=e}function NT(e){const n=Na(e)?et(e):e;return _h(n),n}function kT(e){let n={};return e.forEach(t=>{n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function FT(e,n){return n.map(t=>t(e))}function PT(e){return e.map(n=>function Jj(e){return!e.validate}(n)?n:t=>n.validate(t))}function Yg(e){return null!=e?function LT(e){if(!e)return null;const n=e.filter(RT);return 0==n.length?null:function(t){return kT(FT(t,n))}}(PT(e)):null}function Qg(e){return null!=e?function VT(e){if(!e)return null;const n=e.filter(RT);return 0==n.length?null:function(t){return td(FT(t,n).map(NT)).pipe(te(kT))}}(PT(e)):null}function UT(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Xg(e){return e?Array.isArray(e)?e:[e]:[]}function od(e,n){return Array.isArray(e)?e.includes(n):e===n}function $T(e,n){const t=Xg(n);return Xg(e).forEach(i=>{od(t,i)||t.push(i)}),t}function HT(e,n){return Xg(n).filter(t=>!od(e,t))}class zT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Yg(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Qg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Mi extends zT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qt extends zT{get formDirective(){return null}get path(){return null}}let ad=(()=>{class e extends class qT{constructor(n){this._cd=n}is(n){var t,r,i;return"submitted"===n?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[n])}}{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(C(Mi,2))},e.\u0275dir=W({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&gi("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Oe]}),e})();function El(e,n){(function em(e,n){const t=function BT(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(UT(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function jT(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(UT(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();dd(n._rawValidators,i),dd(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),function l5(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&WT(e,n)})}(e,n),function c5(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function u5(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&WT(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function a5(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function dd(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function WT(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function hd(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const Sl="VALID",pd="INVALID",jo="PENDING",Tl="DISABLED";function im(e){return(gd(e)?e.validators:e)||null}function QT(e){return Array.isArray(e)?Yg(e):e||null}function sm(e,n){return(gd(n)?n.asyncValidators:e)||null}function XT(e){return Array.isArray(e)?Qg(e):e||null}function gd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const om=e=>e instanceof lm;function JT(e){return(e=>e instanceof nA)(e)?e.value:e.getRawValue()}function eA(e,n){const t=om(e),r=e.controls;if(!(t?Object.keys(r):r).length)throw new fe(1e3,"");if(!r[n])throw new fe(1001,"")}function tA(e,n){om(e),e._forEachChild((r,i)=>{if(void 0===n[i])throw new fe(1002,"")})}class am{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=QT(this._rawValidators),this._composedAsyncValidatorFn=XT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Sl}get invalid(){return this.status===pd}get pending(){return this.status==jo}get disabled(){return this.status===Tl}get enabled(){return this.status!==Tl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=QT(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=XT(n)}addValidators(n){this.setValidators($T(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators($T(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(HT(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(HT(n,this._rawAsyncValidators))}hasValidator(n){return od(this._rawValidators,n)}hasAsyncValidator(n){return od(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=jo,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Tl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Sl,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sl||this.status===jo)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tl:Sl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator=!0;const t=NT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){return function p5(e,n,t){if(null==n||(Array.isArray(n)||(n=n.split(t)),Array.isArray(n)&&0===n.length))return null;let r=e;return n.forEach(i=>{r=om(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(e=>e instanceof m5)(r)&&r.at(i)||null}),r}(this,n,".")}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Tl:this.errors?pd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(pd)?pd:Sl}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){gd(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class nA extends am{constructor(n=null,t,r){super(im(t),sm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){hd(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){hd(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class lm extends am{constructor(n,t,r){super(im(t),sm(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){tA(this,n),Object.keys(n).forEach(r=>{eA(this,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=JT(t),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&n(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class m5 extends am{constructor(n,t,r){super(im(t),sm(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),t&&(this.controls.splice(n,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){tA(this,n),n.forEach((r,i)=>{eA(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>JT(n))}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const _5={provide:Mi,useExisting:Ie(()=>Il)},sA=(()=>Promise.resolve(null))();let Il=(()=>{class e extends Mi{constructor(t,r,i,s){super(),this.control=new nA,this._registered=!1,this.update=new Re,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function nm(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===sd?t=s:function h5(e){return Object.getPrototypeOf(e.constructor)===_s}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function tm(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function ud(e,n){return[...n.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){El(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){sA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;sA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(C(Qt,9),C(Pt,10),C(xi,10),C(xr,10))},e.\u0275dir=W({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[He([_5]),Oe,Bt]}),e})(),aA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({}),e})();const M5={provide:xr,useExisting:Ie(()=>md),multi:!0};function pA(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let md=(()=>{class e extends _s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const i=pA(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function O5(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ht(e)))(r||e)}}(),e.\u0275dir=W({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&L("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([M5]),Oe]}),e})(),gA=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(pA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(C(Gt),C(Vr),C(md,9))},e.\u0275dir=W({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const R5={provide:xr,useExisting:Ie(()=>hm),multi:!0};function mA(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let hm=(()=>{class e extends _s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function N5(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ht(e)))(r||e)}}(),e.\u0275dir=W({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&L("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([R5]),Oe]}),e})(),yA=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(mA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(mA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(C(Gt),C(Vr),C(hm,9))},e.\u0275dir=W({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),H5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({imports:[[aA]]}),e})(),AA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({imports:[H5]}),e})();function z5(e,n){1&e&&M(0,"span",15),2&e&&w("innerHTML",R(2).model.summary,Fe)}function q5(e,n){if(1&e){const t=Te();g(0,"button",16),L("click",function(){return me(t),R(2).expand()}),M(1,"tvq-svg-icon",17),m()}}function G5(e,n){if(1&e){const t=Te();g(0,"div",1),g(1,"div",2),M(2,"img",3),m(),g(3,"div",4),M(4,"div",5),g(5,"div",6),M(6,"span",7),g(7,"button",8),L("click",function(){return me(t),R().toggleSeen()}),M(8,"tvq-svg-icon",9),m(),m(),g(9,"div",10),N(10,z5,1,1,"span",11),N(11,q5,2,0,"button",12),g(12,"button",13),L("click",function(){me(t);const i=R();return i.goToUrl(i.model.url)}),M(13,"tvq-svg-icon",14),m(),m(),m(),m()}if(2&e){const t=R();D(2),w("src",t.model.image,fi),D(1),gi("text-gray-400",t.seenToggled),D(1),w("innerHTML",t.model.episodeName,Fe),D(2),gi("bg-blue-500",t.model.isUnaired&&t.model.id!=t.latestEpisodeId)("bg-green-500",t.model.isUnaired&&t.model.id==t.latestEpisodeId)("bg-red-500",!t.model.isUnaired),w("innerHTML",t.model.dateFormatted,Fe),D(4),w("ngIf",t.model.expand&&t.model.summary),D(1),w("ngIf",!t.model.expand&&!!t.model.summary)}}let W5=(()=>{class e{constructor(t,r,i){this.showSvc=t,this.episodeSvc=r,this.cdRef=i,this.latestEpisodeId="",this.seenToggledChanged=new Re,this.today=(new Date).getTime()}ngOnInit(){var t=this;return V(function*(){var r;if(!t.episodeId)throw new Error("The required input [episodeId] was not provided");t.show=yield t.showSvc.getShowByEpisodeId(t.episodeId),t.model=yield t.episodeSvc.getEpisodeModel(t.episodeId,null===(r=t.show.channel.country)||void 0===r?void 0:r.code),t.cdRef.markForCheck()})()}expand(){this.model.expand=!this.model.expand}toggleSeen(){var t=this;return V(function*(){t.model.seen=!t.model.seen,t.model.seen?t.show.unseenCount++:t.show.unseenCount--,yield t.episodeSvc.toggleSeen(t.episodeId,t.model.seen),t.show.lastWatchedTime=(new Date).getTime(),yield t.showSvc.save(t.show),t.seenToggled=t.model.seen,t.seenToggledChanged.emit(t.seenToggled)})()}goToUrl(t){window.open(t,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(C(ys),C(_l),C(Kt))},e.\u0275cmp=Me({type:e,selectors:[["tvq-episode"]],inputs:{episodeId:"episodeId",latestEpisodeId:"latestEpisodeId",seenToggled:"seenToggled"},outputs:{seenToggledChanged:"seenToggledChanged"},decls:1,vars:1,consts:[["class","flex",4,"ngIf"],[1,"flex"],[1,"relative","flex-none","w-4/12","h-20","mr-2"],["tvqDefault","","alt","",1,"absolute","inset-0","object-cover","w-full","h-full","border",3,"src"],[1,"w-8/12"],[3,"innerHTML"],[1,"flex","justify-start"],[1,"inline-block","px-1","my-auto","mr-2","text-sm","text-white",3,"innerHTML"],[1,"inline-flex","justify-center","my-auto","focus:outline-none",3,"click"],["icon","check-circle","size","6"],[1,"text-xs"],["class","mr-4",3,"innerHTML",4,"ngIf"],["class","inline-flex justify-center my-auto mr-4 focus:outline-none",3,"click",4,"ngIf"],["title","External",1,"inline-flex","justify-center","my-auto","focus:outline-none",3,"click"],["icon","external-link","size","6"],[1,"mr-4",3,"innerHTML"],[1,"inline-flex","justify-center","my-auto","mr-4","focus:outline-none",3,"click"],["icon","information-circle","size","6"]],template:function(t,r){1&t&&N(0,G5,14,13,"div",0),2&t&&w("ngIf",!!r.model)},directives:[Yt,Dl,wn],encapsulation:2,changeDetection:0}),e})();function K5(e,n){1&e&&(g(0,"div",2),M(1,"div",3),m())}function Y5(e,n){1&e&&M(0,"li",10),2&e&&w("innerHTML",R(2).header,Fe)}function Q5(e,n){1&e&&M(0,"tvq-svg-icon",14)}const X5=function(e){return{"border-b":e}};function Z5(e,n){if(1&e){const t=Te();g(0,"li",11),L("click",function(){const s=me(t).$implicit;return R(2).clicked(s)}),g(1,"span",12),N(2,Q5,1,0,"tvq-svg-icon",13),A(3),m(),m()}if(2&e){const t=n.$implicit,r=n.last,i=R(2);w("ngClass",So(3,X5,!r)),D(2),w("ngIf",i.default===(t||" ")),D(1),Be(" ",t," ")}}function J5(e,n){if(1&e){const t=Te();g(0,"div",4),g(1,"div",5),g(2,"ul",6),N(3,Y5,1,1,"li",7),N(4,Z5,4,5,"li",8),m(),m(),g(5,"div",9),L("click",function(){return me(t),R().closeMenu()}),A(6,"Cancel"),m(),m()}if(2&e){const t=R();w("@slideInUpOnEnter",void 0)("@slideOutDownOnLeave",void 0)("@fadeOutOnLeave",void 0),D(3),w("ngIf",!!t.header),D(1),w("ngForOf",t.options)}}let xl=(()=>{class e{constructor(){this.visible=!1,this.header="",this.options=[],this.default="",this.action=new Re}ngOnInit(){}openMenu(){this.visible=!0}closeMenu(){this.visible=!1}clicked(t){this.action.emit(t),this.closeMenu()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["tvq-options-menu"]],inputs:{header:"header",options:"options",default:"default"},outputs:{action:"action"},decls:3,vars:2,consts:[["class","fixed inset-0 z-20 transition-opacity","aria-hidden","true",4,"ngIf"],["class","fixed inset-0 z-20",4,"ngIf"],["aria-hidden","true",1,"fixed","inset-0","z-20","transition-opacity"],[1,"absolute","inset-0","bg-gray-500","opacity-75"],[1,"fixed","inset-0","z-20"],[1,"absolute","left-0","right-0","m-2","text-center","bg-white","rounded-lg","standalone:mb-safe-bottom","bottom-16"],[1,"flex","flex-col","justify-center"],["class","px-1 py-2 text-sm font-semibold border-b",3,"innerHTML",4,"ngIf"],["class","px-1 py-4 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"absolute","bottom-0","left-0","right-0","p-4","m-2","text-center","text-red-500","bg-white","rounded-lg","cursor-pointer","standalone:mb-safe-bottom",3,"click"],[1,"px-1","py-2","text-sm","font-semibold","border-b",3,"innerHTML"],[1,"px-1","py-4","cursor-pointer",3,"ngClass","click"],[1,"inline-flex","text-blue-500"],["icon","check","size","6","classes","mr-2",4,"ngIf"],["icon","check","size","6","classes","mr-2"]],template:function(t,r){1&t&&(g(0,"div"),N(1,K5,2,0,"div",0),N(2,J5,7,5,"div",1),m()),2&t&&(D(1),w("ngIf",r.visible),D(1),w("ngIf",r.visible))},directives:[Yt,vi,is,wn],encapsulation:2,data:{animation:[mS({duration:400}),_S({duration:400}),ml({duration:400})]}}),e})();const e$=["menu"];function t$(e,n){if(1&e&&(g(0,"li"),g(1,"span",25),A(2,"channel:"),m(),M(3,"span",26),m()),2&e){const t=R(3);D(3),w("innerHTML",t.showModel.channel,Fe)}}function n$(e,n){if(1&e&&(g(0,"li"),g(1,"span",25),A(2,"schedule:"),m(),M(3,"span",26),m()),2&e){const t=R(3);D(3),w("innerHTML",t.showModel.schedule,Fe)}}function r$(e,n){if(1&e&&(g(0,"li"),g(1,"span",25),A(2,"status:"),m(),M(3,"span",26),m()),2&e){const t=R(3);D(3),w("innerHTML",t.showModel.statusText,Fe)}}function i$(e,n){if(1&e&&(g(0,"li"),g(1,"span",25),A(2,"type:"),m(),M(3,"span",26),m()),2&e){const t=R(3);D(3),w("innerHTML",t.showModel.genres,Fe)}}function s$(e,n){if(1&e&&(g(0,"li"),g(1,"span",25),A(2,"language:"),m(),M(3,"span",26),m()),2&e){const t=R(3);D(3),w("innerHTML",t.showModel.language,Fe)}}function o$(e,n){if(1&e&&(g(0,"li"),g(1,"span",25),A(2,"rating:"),m(),M(3,"span",26),m()),2&e){const t=R(3);D(3),w("innerHTML",t.showModel.userRating,Fe)}}function a$(e,n){if(1&e&&(g(0,"li"),g(1,"span",25),A(2),m(),M(3,"span",26),m()),2&e){const t=R(3);D(2),Be("",t.showModel.apiSource,":"),D(1),w("innerHTML",t.showModel.apiId,Fe)}}function l$(e,n){if(1&e&&(g(0,"li"),g(1,"span",25),A(2,"Unseen:"),m(),g(3,"span"),A(4),m(),m()),2&e){const t=R(3);D(4),es("",t.showModel.unseenCount," / ",t.showModel.totalEpisodes,"")}}function u$(e,n){if(1&e&&(g(0,"div",20),g(1,"div",21),M(2,"img",22),m(),g(3,"ul",23),N(4,t$,4,1,"li",24),N(5,n$,4,1,"li",24),N(6,r$,4,1,"li",24),N(7,i$,4,1,"li",24),N(8,s$,4,1,"li",24),N(9,o$,4,1,"li",24),N(10,a$,4,2,"li",24),N(11,l$,5,2,"li",24),m(),m()),2&e){const t=R(2);D(2),w("src",t.showModel.poster,fi),D(2),w("ngIf",!!t.showModel.channel),D(1),w("ngIf",!!t.showModel.schedule),D(1),w("ngIf",!!t.showModel.statusText),D(1),w("ngIf",!!t.showModel.genres),D(1),w("ngIf",!!t.showModel.language),D(1),w("ngIf",!!t.showModel.userRating),D(1),w("ngIf",!!t.showModel.apiId),D(1),w("ngIf",!!t.showModel.totalEpisodes)}}function c$(e,n){if(1&e){const t=Te();g(0,"div",27),M(1,"div",28),g(2,"div",29),g(3,"button",30),L("click",function(){return me(t),R(2).goToUrl()}),M(4,"tvq-svg-icon",31),m(),g(5,"button",32),L("click",function(){return me(t),R(2).refresh()}),M(6,"tvq-svg-icon",33),m(),g(7,"button",34),L("click",function(){return me(t),R(2),pn(6).openMenu()}),M(8,"tvq-svg-icon",35),m(),m(),M(9,"hr"),m()}if(2&e){const t=R(2);D(1),w("innerHTML",t.showModel.summary,Fe)}}function d$(e,n){if(1&e&&(g(0,"option",44),A(1),m()),2&e){const t=n.$implicit;w("value",t),D(1),Be("Season ",t,"")}}function f$(e,n){if(1&e){const t=Te();g(0,"div",36),g(1,"div",37),g(2,"select",38),L("ngModelChange",function(i){return me(t),R(2).selectedSeasonNum=i}),N(3,d$,2,2,"option",39),m(),g(4,"button",40),L("click",function(){return me(t),R(2),pn(8).openMenu()}),M(5,"tvq-svg-icon",41),m(),m(),g(6,"div",42),g(7,"button",40),L("click",function(){return me(t),R(2),pn(4).openMenu()}),M(8,"tvq-svg-icon",43),m(),m(),m()}if(2&e){const t=R(2);D(2),w("ngModel",t.selectedSeasonNum),D(1),w("ngForOf",t.seasonNumList),D(1),gi("text-gray-400",0==t.seasonUnSeen[t.selectedSeasonNum])}}function h$(e,n){if(1&e){const t=Te();g(0,"div",45),g(1,"tvq-episode",46),L("seenToggledChanged",function(i){return me(t),R(2).episodeToggled(i)}),m(),m()}if(2&e){const t=n.$implicit,r=R(2);D(1),w("episodeId",t.episodeId)("seenToggled",t.seen)("latestEpisodeId",r.latestEpisodeId)}}function p$(e,n){1&e&&(g(0,"span"),A(1,"No unseen episodes!"),m())}function g$(e,n){1&e&&(g(0,"span"),A(1,"No episodes released yet!"),m())}function m$(e,n){if(1&e&&(g(0,"div",47),M(1,"tvq-svg-icon",48),N(2,p$,2,0,"span",24),N(3,g$,2,0,"span",24),m()),2&e){const t=R(2);D(2),w("ngIf",t.showModel.totalEpisodes>0),D(1),w("ngIf",0===t.showModel.totalEpisodes)}}function y$(e,n){if(1&e){const t=Te();g(0,"div",49),g(1,"span",50),L("click",function(){return me(t),R(2).displayHidden()}),A(2),m(),m()}if(2&e){const t=R(2);D(2),Be(" ",t.hideSeen?"Show Hidden":"Hide Seen"," ")}}function v$(e,n){if(1&e){const t=Te();g(0,"div"),g(1,"div",8),g(2,"div"),M(3,"span",9),M(4,"span",10),Fh(5,"date"),m(),g(6,"button",11),L("click",function(){me(t);const i=R();return i.showDetails=!i.showDetails}),M(7,"tvq-svg-icon",12),m(),m(),N(8,u$,12,9,"div",13),N(9,c$,10,1,"div",14),N(10,f$,9,4,"div",15),g(11,"div",16),N(12,h$,2,3,"div",17),N(13,m$,4,2,"div",18),N(14,y$,3,1,"div",19),m(),m()}if(2&e){const t=R();D(3),w("innerHTML",t.showModel.name,Fe),D(1),w("innerHTML",function hb(e,n,t,r){const i=e+20,s=O(),o=Us(s,i);return Ha(s,i)?lb(s,jt(),n,o.transform,t,r,o):o.transform(t,r)}(5,8,t.showModel.premiered,"MMM dd, y"),Fe),D(4),w("ngIf",t.showDetails),D(1),w("ngIf",t.showDetails&&!!t.showModel.summary),D(1),w("ngIf",t.showModel.totalEpisodes>0),D(2),w("ngForOf",t.episodeList[t.selectedSeasonNum]),D(1),w("ngIf",!(null!=t.episodeList[t.selectedSeasonNum]&&t.episodeList[t.selectedSeasonNum].length)),D(1),w("ngIf",t.seasonUnSeen[t.selectedSeasonNum]!==t.seasonTotal[t.selectedSeasonNum])}}function _$(e,n){1&e&&(g(0,"div",47),M(1,"tvq-svg-icon",48),g(2,"span"),A(3,"Show not found!"),m(),m())}const IA=function(){return["Yes"]};let b$=(()=>{class e{constructor(t,r,i,s,o,a,l,u,c){this.cdRef=t,this.showSvc=r,this.commonSvc=i,this.settingSvc=s,this.episodeSvc=o,this.router=a,this.loaderSvc=l,this.activatedRoute=u,this.toastSvc=c,this.showDetails=!1,this.menuOptions=["Seen","Latest"],this.defaultMenuOption="Seen",this.showId="",this.episodeDictionary={},this.episodeList={},this.seasonUnSeen={},this.seasonTotal={},this.seasonNumList=[]}get hideSeen(){return this.pHideSeen||!1}set hideSeen(t){this.pHideSeen=t}ngOnInit(){var t=this;return V(function*(){t.loaderSvc.show(),t.activatedRoute.params.subscribe(function(){var r=V(function*(i){t.showId=i.showId,t.pHideSeen=yield t.settingSvc.get("hideSeen");const s=yield t.settingSvc.get("episodesOrder");t.defaultMenuOption="latest"===s?"Latest":"Seen",yield t.populateEpisodeList(),t.loaderSvc.close()});return function(i){return r.apply(this,arguments)}}())})()}populateEpisodeList(){var t=this;return V(function*(){try{t.showModel=yield t.showSvc.getShowModel(t.showId),t.episodeDictionary=yield t.episodeSvc.getEpisodeDictionary(t.showId)}catch(s){return void t.toastSvc.error(`Something went wrong. Show Id ${t.showId} doesn't exist!`)}(new Date).getTime(),t.seasonNumList.length=0,t.commonSvc.clearObj(t.episodeList),t.selectedSeasonNum=0,t.nextUnseenEpisodeId="",t.latestEpisodeId="";const i={};for(const s in t.episodeDictionary)if(Object.prototype.hasOwnProperty.call(t.episodeDictionary,s)){const o=t.episodeDictionary[s];i[o.season]||(i[o.season]=[],t.seasonUnSeen[o.season]=0,t.seasonTotal[o.season]=0),(t.hideSeen&&!o.seen||!t.hideSeen)&&i[o.season].push({episodeId:o.episodeId,seen:o.seen}),t.seasonTotal[o.season]++,o.seen||t.seasonUnSeen[o.season]++}t.latestEpisodeId=t.showModel.latestEpisodeId,t.nextUnseenEpisodeId=t.showModel.unseenEpisodeId,"Latest"===t.defaultMenuOption&&t.latestEpisodeId?t.selectedSeasonNum=t.episodeDictionary[t.latestEpisodeId].season:"Seen"===t.defaultMenuOption&&t.nextUnseenEpisodeId&&(t.selectedSeasonNum=t.episodeDictionary[t.nextUnseenEpisodeId].season),t.showModel&&(t.showModel.totalSeasons=t.seasonNumList.length),t.seasonNumList=Object.keys(i),0===t.selectedSeasonNum&&(t.selectedSeasonNum=t.seasonNumList[t.seasonNumList.length-1]),t.episodeList=i,t.showDetails=0===t.showModel.totalEpisodes,t.cdRef.markForCheck()})()}goToUrl(){this.showModel&&window.open(this.showModel.url,"_blank")}removeShow(){this.showSvc.removeShow(this.showId),this.router.navigate(["/"])}displayHidden(){this.hideSeen=!this.hideSeen,this.populateEpisodeList()}setSeasonAsSeen(){var t=this;return V(function*(){const r=t.episodeList[t.selectedSeasonNum].map(s=>s.episodeId);yield t.episodeSvc.toggleBulkSeen(r,!0);const i=(new Date).getTime();yield t.showSvc.updateShowReference(t.showId,{lastWatchedTime:i}),t.seasonUnSeen[t.selectedSeasonNum]=0,yield t.populateEpisodeList()})()}episodeToggled(t){console.log("episodeToggled",t,this.seasonUnSeen[this.selectedSeasonNum]),t?this.seasonUnSeen[this.selectedSeasonNum]--:this.seasonUnSeen[this.selectedSeasonNum]++,this.seasonUnSeen[this.selectedSeasonNum]||this.populateEpisodeList()}onMenuSelect(t){if(t){let i;this.defaultMenuOption=t,this.showSvc.getShow(this.showId),"Latest"===this.defaultMenuOption&&(i=this.episodeDictionary[this.latestEpisodeId],this.selectedSeasonNum=i.season),"Seen"===this.defaultMenuOption&&(i=this.episodeDictionary[this.nextUnseenEpisodeId],this.selectedSeasonNum=i.season)}}refresh(){var t=this;return V(function*(){const r=yield t.showSvc.getShow(t.showId);yield t.showSvc.addUpdateTvMazeShow(r.apiSource,r.apiId[r.apiSource]),t.cdRef.markForCheck()})()}}return e.\u0275fac=function(t){return new(t||e)(C(Kt),C(ys),C(ed),C(gs),C(_l),C(bt),C(vs),C(Ei),C(ms))},e.\u0275cmp=Me({type:e,selectors:[["tvq-show-detail"]],viewQuery:function(t,r){if(1&t&&_b(e$,5),2&t){let i;Ku(i=function Yu(){return function Qk(e,n){return e[19].queries[n].queryList}(O(),Km())}())&&(r.menu=i.first)}},decls:9,vars:8,consts:[[4,"ngIf","ngIfElse"],["showElseTmpl",""],[3,"default","options","action"],["menu",""],["header","This will delete the show with your watched history. Are you sure?",3,"options","action"],["menuRemove",""],["header","This will mark all episodes in selected season as seen. Are you sure?",3,"options","action"],["menuAllSeen",""],[1,"flex","justify-between"],[1,"mr-2","text-2xl","font-bold",3,"innerHTML"],[1,"text-sm",3,"innerHTML"],[1,"ml-2","focus:outline-none",3,"click"],["icon","information-circle","size","6"],["class","flex mb-2",4,"ngIf"],["class","w-full mt-2 text-sm",4,"ngIf"],["class","flex my-2",4,"ngIf"],[1,"flex","flex-wrap","mb-2","text-gray-800"],["class","w-full mb-2",4,"ngFor","ngForOf"],["class","flex flex-col pt-4 mx-auto text-lg text-center text-gray-700",4,"ngIf"],["class","w-full mt-4 text-center",4,"ngIf"],[1,"flex","mb-2"],[1,"relative","flex-none","w-4/12","mr-2"],["tvqDefault","","alt","",1,"relative","inset-0","object-cover","w-full",3,"src"],[1,"flex","flex-col","w-8/12"],[4,"ngIf"],[1,"mr-2","font-semibold","text-gray-400","uppercase"],[3,"innerHTML"],[1,"w-full","mt-2","text-sm"],[1,"block","mb-1",3,"innerHTML"],[1,"flex","justify-around","mb-1"],["title","External",1,"inline-flex","justify-center","my-auto","text-blue-500","focus:outline-none",3,"click"],["icon","external-link","size","7"],[1,"inline-flex","justify-center","my-auto","text-green-500","focus:outline-none",3,"click"],["icon","refresh","size","7"],["title","Trash",1,"inline-flex","justify-center","my-auto","text-red-500","focus:outline-none",3,"click"],["icon","trash","size","7"],[1,"flex","my-2"],[1,"flex","w-10/12"],[1,"w-11/12","mr-2","rounded","focus:outline-none",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"inline-flex","justify-center","my-auto","focus:outline-none",3,"click"],["icon","check-circle","size","6"],[1,"flex","justify-end","w-2/12"],["icon","dots-vertical","size","6"],[3,"value"],[1,"w-full","mb-2"],[3,"episodeId","seenToggled","latestEpisodeId","seenToggledChanged"],[1,"flex","flex-col","pt-4","mx-auto","text-lg","text-center","text-gray-700"],["icon","exclamation-circle","size","12","classes","mx-auto text-gray-500 stroke-current"],[1,"w-full","mt-4","text-center"],[1,"inline-block","px-4","py-2","border","border-gray-500","rounded-lg","focus:outline-none",3,"click"]],template:function(t,r){if(1&t&&(N(0,v$,15,11,"div",0),N(1,_$,4,0,"ng-template",null,1,qh),g(3,"tvq-options-menu",2,3),L("action",function(s){return r.onMenuSelect(s)}),m(),g(5,"tvq-options-menu",4,5),L("action",function(){return r.removeShow()}),m(),g(7,"tvq-options-menu",6,7),L("action",function(){return r.setSeasonAsSeen()}),m()),2&t){const i=pn(2);w("ngIf",!!r.showModel)("ngIfElse",i),D(3),w("default",r.defaultMenuOption)("options",r.menuOptions),D(2),w("options",sr(6,IA)),D(2),w("options",sr(7,IA))}},directives:[Yt,wn,Dl,md,ad,Il,vi,gA,yA,W5,xl],pipes:[Oo],encapsulation:2,changeDetection:0}),e})();const w$=function(e){return{"bg-green-500":e}},D$=function(e){return{"translate-x-6":e}};let xA=(()=>{class e{constructor(){this.state=!1,this.stateChange=new Re}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["tvq-switch"]],inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:3,vars:7,consts:[[1,"relative","items-center","inline-block","w-12","transition","bg-gray-100","border","border-gray-200","rounded-full","cursor-pointer",3,"ngClass"],["type","checkbox",1,"invisible",3,"ngModel","ngModelChange"],[1,"absolute","left-0","inline-block","w-6","h-6","transition","transform","bg-white","border","rounded-full","shadow-lg",3,"ngClass"]],template:function(t,r){1&t&&(g(0,"label",0),g(1,"input",1),L("ngModelChange",function(s){return r.state=s})("ngModelChange",function(){return r.stateChange.emit(r.state)}),m(),M(2,"span",2),m()),2&t&&(w("ngClass",So(3,w$,r.state)),D(1),w("ngModel",r.state),D(1),w("ngClass",So(5,D$,r.state)))},directives:[is,Kg,ad,Il],encapsulation:2}),e})(),C$=(()=>{class e{constructor(t){this.scv=t}intercept(t,r){return this.scv.updateRequestCount(!0),r.handle(t).pipe(nD(()=>{this.scv.updateRequestCount(!1)}))}}return e.\u0275fac=function(t){return new(t||e)(F(Ml))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),Ml=(()=>{class e{constructor(){this.subject=new lt,this.count=0}updateRequestCount(t){let r=t?++this.count:--this.count;r<0&&(r=0,this.count=0),this.subject.next(r)}subscribe(t,r){return this.subject.subscribe({next:t,error:r})}unsubscribe(){this.subject.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gm=(()=>{class e{constructor(t,r,i,s){this.settingSvc=t,this.episodeSvc=r,this.showSvc=i,this.webDb=s,this.now=(new Date).getTime()}import(t){var r=this;return V(function*(){const i=JSON.parse(t);6===i.data_structure_version?r.importV6(i):r.importV5(i)})()}importV5(t){var r=this;return V(function*(){if(console.log("fileContent",t),!("data_structure_version"in t))throw new Error("file content does not contain TV Watchlist backup.");if(t.data_structure_version<5)throw new Error(`TV Watchlist backup is in old format v${t.data_structure_version}.`);yield r.webDb.clearAllStores(),yield r.settingSvc.saveFileToDb(t.settings),yield r.showSvc.saveFileToDb(t.show_list),t.show_list.forEach(function(){var s=V(function*(o){yield r.episodeSvc.saveFileToDb(o.episode_list)});return function(o){return s.apply(this,arguments)}}()),yield r.showSvc.updateAllShowReference()})()}importV6(t){var r=this;return V(function*(){if(console.log("fileContent",t),!("data_structure_version"in t))throw new Error("file content does not contain TV Watchlist backup.");if(6!==t.data_structure_version)throw new Error(`TV Watchlist backup is in old format v${t.data_structure_version}.`);yield r.webDb.clearAllStores(),yield r.settingSvc.saveAll(t.settings),yield r.showSvc.saveAll(t.show_list),yield r.episodeSvc.saveAll(t.episode_list),yield r.showSvc.updateAllShowReference()})()}export(){var t=this;return V(function*(){const r=yield t.settingSvc.getAll(),i=(yield t.showSvc.getAll()).map(a=>(delete a.futureEpisode,delete a.pastEpisode,delete a.unseenEpisode,a)),s=yield t.episodeSvc.getAll();return JSON.stringify({data_structure_version:6,settings:r,show_list:i,episode_list:s})})()}}return e.\u0275fac=function(t){return new(t||e)(F(gs),F(_l),F(ys),F(vl))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),E$=(()=>{class e{constructor(t,r,i){this.barSvc=t,this.migrateSvc=r,this.datePipe=i,this.exportFileName="",this.exportFileName=`tv-watchlist-db-v6-${this.datePipe.transform(new Date,"yyyy-MM-dd")}.txt`}ngOnInit(){}handleFileInput(t){var i,r=this;this.barSvc.updateRequestCount(!0);const s=new FileReader;s.onerror=()=>{},s.onprogress=()=>{},s.onabort=l=>{alert("File read cancelled")},s.onloadstart=l=>{console.log("loading")},s.onload=l=>{console.log("loading complete!")},s.onloadend=function(){var l=V(function*(u){var c;if((null===(c=null==u?void 0:u.target)||void 0===c?void 0:c.readyState)===FileReader.DONE){const d=u.target.result;try{const f=d||"{}";yield r.migrateSvc.import(f)}catch(f){console.log("Import Error",f)}r.barSvc.updateRequestCount(!1)}});return function(u){return l.apply(this,arguments)}}();const o=t.currentTarget,a=null===(i=null==o?void 0:o.files)||void 0===i?void 0:i.item(0);a?s.readAsText(a):(console.error("file was empty"),this.barSvc.updateRequestCount(!1))}export(){var t=this;return V(function*(){t.barSvc.updateRequestCount(!0);const r=yield t.migrateSvc.export(),i=URL.createObjectURL(new Blob([r],{type:"text/plain"})),s=document.createElement("a");s.setAttribute("href",i),s.download=t.exportFileName,s.click(),URL.revokeObjectURL(i),t.barSvc.updateRequestCount(!1)})()}}return e.\u0275fac=function(t){return new(t||e)(C(Ml),C(gm),C(Oo))},e.\u0275cmp=Me({type:e,selectors:[["tvq-setting-import-export"]],decls:10,vars:1,consts:[[1,"flex","flex-col","mb-4","-mx-1","bg-white"],[1,"relative","flex","justify-between","px-4","py-2","border-b"],[1,"absolute","text-blue-500","top-3","left-4"],["type","file","accept","application/JSON, .txt",1,"w-full","opacity-0","cursor-pointer",3,"change"],[1,"flex","justify-between","px-4","py-2","border-b",3,"click"],[1,"text-blue-500","cursor-pointer"],[1,"my-auto","text-xs","text-gray-400"]],template:function(t,r){1&t&&(g(0,"ul",0),g(1,"li",1),g(2,"span",2),A(3,"Import Backup"),m(),g(4,"input",3),L("change",function(s){return r.handleFileInput(s)}),m(),m(),g(5,"li",4),L("click",function(){return r.export()}),g(6,"span",5),A(7,"Export Backup"),m(),g(8,"span",6),A(9),m(),m(),m()),2&t&&(D(9),gn(r.exportFileName))},encapsulation:2}),e})();let ym=(()=>{class e{constructor(t){this.http=t,this.appKey="",this.redirectUrl="",this.redirectUrl="https://tv-watchlist.github.io/dropbox-redirect",this.appKey=e.decodeKey("pp!(u:/640pu(!5")}static captureResponse(t){if(t.hash){let r=window.location.hash.substring(1),i=e.getJsonFromUrl(r);if(localStorage.dropbox_csrf_token==i.state){for(let s in i)localStorage["dropbox_"+s]=i[s];console.log("Dropbox access granted.")}else console.log("CSRF check failed")}else console.log("Missing hash parameters")}get AccountId(){return localStorage.dropbox_account_id}get AccessToken(){return localStorage.dropbox_access_token}get CsrfToken(){return localStorage.dropbox_csrf_token}get IsAuthenticated(){return!!this.AccessToken}getAuthenticationUrl(){return localStorage.dropbox_csrf_token=this.getGUID(),"https://www.dropbox.com/1/oauth2/authorize?client_id="+this.appKey+"&response_type=token&redirect_uri="+this.redirectUrl+"&state="+localStorage.dropbox_csrf_token}clearDropboxToken(){localStorage.removeItem("dropbox_account_id"),localStorage.removeItem("dropbox_access_token"),localStorage.removeItem("dropbox_csrf_token"),localStorage.removeItem("dropbox_uid"),localStorage.removeItem("dropbox_token_type"),localStorage.removeItem("dropbox_state"),console.log("cleared dropbox tokens")}getCurrentAccountInfo(){return this.http.post("https://api.dropboxapi.com/2/users/get_current_account",void 0,{headers:{Authorization:"Bearer "+this.AccessToken}})}getMetadata(){return this.http.post("https://api.dropboxapi.com/2/files/get_metadata",{path:"/tv-watchlist-db-v6.txt",include_media_info:!1,include_deleted:!1,include_has_explicit_shared_members:!1},{headers:{Authorization:"Bearer "+this.AccessToken,"Content-Type":"application/json"}})}upload(t){const r={headers:{Authorization:"Bearer "+this.AccessToken,"Dropbox-API-Arg":JSON.stringify({path:"/tv-watchlist-db-v6.txt",mode:"overwrite",autorename:!0,mute:!1}),"Content-Type":"application/octet-stream"}};return this.http.post("https://content.dropboxapi.com/2/files/upload",t,r)}download(){const t={headers:{Authorization:"Bearer "+this.AccessToken,"Dropbox-API-Arg":JSON.stringify({path:"/tv-watchlist-db-v6.txt"})}};return this.http.post("https://content.dropboxapi.com/2/files/download",void 0,t)}revokeToken(){return this.http.post("https://api.dropboxapi.com/2/auth/token/revoke",void 0,{headers:{Authorization:"Bearer "+this.AccessToken}}).pipe(Ft(()=>{this.clearDropboxToken()}))}getGUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=16*Math.random()|0;return("x"==t?r:3&r|8).toString(16)})}static getJsonFromUrl(t){const r={};return t.split("&").forEach(function(i){var s=i.split("=");r[s[0]]=decodeURIComponent(s[1])}),r}static decodeKey(t){let r="";for(var s=0;s<t.length;s++)r+=String.fromCharCode(66^t.charCodeAt(s));return r}}return e.\u0275fac=function(t){return new(t||e)(F(Bo))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function S$(e,n){if(1&e){const t=Te();g(0,"span",6),L("click",function(){return me(t),R().dropboxLogin()}),A(1,"Dropbox Login"),m()}}function T$(e,n){if(1&e){const t=Te();g(0,"span",6),L("click",function(){return me(t),R().dropboxLogout()}),A(1,"Dropbox Logout"),m()}}function A$(e,n){if(1&e){const t=Te();g(0,"li",7),L("click",function(){return me(t),R(),pn(7).openMenu()}),g(1,"span",8),A(2,"Load from cloud"),m(),g(3,"span",9),A(4,"tv-watchlist-db-v6.txt"),m(),m()}}function I$(e,n){if(1&e){const t=Te();g(0,"li",7),L("click",function(){return me(t),R().dropboxSave()}),g(1,"span",8),A(2,"Save to cloud"),m(),g(3,"span",9),A(4,"tv-watchlist-db-v6.txt"),m(),m()}}const x$=function(){return["Yes"]};let M$=(()=>{class e{constructor(t,r,i,s){this.dropboxSvc=t,this.migrateSvc=r,this.barSvc=i,this.toastSvc=s}get IsDropboxAuthenticated(){return this.dropboxSvc.IsAuthenticated}ngOnInit(){}dropboxLogin(){console.log("dropboxLogin"),this.dropboxSvc.IsAuthenticated?(console.log(this.dropboxSvc.AccessToken),this.dropboxSvc.getCurrentAccountInfo().subscribe(t=>{console.log("Dropbox CurrentAccountInfo",t)})):window.open(this.dropboxSvc.getAuthenticationUrl(),"dropboxWindow")}dropboxLoad(){var r,t=this;console.log("dropboxLoad"),this.barSvc.updateRequestCount(!0),this.dropboxSvc.download().subscribe({next:(r=V(function*(i){yield t.migrateSvc.importV6(i),t.toastSvc.success("Data was successfully loaded!")}),function(s){return r.apply(this,arguments)}),complete:()=>{this.barSvc.updateRequestCount(!1)}})}dropboxSave(){var t=this;return V(function*(){t.barSvc.updateRequestCount(!0);const r=yield t.migrateSvc.export();t.dropboxSvc.upload(r).subscribe({next:()=>{t.toastSvc.success("Data was uploaded successfully!")},complete:()=>{t.barSvc.updateRequestCount(!1)}}),console.log("dropboxSave")})()}dropboxLogout(){this.dropboxSvc.clearDropboxToken()}}return e.\u0275fac=function(t){return new(t||e)(C(ym),C(gm),C(Ml),C(ms))},e.\u0275cmp=Me({type:e,selectors:[["tvq-setting-dropbox"]],decls:8,vars:6,consts:[[1,"flex","flex-col","mb-4","-mx-1","bg-white"],[1,"flex","justify-between","px-4","py-2","border-b"],["class","text-blue-500 cursor-pointer",3,"click",4,"ngIf"],["class","flex justify-between px-4 py-2 border-b",3,"click",4,"ngIf"],["header","This will replace all your Shows and settings, Are you sure?",3,"options","action"],["menu4",""],[1,"text-blue-500","cursor-pointer",3,"click"],[1,"flex","justify-between","px-4","py-2","border-b",3,"click"],[1,"text-blue-500","cursor-pointer"],[1,"my-auto","text-xs","text-gray-400"]],template:function(t,r){1&t&&(g(0,"ul",0),g(1,"li",1),N(2,S$,2,0,"span",2),N(3,T$,2,0,"span",2),m(),N(4,A$,5,0,"li",3),N(5,I$,5,0,"li",3),m(),g(6,"tvq-options-menu",4,5),L("action",function(){return r.dropboxLoad()}),m()),2&t&&(D(2),w("ngIf",!r.IsDropboxAuthenticated),D(1),w("ngIf",r.IsDropboxAuthenticated),D(1),w("ngIf",r.IsDropboxAuthenticated),D(1),w("ngIf",r.IsDropboxAuthenticated),D(1),w("options",sr(5,x$)))},directives:[Yt,xl],encapsulation:2}),e})();const O$=function(){return["Yes"]};let R$=(()=>{class e{constructor(t,r,i){this.settingSvc=t,this.webDbSvc=r,this.barSvc=i}ngOnInit(){}clearDatabase(){var t=this;return V(function*(){t.barSvc.updateRequestCount(!0),yield t.webDbSvc.clearAllStores(),yield t.settingSvc.saveAll(xg.default),t.barSvc.updateRequestCount(!1)})()}}return e.\u0275fac=function(t){return new(t||e)(C(gs),C(vl),C(Ml))},e.\u0275cmp=Me({type:e,selectors:[["tvq-setting-reset"]],decls:6,vars:2,consts:[[1,"flex","flex-col","mb-4","-mx-1","bg-white"],[1,"flex","justify-between","px-4","py-2","border-b"],[1,"text-red-500","cursor-pointer",3,"click"],["header","This will clear all your Shows and settings, Are you sure? (Please take a backup first)",3,"options","action"],["menu3",""]],template:function(t,r){if(1&t){const i=Te();g(0,"ul",0),g(1,"li",1),g(2,"span",2),L("click",function(){return me(i),pn(5).openMenu()}),A(3,"Remove all Shows and Reset Settings"),m(),m(),m(),g(4,"tvq-options-menu",3,4),L("action",function(){return r.clearDatabase()}),m()}2&t&&(D(4),w("options",sr(1,O$)))},directives:[xl],encapsulation:2}),e})();const N$=function(){return["airdate","unseen","unseen_my_popular","name"]},k$=function(){return["seen","latest"]};let F$=(()=>{class e{constructor(t,r,i){this.settingSvc=t,this.loaderSvc=r,this.cdRef=i,this.version=0,this._hideTba=!1,this._hideSeen=!1,this._showsOrder="",this._episodesOrder=""}get hideTba(){return this._hideTba}set hideTba(t){this.settingSvc.save("hideTba",t),this._hideTba=t}get hideSeen(){return this._hideSeen}set hideSeen(t){this.settingSvc.save("hideSeen",t),this._hideSeen=t}get showsOrder(){return this._showsOrder}set showsOrder(t){this.settingSvc.save("showsOrder",t),this._showsOrder=t}get episodesOrder(){return this._episodesOrder}set episodesOrder(t){this.settingSvc.save("episodesOrder",t),this._episodesOrder=t}ngOnInit(){var t=this;return V(function*(){t.loaderSvc.show();const r=yield t.settingSvc.getAll();console.log({settings:r}),t._hideTba=r.hideTba,t._hideSeen=r.hideSeen,t._showsOrder=r.showsOrder,t._episodesOrder=r.episodesOrder,t._hideTba=r.hideTba,t.version=r.version,t.loaderSvc.close(),t.cdRef.detectChanges()})()}}return e.\u0275fac=function(t){return new(t||e)(C(gs),C(vs),C(Kt))},e.\u0275cmp=Me({type:e,selectors:[["tvq-setting"]],decls:32,vars:11,consts:[[1,"text-lg","text-center","text-gray-700"],[1,"flex","flex-col","mb-4","-mx-1","bg-white"],[1,"flex","justify-between","px-4","py-2","border-b"],[1,"my-auto"],[3,"state","stateChange"],[1,"my-auto","text-sm","text-gray-500","cursor-pointer",3,"click"],["icon","chevron-right","size","4","classes","inline-block"],[1,"text-xs","text-center","text-gray-400"],[3,"default","options","action"],["menu1",""],["menu2",""]],template:function(t,r){if(1&t){const i=Te();g(0,"h4",0),A(1,"Settings"),m(),g(2,"ul",1),g(3,"li",2),g(4,"span",3),A(5,"Hide Seen TBA/Complete Shows"),m(),g(6,"tvq-switch",4),L("stateChange",function(o){return r.hideTba=o}),m(),m(),g(7,"li",2),g(8,"span"),A(9,"Hide Seen Episodes"),m(),g(10,"tvq-switch",4),L("stateChange",function(o){return r.hideSeen=o}),m(),m(),g(11,"li",2),g(12,"span"),A(13,"Shows Order"),m(),g(14,"span",5),L("click",function(){return me(i),pn(29).openMenu()}),A(15),M(16,"tvq-svg-icon",6),m(),m(),g(17,"li",2),g(18,"span"),A(19,"Episode Order"),m(),g(20,"span",5),L("click",function(){return me(i),pn(31).openMenu()}),A(21),M(22,"tvq-svg-icon",6),m(),m(),m(),M(23,"tvq-setting-import-export"),M(24,"tvq-setting-dropbox"),M(25,"tvq-setting-reset"),g(26,"div",7),A(27),m(),g(28,"tvq-options-menu",8,9),L("action",function(o){return r.showsOrder=o}),m(),g(30,"tvq-options-menu",8,10),L("action",function(o){return r.episodesOrder=o}),m()}2&t&&(D(6),w("state",r.hideTba),D(4),w("state",r.hideSeen),D(5),Be(" ",r.showsOrder," "),D(6),Be(" ",r.episodesOrder," "),D(6),Be("Data version: ",r.version,""),D(1),w("default",r.showsOrder)("options",sr(9,N$)),D(2),w("default",r.episodesOrder)("options",sr(10,k$)))},directives:[xA,wn,E$,M$,R$,xl],encapsulation:2}),e})();function MA(e=0,n=Pg){return e<0&&(e=0),uT(e,e,n)}const L$=["addListener","removeListener"],V$=["addEventListener","removeEventListener"],U$=["on","off"];function yd(e,n,t,r){if(pe(t)&&(r=t,t=void 0),r)return yd(e,n,t).pipe(ag(r));const[i,s]=function $$(e){return pe(e.addEventListener)&&pe(e.removeEventListener)}(e)?V$.map(o=>a=>e[o](n,a,t)):function B$(e){return pe(e.addListener)&&pe(e.removeListener)}(e)?L$.map(OA(e,n)):function j$(e){return pe(e.on)&&pe(e.off)}(e)?U$.map(OA(e,n)):[];if(!i&&xs(e))return We(o=>yd(o,n,t))(an(e));if(!i)throw new TypeError("Invalid event target");return new Ce(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function OA(e,n){return t=>r=>e[t](n,r)}const Oi=new Ce(dr),z$={connector:()=>new lt};function RA(e,n=z$){const{connector:t}=n;return Ze((r,i)=>{const s=t();et(e(function H$(e){return new Ce(n=>e.subscribe(n))}(s))).subscribe(i),i.add(r.subscribe(s))})}const Ol="Service workers are disabled or not supported by this browser";class vd{constructor(n){if(this.serviceWorker=n,n){const r=yd(n,"controllerchange").pipe(te(()=>n.controller)),s=Fo(Fc(()=>ee(n.controller)),r);this.worker=s.pipe(bn(c=>!!c)),this.registration=this.worker.pipe(_n(()=>n.getRegistration()));const u=yd(n,"message").pipe(te(c=>c.data)).pipe(bn(c=>c&&c.type)).pipe(function G$(e){return e?n=>RA(e)(n):n=>function q$(e,n){const t=pe(e)?e:()=>e;return pe(n)?RA(n,{connector:t}):r=>new Z1(r,t)}(new lt)(n)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function W$(e){return Fc(()=>function P$(e,n){const t=pe(e)?e:()=>e,r=i=>i.error(t());return new Ce(n?i=>n.schedule(r,0,i):r)}(new Error(e)))}(Ol)}postMessage(n,t){return this.worker.pipe(Dt(1),Ft(r=>{r.postMessage(Object.assign({action:n},t))})).toPromise().then(()=>{})}postMessageWithOperation(n,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(n,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let t;return t="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(bn(t))}nextEventOfType(n){return this.eventsOfType(n).pipe(Dt(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(bn(t=>t.nonce===n),Dt(1),te(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let K$=(()=>{class e{constructor(t){if(this.sw=t,this.subscriptionChanges=new lt,!t.isEnabled)return this.messages=Oi,this.notificationClicks=Oi,void(this.subscription=Oi);this.messages=this.sw.eventsOfType("PUSH").pipe(te(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(te(i=>i.data)),this.pushManager=this.sw.registration.pipe(te(i=>i.pushManager));const r=this.pushManager.pipe(_n(i=>i.getSubscription()));this.subscription=ta(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Ol));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(_n(o=>o.subscribe(r)),Dt(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Dt(1),_n(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ol))}decodeBase64(t){return atob(t)}}return e.\u0275fac=function(t){return new(t||e)(F(vd))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})(),NA=(()=>{class e{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Oi,this.available=Oi,this.activated=Oi,void(this.unrecoverable=Oi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(bn(r=>"VERSION_READY"===r.type),te(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ol));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ol));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return e.\u0275fac=function(t){return new(t||e)(F(vd))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();class vm{}const kA=new se("NGSW_REGISTER_SCRIPT");function Y$(e,n,t,r){return()=>{if(!Nw(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=ee(null);break;case"registerWithDelay":s=FA(+l[0]||0);break;case"registerWhenStable":s=l[0]?ta(PA(e),FA(+l[0])):PA(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}e.get(Xe).runOutsideAngular(()=>s.pipe(Dt(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function FA(e){return ee(null).pipe(Lg(e))}function PA(e){return e.get(yi).isStable.pipe(bn(t=>t))}function Q$(e,n){return new vd(Nw(n)&&!1!==e.enabled?navigator.serviceWorker:void 0)}let X$=(()=>{class e{static register(t,r={}){return{ngModule:e,providers:[{provide:kA,useValue:t},{provide:vm,useValue:r},{provide:vd,useFactory:Q$,deps:[vm,Io]},{provide:qa,useFactory:Y$,deps:[ht,kA,vm,Io],multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({providers:[K$,NA]}),e})(),LA=(()=>{class e{constructor(t,r,i){this.appRef=t,this.updates=r,this.toastSvc=i,console.log("CheckForUpdateService constructor"),Fo(t.isStable.pipe(Ci(l=>!0===l),te(l=>(console.log("appIsStable called"),{source:1,result:l}))),r.versionUpdates.pipe(te(l=>({source:2,result:l}))),MA(216e5).pipe(te(l=>({source:3,result:l})))).subscribe(function(){var l=V(function*(u){if(console.log("CheckForUpdateService",u.source),2===u.source){const c=u.result;if("VERSION_DETECTED"===c.type&&(console.log("new Version Detected.",c),i.info("new Version Detected. Fetching...")),"VERSION_INSTALLATION_FAILED"===c.type&&(console.log("new Version Install failed.",c),i.error("new Version Install failed.")),"VERSION_READY"===c.type){const d=c;console.log("current version is",d.currentVersion),console.log("available version is",d.latestVersion),i.confirm("New version has been downloaded and is ready for activation. Update?").subscribe(function(){var f=V(function*(p){if(p)try{yield r.activateUpdate().then(()=>document.location.reload())}catch(v){}});return function(p){return f.apply(this,arguments)}}())}}if(1===u.source||3===u.source){console.log("checking for updates");try{yield r.checkForUpdate()}catch(c){}}});return function(u){return l.apply(this,arguments)}}())}checkForUpdate(){var t=this;this.appRef.isStable.pipe(Ci(i=>!0===i)).subscribe(V(function*(){console.log("checking for updates");try{yield t.updates.checkForUpdate()}catch(i){}}))}}return e.\u0275fac=function(t){return new(t||e)(F(yi),F(NA),F(ms))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Z$(e,n){if(1&e){const t=Te();g(0,"tvq-button",22),L("clicked",function(){return me(t),R(2).install()}),A(1,"Install Web App"),m()}}function J$(e,n){1&e&&(g(0,"span"),A(1,"Install this web app on your device. "),M(2,"br"),A(3," Tap "),M(4,"tvq-svg-icon",23),A(5," then Add to homescreen."),m())}function e4(e,n){if(1&e&&(g(0,"span",19),N(1,Z$,2,0,"tvq-button",20),N(2,J$,6,0,"span",21),m()),2&e){const t=R();D(1),w("ngIf",!t.IsIos&&t.showInstall),D(1),w("ngIf",t.IsIos)}}const t4=function(){return["/privacy-policy"]};let n4=(()=>{class e{constructor(t,r,i){this.updateSvc=t,this.http=r,this.tvqSvc=i,this.version="v3.0"}ngOnInit(){this.http.get("../../assets/version.txt",{responseType:"text"}).subscribe(t=>{this.version=t})}get Screen(){let t="";return screen.width&&(t+=`${screen.width?screen.width:""}x${screen.height?screen.height:""}`),t}get Platform(){return navigator.platform}get appVersion(){return navigator.appVersion}get appName(){return navigator.appName}get userAgent(){return navigator.userAgent}get IsStandalone(){return this.tvqSvc.IsInStandaloneMode}get IsIos(){return!!this.tvqSvc.IsIos}get showInstall(){return!!this.tvqSvc.deferredInstallPrompt}get Browser(){return this.tvqSvc.Browser}goToUrl(t){window.open(t,"_blank")}checkforUpdate(){this.updateSvc.checkForUpdate()}install(){this.tvqSvc.addToHomeScreen()}}return e.\u0275fac=function(t){return new(t||e)(C(LA),C(Bo),C(Gg))},e.\u0275cmp=Me({type:e,selectors:[["tvq-about"]],decls:90,vars:11,consts:[[1,"flex","flex-col","pb-2","mb-4","border-b"],["src","assets/myTvQ.png",1,"mx-auto","h-[115px]"],[1,"mx-auto","text-3xl","text-gray-500"],[1,"inline-block","mx-auto","mb-2","text-xs","text-gray-500"],[1,"mx-auto","cursor-pointer","focus:outline-none",3,"click"],["fill","currentColor","viewBox","0 0 16 16","version","1.1","aria-hidden","true",1,"inline","w-8","h-8"],["fill-rule","evenodd","d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"],[1,"ml-2"],[1,"flex","justify-around","mb-4"],["title","Check for Updates...",1,"w-1/2","text-center",3,"clicked"],["class","w-1/2 text-center",4,"ngIf"],[1,"px-2","mb-2","text-sm"],["target","_blank",1,"text-blue-500",3,"routerLink"],[1,"flex","flex-col","mb-2","text-lg","text-gray-700","list-disc","list-inside"],[1,"mt-4","text-2xl","list-none"],[1,"text-lg","list-none"],[1,"flex","flex-col","mb-2","text-lg","text-gray-700","list-disc","list-inside","border-b"],[1,"ml-2","cursor-pointer","focus:outline-none",3,"click"],[1,"list-disc","list-inside"],[1,"w-1/2","text-center"],[3,"clicked",4,"ngIf"],[4,"ngIf"],[3,"clicked"],["icon","ios-share","classes","mx-auto text-blue-500"]],template:function(t,r){1&t&&(g(0,"div",0),M(1,"img",1),g(2,"h1",2),A(3,"TV Watchlist"),m(),g(4,"span",3),A(5),m(),g(6,"span",4),L("click",function(){return r.goToUrl("https://github.com/tv-watchlist/tv-watchlist")}),$e(),g(7,"svg",5),M(8,"path",6),m(),function ey(){!function LI(){J.lFrame.currentNamespace=null}()}(),g(9,"span",7),A(10,"Surya Nyayapati"),m(),m(),m(),g(11,"div",8),g(12,"tvq-button",9),L("clicked",function(){return r.checkforUpdate()}),A(13,"Check Updates"),m(),N(14,e4,3,2,"span",10),m(),g(15,"p",11),A(16," Serverless, Progressive Web App (offline capable). Uses third party APIs to fetch data and save locally in IndexedDb. No User account needed. Installing or adding to homescreen will keep data saved for longer. "),g(17,"a",12),A(18,"Privacy Policy"),m(),m(),g(19,"ul",13),g(20,"li",14),A(21,"Change History"),m(),g(22,"li",15),A(23,"2022-02-22"),m(),g(24,"li",7),A(25,"Import/Export v6 Data."),m(),g(26,"li",7),A(27,"Added Dropbox Sync."),m(),g(28,"li",7),A(29,"Reset Database support."),m(),g(30,"li",7),A(31,"Added Welcome and install message for first time user."),m(),g(32,"li",7),A(33,"Added notification popup UI."),m(),g(34,"li",7),A(35,"Added loading screen and bar."),m(),g(36,"li",15),A(37,"Older"),m(),g(38,"li",7),A(39,"Added popular page from TMDB."),m(),g(40,"li",7),A(41,"Added search page from TV Maze."),m(),g(42,"li",7),A(43,"Added fetching from TV Maze as primary source."),m(),g(44,"li",7),A(45,"Using IndexedDb to fetch and save data."),m(),g(46,"li",7),A(47,"Stubbed screens using mock v5 data."),m(),m(),g(48,"ul",16),g(49,"li",14),A(50,"API / Data"),m(),g(51,"li",17),L("click",function(){return r.goToUrl("https://www.tvmaze.com/")}),A(52,"TvMaze"),m(),g(53,"li",17),L("click",function(){return r.goToUrl("https://www.themoviedb.org/")}),A(54,"TMDB"),m(),g(55,"li",17),L("click",function(){return r.goToUrl("https://thetvdb.com/")}),A(56,"TVDB"),m(),g(57,"li",17),L("click",function(){return r.goToUrl("https://fanart.tv/")}),A(58,"Fanart TV"),m(),g(59,"li",14),A(60,"Tools"),m(),g(61,"li",17),L("click",function(){return r.goToUrl("https://angular.io/")}),A(62,"Angular 13"),m(),g(63,"li",17),L("click",function(){return r.goToUrl("https://tailwindcss.com/")}),A(64,"Tailwindcss 3"),m(),g(65,"li",17),L("click",function(){return r.goToUrl("https://heroicons.dev/")}),A(66,"Heroicons"),m(),g(67,"li",17),L("click",function(){return r.goToUrl("https://github.com/filipows/angular-animations")}),A(68,"Angular-animations"),m(),g(69,"li",17),L("click",function(){return r.goToUrl("https://hammerjs.github.io/")}),A(70,"HammerJs"),m(),g(71,"li",17),L("click",function(){return r.goToUrl("https://github.com/jakearchibald/idb")}),A(72,"IDB"),m(),m(),g(73,"ul",18),g(74,"li",14),A(75,"Debugging"),m(),g(76,"li",7),A(77),m(),g(78,"li",7),A(79),m(),g(80,"li",7),A(81),m(),g(82,"li",7),A(83),m(),g(84,"li",7),A(85),m(),g(86,"li",7),A(87),m(),g(88,"li",7),A(89),m(),m()),2&t&&(D(5),Be("(",r.version,")"),D(9),w("ngIf",!r.IsStandalone&&(r.IsIos||!r.IsIos&&r.showInstall)),D(3),w("routerLink",sr(10,t4)),D(60),Be("Screen: ",r.Screen,""),D(2),Be("Standalone: ",r.IsStandalone,""),D(2),Be("IsIOS: ",!!r.IsIos,""),D(2),Be("Device: ",r.Platform,""),D(2),Be("appName: ",r.appName,""),D(2),Be("appVersion: ",r.appVersion,""),D(2),Be("userAgent: ",r.userAgent,""))},directives:[Wg,Yt,wn,Zc],encapsulation:2}),e})();function r4(e,n){if(1&e){const t=Te();g(0,"tvq-svg-icon",13),L("click",function(){me(t);const i=R().$implicit;return R().addShow(i.show.id,i.show.name)}),m()}}function i4(e,n){if(1&e&&(g(0,"div"),A(1),m()),2&e){const t=R().$implicit;D(1),es("",t.show.network.name,", ",null==t.show.network.country?null:t.show.network.country.name,"")}}function s4(e,n){if(1&e&&(g(0,"div"),A(1),m()),2&e){const t=R().$implicit;D(1),es("",t.show.webChannel.name,", ",null==t.show.webChannel.country?null:t.show.webChannel.country.name,"")}}function o4(e,n){if(1&e&&(g(0,"div",4),g(1,"div",5),M(2,"img",6),m(),g(3,"div",7),g(4,"div"),g(5,"h3",8),A(6),m(),g(7,"span",9),A(8),m(),N(9,r4,1,0,"tvq-svg-icon",10),m(),N(10,i4,2,2,"div",11),N(11,s4,2,2,"div",11),g(12,"span"),A(13),m(),M(14,"div",12),m(),m()),2&e){const t=n.$implicit,r=R();D(2),w("src",null==t.show.image?null:t.show.image.medium,fi),D(4),gn(t.show.name),D(2),Be("(",t.show.status,")"),D(1),w("ngIf",!r.includes(t.show.id)),D(1),w("ngIf",t.show.network),D(1),w("ngIf",t.show.webChannel),D(2),Eh("",t.show.premiered," ",t.show.schedule.days[0]," ",t.show.schedule.time," "),D(1),w("innerHTML",t.show.summary,Fe)}}let a4=(()=>{class e{constructor(t,r,i,s){this.searchSvc=t,this.cdRef=r,this.loaderSvc=i,this.showSvc=s,this.showIds=[],this.searchTxt=""}ngOnInit(){var t=this;return V(function*(){t.loaderSvc.show(),t.showIds=(yield t.showSvc.getAll()).map(r=>r.showId),t.loaderSvc.close()})()}search(){this.searchTxt&&(this.searchList$=this.searchSvc.searchShow(this.searchTxt).pipe(Ft(t=>{})))}addShow(t,r){var i=this;return V(function*(){i.showIds.push("tvmaze"+t),i.cdRef.detectChanges(),yield i.showSvc.addUpdateTvMazeShow("tvmaze",t)})()}goToUrl(t){window.open(t,"_blank")}includes(t){return this.showIds.includes("tvmaze"+t)}}return e.\u0275fac=function(t){return new(t||e)(C(bT),C(Kt),C(vs),C(ys))},e.\u0275cmp=Me({type:e,selectors:[["tvq-search"]],decls:5,vars:4,consts:[[1,"relative","flex","flex-col","pt-2","mb-4","text-gray-500"],["icon","search","size","4","classes","text-gray-400 absolute top-5 left-2",3,"click"],["type","search","name","search","placeholder","Search","enterkeyhint","search","autocapitalize","none",1,"h-10","pl-8","text-sm","bg-white","border-gray-300","rounded-lg","border-1","focus:outline-none",3,"ngModel","ngModelChange","keyup.enter"],["class","flex mb-2",4,"ngFor","ngForOf"],[1,"flex","mb-2"],[1,"relative","flex-none","w-3/12","mr-2"],["tvqDefault","","alt","",1,"relative","inset-0","object-cover","w-full","border",3,"src"],[1,"w-8/12"],[1,"inline","font-bold"],[1,"ml-2","text-sm","font-semibold","text-gray-500"],["icon","solid-plus-circle","size","6","classes","float-right text-right text-green-500 cursor-pointer",3,"click",4,"ngIf"],[4,"ngIf"],[1,"text-sm",3,"innerHTML"],["icon","solid-plus-circle","size","6","classes","float-right text-right text-green-500 cursor-pointer",3,"click"]],template:function(t,r){1&t&&(g(0,"div",0),g(1,"tvq-svg-icon",1),L("click",function(){return r.search()}),m(),g(2,"input",2),L("ngModelChange",function(s){return r.searchTxt=s})("keyup.enter",function(){return r.search()}),m(),m(),N(3,o4,15,10,"div",3),Fh(4,"async")),2&t&&(D(2),w("ngModel",r.searchTxt),D(1),w("ngForOf",function fb(e,n,t){const r=e+20,i=O(),s=Us(i,r);return Ha(i,r)?ab(i,jt(),n,s.transform,t,s):s.transform(t)}(4,2,r.searchList$)))},directives:[wn,sd,ad,Il,vi,Dl,Yt],pipes:[xw],encapsulation:2}),e})();function l4(e,n){if(1&e){const t=Te();g(0,"tvq-svg-icon",11),L("click",function(){me(t);const i=R().$implicit;return R().addShow(i.id,i.name)}),m()}}function u4(e,n){if(1&e&&(g(0,"div"),A(1),m()),2&e){const t=R().$implicit;D(1),Be(" ",t.original_name," ")}}function c4(e,n){if(1&e&&(g(0,"div",1),g(1,"div",2),M(2,"img",3),m(),g(3,"div",4),g(4,"div"),g(5,"h3",5),A(6),m(),g(7,"span",6),A(8),m(),N(9,l4,1,0,"tvq-svg-icon",7),m(),N(10,u4,2,1,"div",8),g(11,"div"),A(12),m(),g(13,"div"),A(14),g(15,"span",9),A(16),m(),m(),M(17,"div",10),m(),m()),2&e){const t=n.$implicit,r=R();D(2),w("src",t.poster_path,fi),D(4),gn(t.name),D(2),Be("(",t.first_air_date,")"),D(1),w("ngIf",!r.includes(t.name)),D(1),w("ngIf","en"!==t.original_language),D(2),es(" ",t.origin_country," - ",t.genres," "),D(2),Be(" User Score: ",t.vote_average,"/10 "),D(2),Be("Total Votes: ",t.vote_count,""),D(1),w("innerHTML",t.overview,Fe)}}let d4=(()=>{class e{constructor(t,r,i,s){this.svc=t,this.cdRef=r,this.loaderSvc=i,this.showSvc=s,this.showNames=[]}ngOnInit(){var t=this;return V(function*(){t.loaderSvc.show();const r=yield t.showSvc.getAll();t.showNames=r.map(s=>s.name);const i=t.svc.getPopularWithReference().pipe(te(([s,o,a])=>{const l=o.genres.reduce((c,d)=>(c[d.id]=d.name,c),{}),u=s.images.secure_base_url;return a.results.map(c=>{const d=Object.assign({},c);return d.poster_path=u+"w220_and_h330_face"+c.poster_path,d.genres=c.genre_ids.map(f=>l[f]).join(", "),d})}));try{t.result=yield Fg(i)}catch(s){}t.loaderSvc.close(),t.cdRef.detectChanges()})()}addShow(t,r){var i=this;return V(function*(){i.showNames.push(r),i.cdRef.detectChanges(),yield i.showSvc.addUpdateTvMazeShow("tmdb",t)})()}goToUrl(t){window.open(t,"_blank")}includes(t){return this.showNames.includes(t)}}return e.\u0275fac=function(t){return new(t||e)(C(wT),C(Kt),C(vs),C(ys))},e.\u0275cmp=Me({type:e,selectors:[["tvq-popular"]],decls:1,vars:1,consts:[["class","flex mb-2",4,"ngFor","ngForOf"],[1,"flex","mb-2"],[1,"relative","flex-none","w-3/12","mr-2"],["tvqDefault","","alt","",1,"relative","inset-0","object-cover","w-full","border",3,"src"],[1,"w-8/12"],[1,"inline","text-lg","font-bold"],[1,"ml-2","text-sm","font-semibold","text-gray-500"],["icon","solid-plus-circle","size","6","classes","float-right text-right text-green-500 cursor-pointer",3,"click",4,"ngIf"],[4,"ngIf"],[1,"text-sm","text-gray-500"],[1,"text-sm",3,"innerHTML"],["icon","solid-plus-circle","size","6","classes","float-right text-right text-green-500 cursor-pointer",3,"click"]],template:function(t,r){1&t&&N(0,c4,18,10,"div",0),2&t&&w("ngForOf",r.result)},directives:[vi,Dl,Yt,wn],encapsulation:2}),e})(),f4=(()=>{class e{constructor(){}ngOnInit(){ym.captureResponse(window.location)}goHome(){document.location.href="/"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["tvq-dropbox-redirect"]],decls:7,vars:0,consts:[[1,"standalone:pt-safe-top"],[1,"mt-4","mb-2","text-2xl","text-center"],["title","Dropbox","src","https://www.dropbox.com/static/images/new_logo.png",1,"inline-block"],[1,"text-xl","text-center","text-blue-500","underline","cursor-pointer",3,"click"]],template:function(t,r){1&t&&(g(0,"div",0),g(1,"h1",1),A(2,"Congratulations! You can now sync shows with "),M(3,"img",2),A(4,"."),m(),g(5,"h2",3),L("click",function(){return r.goHome()}),A(6,"Home"),m(),m())},encapsulation:2}),e})();const Ho={optional:!0},zo=e=>[Gr(":enter, :leave",[qe({position:"absolute",top:0,[e]:0,width:"100%"})],Ho),Gr(":enter",[qe({[e]:"-100%"})],Ho),Xw([Gr(":leave",[qr("400ms ease-in-out",qe({[e]:"100%"}))],Ho),Gr(":enter",[qr("400ms ease-in-out",qe({[e]:"0%"}))],Ho)]),Gr(":leave",el(),Ho),Gr(":enter",el(),Ho)],h4=(zr("routerSliderStateLnR",[mn("* => isLeft",zo("left")),mn("* => isRight",zo("right")),mn("isRight => *",zo("left")),mn("isLeft => *",zo("right"))]),zr("routeSliderStatePlusMinus",[mn(":increment",zo("right")),mn(":decrement",zo("left"))]));let VA=(()=>{class e{constructor(t,r){this.router=t,this.location=r,this.historyList=[],this.backSubject=new lt,this.router.events.subscribe(i=>{if(i instanceof cg){const s={url:i.routerEvent.urlAfterRedirects,position:i.position,anchor:i.anchor};this.historyList.push(s),this.backSubject.next(s)}})}get onBack(){return this.backSubject.asObservable()}back(){this.historyList.pop()?this.location.back():this.router.navigateByUrl("/")}}return e.\u0275fac=function(t){return new(t||e)(F(bt),F(rc))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p4=(()=>{class e{constructor(t){this.injector=t}handleError(t){t instanceof Bg?this.httpError(t):this.jsError(t)}httpError(t){console.group("httpError"),console.error(t,navigator);const r=this.injector.get(bm);if(navigator.onLine&&0!==t.status){let i="";try{i=t.message||t.error}catch(s){i=t.statusText,console.error("catch error",s)}t.status>=400&&t.status<500?r.warning(i,t.url||""):r.error(i,t.url||"")}else r.error("Server not reachable, Please check your internet.");console.groupEnd()}jsError(t){if(console.group("jsError"),console.error(t),console.groupEnd(),this.injector.get(bm).error(t.message,t.stack,t.name),function NF(){return Jb=!0,Zb}())throw t}}return e.\u0275fac=function(t){return new(t||e)(F(ht))},e.\u0275prov=z({token:e,factory:e.\u0275fac}),e})();class _m{constructor(){this.type="error",this.message="",this.name="",this.stack=""}static Create(n,t="error",r,i){const s=new _m;return s.type=t,s.message=n,s.stack=r,s.name=i,s}}let bm=(()=>{class e{constructor(){this.subject=new lt}message(t,r,i,s){const o=_m.Create(r,t,i,s);this.subject.next(o)}warning(t,r,i){this.message("warn",t,r,i)}error(t,r,i){this.message("error",t,r,i)}subscribe(t,r){return this.subject.subscribe({next:t,error:r})}unsubscribe(){this.subject.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),UA=(()=>{class e{constructor(t,r){this.navigation=t,this.cdRef=r}onClick(){this.navigation.back(),this.cdRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(C(VA),C(Kt))},e.\u0275dir=W({type:e,selectors:[["","tvqBackButton",""]],hostBindings:function(t,r){1&t&&L("click",function(){return r.onClick()})}}),e})();function g4(e,n){if(1&e&&(g(0,"div",1),M(1,"div",2),M(2,"div",3),m()),2&e){const t=R();D(1),Dh("width",t.percent+"%")}}let BA=(()=>{class e{constructor(t,r){this.cdRef=t,this.appRef=r,this.percent=0,this.visible=!1,this.visibleChange=new Re,this.indeterminate=!0}ngOnInit(){this.setIndeterminate()}ngOnChanges(){this.setIndeterminate()}setIndeterminate(){this.indeterminate&&this.visible?this.timer=MA(1e3).subscribe(t=>{this.percent=0===this.percent?100:0,this.cdRef.markForCheck()}):this.timer&&(this.timer.unsubscribe(),this.percent=0),this.cdRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(C(Kt),C(yi))},e.\u0275cmp=Me({type:e,selectors:[["tvq-loader-bar"]],inputs:{percent:"percent",visible:"visible",indeterminate:"indeterminate"},outputs:{visibleChange:"visibleChange"},features:[Bt],decls:1,vars:1,consts:[["class","w-full h-1 bg-gray-200",4,"ngIf"],[1,"w-full","h-1","bg-gray-200"],[1,"h-1","duration-500","ease-in-out","bg-blue-600"],[1,"h-1","w-0","bg-blue-600","translate-x-[100]"]],template:function(t,r){1&t&&N(0,g4,3,2,"div",0),2&t&&w("ngIf",r.visible)},directives:[Yt],encapsulation:2,data:{animation:[ml({duration:400})]}}),e})();function m4(e,n){if(1&e){const t=Te();g(0,"div",2),L("click",function(){return me(t),R().closeMenu()}),M(1,"div",3),m()}}const y4=function(e,n){return{"text-gray-400":e,"cursor-pointer":n}};function v4(e,n){if(1&e){const t=Te();g(0,"li",7),L("click",function(){const s=me(t).$implicit;return R(2).clicked(s)}),M(1,"tvq-svg-icon",8),g(2,"div"),A(3),m(),m()}if(2&e){const t=n.$implicit;w("ngClass",kh(4,y4,t.disabled,!t.disabled)),D(1),w("icon",t.icon)("classes","mx-auto"),D(2),gn(t.name)}}function _4(e,n){if(1&e&&(g(0,"nav",4),g(1,"ul",5),N(2,v4,4,7,"li",6),m(),m()),2&e){const t=R();w("@slideOutRightOnLeave",void 0)("@fadeOutOnLeave",void 0)("@slideInRightOnEnter",void 0),D(2),w("ngForOf",t.options)}}let jA=(()=>{class e{constructor(t){this.elm=t,this.visible=!1,this.options=[],this.action=new Re}ngOnInit(){}openMenu(){this.visible=!0}closeMenu(){this.visible=!1}clicked(t){this.action.emit(t),this.closeMenu()}}return e.\u0275fac=function(t){return new(t||e)(C(Gt))},e.\u0275cmp=Me({type:e,selectors:[["tvq-navigation"]],inputs:{options:"options"},outputs:{action:"action"},decls:3,vars:2,consts:[["class","fixed inset-0 z-20 transition-opacity","aria-hidden","true",3,"click",4,"ngIf"],["class","fixed top-0 right-0 z-20 w-1/4 min-h-screen text-white bg-orange-600 border border-orange-600 shadow-inner",4,"ngIf"],["aria-hidden","true",1,"fixed","inset-0","z-20","transition-opacity",3,"click"],[1,"absolute","inset-0","bg-gray-500","opacity-75"],[1,"fixed","top-0","right-0","z-20","w-1/4","min-h-screen","text-white","bg-orange-600","border","border-orange-600","shadow-inner"],[1,"flex","flex-col","text-center","standalone:pt-safe-top","standalone:h-safe-top-1"],["class","mx-auto my-4 focus:outline-none",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"mx-auto","my-4","focus:outline-none",3,"ngClass","click"],["size","12",3,"icon","classes"]],template:function(t,r){1&t&&(g(0,"div"),N(1,m4,2,0,"div",0),N(2,_4,3,4,"nav",1),m()),2&t&&(D(1),w("ngIf",r.visible),D(1),w("ngIf",r.visible))},directives:[Yt,vi,is,wn],encapsulation:2,data:{animation:[hS({duration:400}),ES({duration:400}),ml({duration:400})]}}),e})();function b4(e,n){if(1&e&&(g(0,"div",1),M(1,"img",2),M(2,"img",3),g(3,"div",4),A(4),m(),m()),2&e){const t=R();w("@fadeOutOnLeave",void 0),D(4),gn(t.message)}}let $A=(()=>{class e{constructor(t,r){this.svc=t,this.cdRef=r,this.message="",this.visible=!1}ngOnInit(){this.svc.subscribe(({message:t,status:r})=>{this.message=t,this.visible=r,this.cdRef.markForCheck()})}ngOnDestroy(){this.svc.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(C(vs),C(Kt))},e.\u0275cmp=Me({type:e,selectors:[["tvq-loader-screen"]],decls:1,vars:1,consts:[["class","fixed top-0 bottom-0 left-0 right-0 z-50 flex flex-col items-center justify-center bg-orange-300",4,"ngIf"],[1,"fixed","top-0","bottom-0","left-0","right-0","z-50","flex","flex-col","items-center","justify-center","bg-orange-300"],["src","assets/myTvQ.png","alt","",1,"scale-[.50]","relative","-top-10"],["src","assets/ajax-loader.gif","alt","",1,"scale-[2]","relative","-top-14"],[1,"relative","mt-2","font-bold","text-white","-top-10"]],template:function(t,r){1&t&&N(0,b4,5,2,"div",0),2&t&&w("ngIf",r.visible)},directives:[Yt],encapsulation:2,data:{animation:[ml({duration:400})]}}),e})();function w4(e,n){if(1&e&&(g(0,"span",14),A(1),m()),2&e){const t=R(3);w("ngClass",t.typeLablelClasses[t.toastsUI[t.index].type]),D(1),es("",t.index+1,"/",t.toastsUI.length,"")}}function D4(e,n){if(1&e){const t=Te();g(0,"tvq-svg-icon",15),L("click",function(){return me(t),R(3).previous()}),m()}}function C4(e,n){if(1&e){const t=Te();g(0,"tvq-svg-icon",16),L("click",function(){return me(t),R(3).next()}),m()}}function E4(e,n){if(1&e){const t=Te();g(0,"div",6),g(1,"span",7),N(2,w4,2,3,"span",8),m(),g(3,"span",9),N(4,D4,1,0,"tvq-svg-icon",10),m(),g(5,"span",9),N(6,C4,1,0,"tvq-svg-icon",11),m(),g(7,"span",12),g(8,"tvq-svg-icon",13),L("click",function(){return me(t),R(2).close()}),m(),m(),m()}if(2&e){const t=R(2);D(2),w("ngIf",t.toastsUI.length>1),D(2),w("ngIf",t.toastsUI.length>1&&t.index>0),D(2),w("ngIf",t.toastsUI.length>1&&t.index<t.toastsUI.length-1)}}function S4(e,n){if(1&e){const t=Te();g(0,"div",17),g(1,"div",18),g(2,"button",19),L("click",function(){return me(t),R(2).reject()}),A(3,"No"),m(),m(),M(4,"div",20),g(5,"div",21),g(6,"button",22),L("click",function(){return me(t),R(2).accept()}),A(7,"Yes"),m(),m(),m()}}function T4(e,n){if(1&e&&(g(0,"div",2),N(1,E4,9,3,"div",3),g(2,"span",4),A(3),m(),N(4,S4,8,0,"div",5),m()),2&e){const t=R();w("@slideInUpOnEnter",void 0)("@slideOutDownOnLeave",void 0)("@fadeOutOnLeave",void 0)("ngClass",t.typeClasses[t.toastsUI[t.index].type]),D(1),w("ngIf",0===t.confirmToasts.length),D(2),gn(t.toastsUI[t.index].message),D(1),w("ngIf",!(null==t.confirmToasts[t.index]||!t.confirmToasts[t.index].confirm$))}}let HA=(()=>{class e{constructor(t,r){this.toastSvc=t,this.cdRef=r,this.type="info",this.toasts=[],this.confirmToasts=[],this.index=0,this.toastsUI=[],this.typeClasses={success:"text-white bg-green-600",info:"text-white bg-gray-600",warn:"text-white bg-yellow-500",error:"text-white bg-red-600"},this.typeLablelClasses={success:"text-white bg-green-800",info:"text-white bg-gray-800",warn:"text-white bg-yellow-600",error:"text-white bg-red-800"}}ngOnInit(){this.toastSvc.subscribe(t=>{t.confirm$?this.confirmToasts.push(t):this.toasts.push(t),this.toastsUI=[...this.confirmToasts,...this.toasts],this.index=0,this.cdRef.markForCheck()})}next(){this.index++,this.index>=this.toastsUI.length&&(this.index=this.toastsUI.length-1),this.cdRef.markForCheck()}previous(){this.index--,this.index<0&&(this.index=0),this.cdRef.markForCheck()}close(){this.toasts.length=0,this.toastsUI=[...this.confirmToasts,...this.toasts],this.index=0,this.cdRef.markForCheck()}accept(){const t=this.confirmToasts.shift(),r=null==t?void 0:t.confirm$;r&&(r.next(!0),r.complete(),this.toastsUI=[...this.confirmToasts,...this.toasts],this.previous())}reject(){const t=this.confirmToasts.shift(),r=null==t?void 0:t.confirm$;r&&(r.next(!1),r.complete(),this.toastsUI=[...this.confirmToasts,...this.toasts],this.previous())}ngOnDestroy(){this.toastSvc.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(C(ms),C(Kt))},e.\u0275cmp=Me({type:e,selectors:[["tvq-toast"]],decls:2,vars:1,consts:[[1,"fixed","bottom-0","w-full","px-2"],["class","mx-auto max-w-[calc(640px-1rem)] mb-2 h-auto max-h-[90vh] overflow-y-auto  pt-1 rounded shadow-lg standalone:mb-[calc(0.5rem+env(safe-area-inset-bottom))]",3,"ngClass",4,"ngIf"],[1,"mx-auto","max-w-[calc(640px-1rem)]","mb-2","h-auto","max-h-[90vh]","overflow-y-auto","pt-1","rounded","shadow-lg","standalone:mb-[calc(0.5rem+env(safe-area-inset-bottom))]",3,"ngClass"],["class","flex",4,"ngIf"],[1,"block","px-4","pb-4"],["class","flex pb-1",4,"ngIf"],[1,"flex"],[1,"inline-block","w-3/12","py-0","pl-2"],["class","px-1 text-xs border rounded-full",3,"ngClass",4,"ngIf"],[1,"inline-block","w-3/12","py-0","text-center"],["icon","chevron-left","size","4","classes","cursor-pointer",3,"click",4,"ngIf"],["icon","chevron-right","size","4","classes","cursor-pointer",3,"click",4,"ngIf"],[1,"inline-block","w-3/12","py-0","pr-2","text-right"],["icon","x","size","4","classes","cursor-pointer",3,"click"],[1,"px-1","text-xs","border","rounded-full",3,"ngClass"],["icon","chevron-left","size","4","classes","cursor-pointer",3,"click"],["icon","chevron-right","size","4","classes","cursor-pointer",3,"click"],[1,"flex","pb-1"],[1,"w-2/12","pl-2","text-left"],[1,"px-4","py-1","mt-2","text-xs","text-white","bg-red-500","border","rounded-full",3,"click"],[1,"w-8/12"],[1,"inline-block","w-2/12","pr-2","text-right"],[1,"px-4","py-1","mt-2","text-xs","text-white","bg-green-500","border","rounded-full",3,"click"]],template:function(t,r){1&t&&(g(0,"div",0),N(1,T4,5,7,"div",1),m()),2&t&&(D(1),w("ngIf",r.toastsUI.length))},directives:[Yt,is,wn],encapsulation:2,data:{animation:[mS({duration:400}),_S({duration:400}),ml({duration:400})]}}),e})();function A4(e,n){1&e&&(g(0,"button",14),M(1,"tvq-svg-icon",15),m())}function I4(e,n){if(1&e){const t=Te();g(0,"button",16),L("click",function(){return me(t),R().reload()}),M(1,"tvq-svg-icon",17),m()}}const x4=function(){return["/"]};let M4=(()=>{class e{constructor(t,r,i,s,o,a,l,u,c,d,f){this.activatedRoute=t,this.router=r,this.navSvc=i,this.activeReqSvc=s,this.toastSvc=o,this.tvQSvc=a,this.errSvc=l,this.migrateSvc=u,this.cloudSvc=c,this.updateSvc=d,this.cdRef=f,this.subscriptions=[],this.scrollTop=0,this.isHome=!1,this.isReady=!1,this.showloaderBar=!1;const p=localStorage.getItem("path");p&&(localStorage.removeItem("path"),this.router.navigate([p])),this.naigationList=[{name:"Home",icon:"home",link:["/home"]},{name:"Search",icon:"search",link:["/search"]},{name:"Popular",icon:"sparkles",link:["/popular"]},{name:"Settings",icon:"cog",link:["/setting"]},{name:"Save",icon:"cloud-upload",link:[],disabled:!this.cloudSvc.IsAuthenticated},{name:"About",icon:"information-circle",link:["/about"]}]}onBeforeInstallPrompt(t){console.log("onBeforeInstallPrompt",t),t.preventDefault(),this.tvQSvc.deferredInstallPrompt=t}ngOnInit(){this.isReady=!0,this.cdRef.detectChanges(),this.isHome="/home"===this.router.url;const t=this.navSvc.onBack.subscribe(s=>{this.isHome="/home"===s.url,console.log("pop history",s),this.scrollTop=s.position?s.position[1]:0,this.cdRef.detectChanges()});this.subscriptions.push(t);const r=this.activeReqSvc.subscribe(s=>{this.showloaderBar=!(s<=0),this.cdRef.detectChanges()});this.subscriptions.push(r);const i=this.errSvc.subscribe(s=>{"error"===s.type&&this.toastSvc.error(s.message,1e4),"warn"===s.type&&this.toastSvc.warning(s.message,1e4)});this.subscriptions.push(i)}onActivate(t){const r=window.document.scrollingElement;r&&setTimeout(()=>{r.scrollTop=this.scrollTop})}onNavClick(t){var r=this;return V(function*(){if(console.log("onNavClick",t),!t.disabled)if("Save"===t.name){const i=yield r.migrateSvc.export();r.cloudSvc.upload(i).subscribe(()=>{r.toastSvc.success("Data was uploaded successfully!")})}else r.router.navigate(t.link)})()}reload(){document.location.reload()}prepareRoute(t){var r;return null===(r=null==t?void 0:t.activatedRouteData)||void 0===r?void 0:r.index}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(C(Ei),C(bt),C(VA),C(Ml),C(ms),C(Gg),C(bm),C(gm),C(ym),C(LA),C(Kt))},e.\u0275cmp=Me({type:e,selectors:[["tvq-app"]],hostBindings:function(t,r){1&t&&L("beforeinstallprompt",function(s){return r.onBeforeInstallPrompt(s)},!1,qy)},decls:17,vars:7,consts:[[1,"container"],[1,"flex","flex-col","min-h-screen","gap-2","bg-gray-100"],[1,"fixed","top-0","left-0","right-0","z-10","flex","justify-between","px-2","text-white","bg-orange-500","h-11","standalone:pt-safe-top","standalone:h-safe-top-1"],["class","mt-1 focus:outline-none","tvqBackButton","",4,"ngIf"],["class","mt-1 focus:outline-none",3,"click",4,"ngIf"],[1,"mt-1","text-2xl","cursor-pointer","focus:outline-none",3,"routerLink"],[1,"focus:outline-none",3,"click"],["icon","menu"],[1,"relative","top-[calc(2.7rem+env(safe-area-inset-top))]",3,"visible"],[3,"options","action"],["nav",""],[1,"relative","flex-1","mx-2","mt-12","mb-2","standalone:mt-safe-top-2"],[3,"activate"],["outlet","outlet"],["tvqBackButton","",1,"mt-1","focus:outline-none"],["icon","chevron-left"],[1,"mt-1","focus:outline-none",3,"click"],["icon","refresh"]],template:function(t,r){if(1&t){const i=Te();g(0,"div",0),g(1,"div",1),g(2,"header",2),N(3,A4,2,0,"button",3),N(4,I4,2,0,"button",4),g(5,"h2",5),A(6,"TV Watchlist"),m(),g(7,"button",6),L("click",function(){return me(i),pn(11).openMenu()}),M(8,"tvq-svg-icon",7),m(),m(),M(9,"tvq-loader-bar",8),g(10,"tvq-navigation",9,10),L("action",function(o){return r.onNavClick(o)}),m(),g(12,"main",11),g(13,"router-outlet",12,13),L("activate",function(o){return r.onActivate(o)}),m(),m(),m(),M(15,"tvq-loader-screen"),m(),M(16,"tvq-toast")}if(2&t){const i=pn(14);D(3),w("ngIf",!r.isHome),D(1),w("ngIf",r.isHome),D(1),w("routerLink",sr(6,x4)),D(4),w("visible",r.showloaderBar),D(1),w("options",r.naigationList),D(2),w("@routeSliderStatePlusMinus",r.prepareRoute(i))}},directives:[Yt,UA,wn,gl,BA,jA,zc,$A,HA],styles:[""],data:{animation:[h4]}}),e})(),O4=(()=>{class e{constructor(){}ngOnInit(){}goHome(){document.location.href="/"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["tvq-page-not-found"]],decls:6,vars:0,consts:[[1,"standalone:pt-safe-top"],["src","assets/myTvQ.png",1,"mx-auto","my-4"],[1,"p-4","text-2xl","text-center","text-red-500"],[1,"text-xl","text-center","text-blue-500","underline","cursor-pointer",3,"click"]],template:function(t,r){1&t&&(g(0,"div",0),M(1,"img",1),g(2,"h1",2),A(3,"Page Not Found!"),m(),g(4,"h2",3),L("click",function(){return r.goHome()}),A(5,"Home"),m(),m())},encapsulation:2}),e})();function R4(e,n){if(1&e&&(g(0,"tr"),M(1,"td",5),g(2,"td",6),A(3),m(),m()),2&e){const t=n.$implicit;D(1),w("innerHTML",t.name,Fe),D(2),gn(t.count)}}function N4(e,n){if(1&e&&(g(0,"tr"),M(1,"td",5),M(2,"td",5),g(3,"td",6),A(4),m(),m()),2&e){const t=n.$implicit;D(1),w("innerHTML",t.episodeName,Fe),D(1),w("innerHTML",t.showName,Fe),D(2),gn(t.count)}}function k4(e,n){if(1&e&&(g(0,"tr"),M(1,"td",5),g(2,"td",6),A(3),m(),m()),2&e){const t=n.$implicit;D(1),w("innerHTML",t.name,Fe),D(2),gn(t.count)}}const F4=[{path:"",component:M4,data:{},children:[{path:"home",component:Wj,data:{reuseRoute:!0,index:0}},{path:"popular",component:d4,data:{index:1}},{path:"show-detail/:showId",component:b$,data:{index:2}},{path:"search",component:a4,data:{index:3}},{path:"setting",component:F$,data:{index:4}},{path:"analytics",component:(()=>{class e{constructor(t,r){this.http=t,this.commonSvc=r,this.episodeList=[],this.showList=[],this.searchList=[]}ngOnInit(){this.http.get("").subscribe(t=>{const r=t.rows.filter(f=>"SeenEpisode"===f[0]),i=t.rows.filter(f=>"SeenShow"===f[0]),s=[];for(const f of r)s.push({showName:f[1],episodeName:f[2],count:+f[3]});for(const f of i)s.push({showName:f[1],episodeName:f[2],count:+f[3]});const o={},a={};for(const f of s){o[f.showName]=f.count+(o[f.showName]||0);const p=`${f.showName}|${f.episodeName}`;a[p]=f.count+(a[p]||0)}let l=[];for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const p=o[f];p>1&&l.push({name:f,count:p})}this.commonSvc.sort(l,"-count");let u=[];for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const p=a[f];if(p>1){const[v,_]=f.split("|");u.push({showName:v,episodeName:_,count:p})}}this.commonSvc.sort(u,"-count");const c=t.rows.filter(f=>"Shows"===f[0]&&"Search"===f[1]),d=[];for(const f of c)d.push({name:f[2],count:f[3]});this.commonSvc.sort(d,"-count"),this.searchList=d,this.showList=l,this.episodeList=u})}}return e.\u0275fac=function(t){return new(t||e)(C(Bo),C(ed))},e.\u0275cmp=Me({type:e,selectors:[["tvq-analytics"]],decls:31,vars:3,consts:[[1,"mb-6","text-3xl","text-center"],[1,"mb-2","text-xl","text-center"],[1,"w-full","mb-4","border","border-collapse","table-auto","border-slate-500"],[1,"p-2","border","border-slate-600"],[4,"ngFor","ngForOf"],[1,"p-2","border","border-slate-400",3,"innerHTML"],[1,"p-2","border","border-slate-400"]],template:function(t,r){1&t&&(g(0,"h1",0),A(1,"Google Analytics Report for last 7 days"),m(),g(2,"h3",1),A(3,"Most Watched Shows"),m(),g(4,"table",2),g(5,"tr"),g(6,"th",3),A(7,"Show Name"),m(),g(8,"th",3),A(9,"Count"),m(),m(),N(10,R4,4,2,"tr",4),m(),g(11,"h3",1),A(12,"Most Watched Episode"),m(),g(13,"table",2),g(14,"tr"),g(15,"th",3),A(16,"Episode"),m(),g(17,"th",3),A(18,"Show Name"),m(),g(19,"th",3),A(20,"Count"),m(),m(),N(21,N4,5,3,"tr",4),m(),g(22,"h3",1),A(23,"Most Searched"),m(),g(24,"table",2),g(25,"tr"),g(26,"th",3),A(27,"Keyword"),m(),g(28,"th",3),A(29,"Count"),m(),m(),N(30,k4,4,2,"tr",4),m()),2&t&&(D(10),w("ngForOf",r.showList),D(11),w("ngForOf",r.episodeList),D(9),w("ngForOf",r.searchList))},directives:[vi],encapsulation:2}),e})(),data:{index:5}},{path:"about",component:n4,data:{index:5}},{path:"",pathMatch:"full",redirectTo:"/home"}]},{path:"dropbox-redirect",component:f4},{path:"privacy-policy",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["tvq-privacy-policy"]],decls:39,vars:0,consts:[[1,"prose"],["href","https://developer.chrome.com/docs/webstore/user_data/"]],template:function(t,r){1&t&&(g(0,"div",0),g(1,"h1"),A(2,"Privacy Policy"),m(),g(3,"p"),A(4," Based on the definitions in "),g(5,"a",1),A(6,"https://developer.chrome.com/docs/webstore/user_data/"),m(),m(),g(7,"ul"),g(8,"li"),A(9," TV WatchList is a serverless and static javascript web app or browser extension. Source code is open source and saved in github. "),m(),g(10,"li"),A(11," TV WatchList does not handle User's personal or sensitive information. "),m(),g(12,"li"),A(13," TV WatchList uses optional secure Dropbox service to sync apps data. Developer is not tracking dropbox data. "),m(),g(14,"li"),A(15," TV WatchList uses secure google analytics service to track popular page and settings. "),m(),g(16,"li"),A(17," TV WatchList uses secure google analytics service to track Search, Shows and Episodes marked seen for popularity metrics. This data is not shared with anyone else. Plan is to make the data public and share it in app for everyone. "),m(),g(18,"li"),A(19," TV WatchList uses embedded facebook page to show developer's announcement. "),m(),g(20,"li"),A(21," TV WatchList extension uses Notification permission to alert current upcoming new shows. "),m(),g(22,"li"),A(23," TV WatchList extension uses Storage permission to save users favorite shows and episodes offline to reduce online bandwidth. "),m(),g(24,"li"),A(25," TV WatchList extension uses alarm permission for fetching new episodes periodically based on user settings "),m(),g(26,"li"),A(27," TV WatchList extension uses CLipboard permission for backup and restore, user can copy paste json data to load indexedDb. It's a temp permission "),m(),g(28,"li"),A(29," TV WatchList extension uses following Host permission "),g(30,"ul"),g(31,"li"),A(32,"http://*.thetvdb.com/*"),m(),g(33,"li"),A(34,"https://*.dropbox.com/*"),m(),g(35,"li"),A(36,"https://content.dropboxapi.com/*"),m(),g(37,"li"),A(38,"http://*.tvmaze.com/*"),m(),m(),m(),m(),m())},encapsulation:2}),e})()},{path:"**",component:O4}];let P4=(()=>{class e{constructor(t,r){window}}return e.\u0275fac=function(t){return new(t||e)(F(bt),F(kw))},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({imports:[[Ag.forRoot(F4,{scrollPositionRestoration:"enabled"})],Ag]}),e})(),L4=(()=>{class e{static forRoot(){return{ngModule:e,providers:[vs,ms,Oo]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=Ct({imports:[[Ow,AA,Ag]]}),e})(),V4=(()=>{class e{ngOnInit(){console.log("The Root Component")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Me({type:e,selectors:[["tvq-root"]],decls:1,vars:0,template:function(t,r){1&t&&M(0,"router-outlet")},directives:[zc],encapsulation:2,changeDetection:0}),e})(),U4=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mt({type:e,bootstrap:[V4]}),e.\u0275inj=Ct({providers:[Oo,[{provide:$g,useClass:C$,multi:!0}],{provide:Xi,useClass:p4}],imports:[[Gw,lL,L3,AA,P4,WB,X$.register("ngsw-worker.js",{enabled:true}),L4.forRoot()]]}),e})();Lt(386),function kF(){if(Jb)throw new Error("Cannot enable prod mode after platform setup.");Zb=!1}(),K2().bootstrapModule(U4).catch(e=>console.error(e))},386:(At,yt,Lt)=>{var pe;!function(vt,Ds,qo,Ae){"use strict";var Jt,Go=["","webkit","Moz","MS","ms","o"],Rl=Ds.createElement("div"),Zt=Math.round,Cn=Math.abs,Cs=Date.now;function dr(h,y,b){return setTimeout(ki(h,b),y)}function Qr(h,y,b){return!!Array.isArray(h)&&(jn(h,b[y],b),!0)}function jn(h,y,b){var I;if(h)if(h.forEach)h.forEach(y,b);else if(h.length!==Ae)for(I=0;I<h.length;)y.call(b,h[I],I,h),I++;else for(I in h)h.hasOwnProperty(I)&&y.call(b,h[I],I,h)}function kl(h,y,b){var I="DEPRECATED METHOD: "+y+"\n"+b+" AT \n";return function(){var k=new Error("get-stack-trace"),H=k&&k.stack?k.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",he=vt.console&&(vt.console.warn||vt.console.log);return he&&he.call(vt.console,I,H),h.apply(this,arguments)}}Jt="function"!=typeof Object.assign?function(y){if(y===Ae||null===y)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(y),I=1;I<arguments.length;I++){var k=arguments[I];if(k!==Ae&&null!==k)for(var H in k)k.hasOwnProperty(H)&&(b[H]=k[H])}return b}:Object.assign;var fr=kl(function(y,b,I){for(var k=Object.keys(b),H=0;H<k.length;)(!I||I&&y[k[H]]===Ae)&&(y[k[H]]=b[k[H]]),H++;return y},"extend","Use `assign`."),Es=kl(function(y,b){return fr(y,b,!0)},"merge","Use `assign`.");function Vt(h,y,b){var k,I=y.prototype;(k=h.prototype=Object.create(I)).constructor=h,k._super=I,b&&Jt(k,b)}function ki(h,y){return function(){return h.apply(y,arguments)}}function Xr(h,y){return"function"==typeof h?h.apply(y&&y[0]||Ae,y):h}function Ss(h,y){return h===Ae?y:h}function Fi(h,y,b){jn(En(y),function(I){h.addEventListener(I,b,!1)})}function Zr(h,y,b){jn(En(y),function(I){h.removeEventListener(I,b,!1)})}function Fl(h,y){for(;h;){if(h==y)return!0;h=h.parentNode}return!1}function $n(h,y){return h.indexOf(y)>-1}function En(h){return h.trim().split(/\s+/g)}function Pi(h,y,b){if(h.indexOf&&!b)return h.indexOf(y);for(var I=0;I<h.length;){if(b&&h[I][b]==y||!b&&h[I]===y)return I;I++}return-1}function Li(h){return Array.prototype.slice.call(h,0)}function Ce(h,y,b){for(var I=[],k=[],H=0;H<h.length;){var he=y?h[H][y]:h[H];Pi(k,he)<0&&I.push(h[H]),k[H]=he,H++}return b&&(I=y?I.sort(function(Se,ae){return Se[y]>ae[y]}):I.sort()),I}function Vi(h,y){for(var b,I,k=y[0].toUpperCase()+y.slice(1),H=0;H<Go.length;){if((I=(b=Go[H])?b+k:y)in h)return I;H++}return Ae}var _d=1;function Pl(h){var y=h.ownerDocument||h;return y.defaultView||y.parentWindow||vt}var Wo="ontouchstart"in vt,Ll=Vi(vt,"PointerEvent")!==Ae,Ze=Wo&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ue="touch",Ui="mouse",Dd=["x","y"],Tn=["clientX","clientY"];function en(h,y){var b=this;this.manager=h,this.callback=y,this.element=h.element,this.target=h.options.inputTarget,this.domHandler=function(I){Xr(h.options.enable,[h])&&b.handler(I)},this.init()}function Cd(h,y,b){var I=b.pointers.length,k=b.changedPointers.length,H=1&y&&I-k==0,he=12&y&&I-k==0;b.isFirst=!!H,b.isFinal=!!he,H&&(h.session={}),b.eventType=y,function Em(h,y){var b=h.session,I=y.pointers,k=I.length;b.firstInput||(b.firstInput=Sd(y)),k>1&&!b.firstMultiple?b.firstMultiple=Sd(y):1===k&&(b.firstMultiple=!1);var H=b.firstInput,he=b.firstMultiple,ct=he?he.center:H.center,Se=y.center=Td(I);y.timeStamp=Cs(),y.deltaTime=y.timeStamp-H.timeStamp,y.angle=Ms(ct,Se),y.distance=Bi(ct,Se),function Ed(h,y){var b=y.center,I=h.offsetDelta||{},k=h.prevDelta||{},H=h.prevInput||{};(1===y.eventType||4===H.eventType)&&(k=h.prevDelta={x:H.deltaX||0,y:H.deltaY||0},I=h.offsetDelta={x:b.x,y:b.y}),y.deltaX=k.x+(b.x-I.x),y.deltaY=k.y+(b.y-I.y)}(b,y),y.offsetDirection=xs(y.deltaX,y.deltaY);var ae=Ad(y.deltaTime,y.deltaX,y.deltaY);y.overallVelocityX=ae.x,y.overallVelocityY=ae.y,y.overallVelocity=Cn(ae.x)>Cn(ae.y)?ae.x:ae.y,y.scale=he?function Bl(h,y){return Bi(y[0],y[1],Tn)/Bi(h[0],h[1],Tn)}(he.pointers,I):1,y.rotation=he?function Ul(h,y){return Ms(y[1],y[0],Tn)+Ms(h[1],h[0],Tn)}(he.pointers,I):0,y.maxPointers=b.prevInput?y.pointers.length>b.prevInput.maxPointers?y.pointers.length:b.prevInput.maxPointers:y.pointers.length,function Sm(h,y){var k,H,he,ct,b=h.lastInterval||y,I=y.timeStamp-b.timeStamp;if(8!=y.eventType&&(I>25||b.velocity===Ae)){var Se=y.deltaX-b.deltaX,ae=y.deltaY-b.deltaY,Wn=Ad(I,Se,ae);H=Wn.x,he=Wn.y,k=Cn(Wn.x)>Cn(Wn.y)?Wn.x:Wn.y,ct=xs(Se,ae),h.lastInterval=y}else k=b.velocity,H=b.velocityX,he=b.velocityY,ct=b.direction;y.velocity=k,y.velocityX=H,y.velocityY=he,y.direction=ct}(b,y);var Wn=h.element;Fl(y.srcEvent.target,Wn)&&(Wn=y.srcEvent.target),y.target=Wn}(h,b),h.emit("hammer.input",b),h.recognize(b),h.session.prevInput=b}function Sd(h){for(var y=[],b=0;b<h.pointers.length;)y[b]={clientX:Zt(h.pointers[b].clientX),clientY:Zt(h.pointers[b].clientY)},b++;return{timeStamp:Cs(),pointers:y,center:Td(y),deltaX:h.deltaX,deltaY:h.deltaY}}function Td(h){var y=h.length;if(1===y)return{x:Zt(h[0].clientX),y:Zt(h[0].clientY)};for(var b=0,I=0,k=0;k<y;)b+=h[k].clientX,I+=h[k].clientY,k++;return{x:Zt(b/y),y:Zt(I/y)}}function Ad(h,y,b){return{x:y/h||0,y:b/h||0}}function xs(h,y){return h===y?1:Cn(h)>=Cn(y)?h<0?2:4:y<0?8:16}function Bi(h,y,b){b||(b=Dd);var I=y[b[0]]-h[b[0]],k=y[b[1]]-h[b[1]];return Math.sqrt(I*I+k*k)}function Ms(h,y,b){return b||(b=Dd),180*Math.atan2(y[b[1]]-h[b[1]],y[b[0]]-h[b[0]])/Math.PI}en.prototype={handler:function(){},init:function(){this.evEl&&Fi(this.element,this.evEl,this.domHandler),this.evTarget&&Fi(this.target,this.evTarget,this.domHandler),this.evWin&&Fi(Pl(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Zr(this.element,this.evEl,this.domHandler),this.evTarget&&Zr(this.target,this.evTarget,this.domHandler),this.evWin&&Zr(Pl(this.element),this.evWin,this.domHandler)}};var Id={mousedown:1,mousemove:2,mouseup:4},jl="mousedown",$l="mousemove mouseup";function ji(){this.evEl=jl,this.evWin=$l,this.pressed=!1,en.apply(this,arguments)}Vt(ji,en,{handler:function(y){var b=Id[y.type];1&b&&0===y.button&&(this.pressed=!0),2&b&&1!==y.which&&(b=4),this.pressed&&(4&b&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[y],changedPointers:[y],pointerType:Ui,srcEvent:y}))}});var Hl={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},an={2:Ue,3:"pen",4:Ui,5:"kinect"},zl="pointerdown",ql="pointermove pointerup pointercancel";function Ko(){this.evEl=zl,this.evWin=ql,en.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}vt.MSPointerEvent&&!vt.PointerEvent&&(zl="MSPointerDown",ql="MSPointerMove MSPointerUp MSPointerCancel"),Vt(Ko,en,{handler:function(y){var b=this.store,I=!1,k=y.type.toLowerCase().replace("ms",""),H=Hl[k],he=an[y.pointerType]||y.pointerType,ct=he==Ue,Se=Pi(b,y.pointerId,"pointerId");1&H&&(0===y.button||ct)?Se<0&&(b.push(y),Se=b.length-1):12&H&&(I=!0),!(Se<0)&&(b[Se]=y,this.callback(this.manager,H,{pointers:b,changedPointers:[y],pointerType:he,srcEvent:y}),I&&b.splice(Se,1))}});var xd={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Gl="touchstart",Md="touchstart touchmove touchend touchcancel";function Wl(){this.evTarget=Gl,this.evWin=Md,this.started=!1,en.apply(this,arguments)}function Hn(h,y){var b=Li(h.touches),I=Li(h.changedTouches);return 12&y&&(b=Ce(b.concat(I),"identifier",!0)),[b,I]}Vt(Wl,en,{handler:function(y){var b=xd[y.type];if(1===b&&(this.started=!0),this.started){var I=Hn.call(this,y,b);12&b&&I[0].length-I[1].length==0&&(this.started=!1),this.callback(this.manager,b,{pointers:I[0],changedPointers:I[1],pointerType:Ue,srcEvent:y})}}});var Od={touchstart:1,touchmove:2,touchend:4,touchcancel:8},We="touchstart touchmove touchend touchcancel";function hr(){this.evTarget=We,this.targetIds={},en.apply(this,arguments)}function zn(h,y){var b=Li(h.touches),I=this.targetIds;if(3&y&&1===b.length)return I[b[0].identifier]=!0,[b,b];var k,H,he=Li(h.changedTouches),ct=[],Se=this.target;if(H=b.filter(function(ae){return Fl(ae.target,Se)}),1===y)for(k=0;k<H.length;)I[H[k].identifier]=!0,k++;for(k=0;k<he.length;)I[he[k].identifier]&&ct.push(he[k]),12&y&&delete I[he[k].identifier],k++;return ct.length?[Ce(H.concat(ct),"identifier",!0),ct]:void 0}function Os(){en.apply(this,arguments);var h=ki(this.handler,this);this.touch=new hr(this.manager,h),this.mouse=new ji(this.manager,h),this.primaryTouch=null,this.lastTouches=[]}function Yo(h,y){1&h?(this.primaryTouch=y.changedPointers[0].identifier,Qo.call(this,y)):12&h&&Qo.call(this,y)}function Qo(h){var y=h.changedPointers[0];if(y.identifier===this.primaryTouch){var b={x:y.clientX,y:y.clientY};this.lastTouches.push(b);var I=this.lastTouches;setTimeout(function(){var H=I.indexOf(b);H>-1&&I.splice(H,1)},2500)}}function $i(h){for(var y=h.srcEvent.clientX,b=h.srcEvent.clientY,I=0;I<this.lastTouches.length;I++){var k=this.lastTouches[I],H=Math.abs(y-k.x),he=Math.abs(b-k.y);if(H<=25&&he<=25)return!0}return!1}Vt(hr,en,{handler:function(y){var b=Od[y.type],I=zn.call(this,y,b);!I||this.callback(this.manager,b,{pointers:I[0],changedPointers:I[1],pointerType:Ue,srcEvent:y})}}),Vt(Os,en,{handler:function(y,b,I){var H=I.pointerType==Ui;if(!(H&&I.sourceCapabilities&&I.sourceCapabilities.firesTouchEvents)){if(I.pointerType==Ue)Yo.call(this,b,I);else if(H&&$i.call(this,I))return;this.callback(y,b,I)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Yl=Vi(Rl.style,"touchAction"),Xo=Yl!==Ae,Zo="compute",Jo="manipulation",Rr="none",Hi="pan-x",ri="pan-y",Rs=function ta(){if(!Xo)return!1;var h={},y=vt.CSS&&vt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(b){h[b]=!y||vt.CSS.supports("touch-action",b)}),h}();function ea(h,y){this.manager=h,this.set(y)}function qn(h){this.options=Jt({},this.defaults,h||{}),this.id=function bd(){return _d++}(),this.manager=null,this.options.enable=Ss(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Ie(h){return 16&h?"cancel":8&h?"end":4&h?"move":2&h?"start":""}function ne(h){return 16==h?"down":8==h?"up":2==h?"left":4==h?"right":""}function zi(h,y){var b=y.manager;return b?b.get(h):h}function An(){qn.apply(this,arguments)}function fe(){An.apply(this,arguments),this.pX=null,this.pY=null}function qi(){An.apply(this,arguments)}function Z(){qn.apply(this,arguments),this._timer=null,this._input=null}function ut(){An.apply(this,arguments)}function na(){An.apply(this,arguments)}function ra(){qn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ii(h,y){return(y=y||{}).recognizers=Ss(y.recognizers,ii.defaults.preset),new Xl(h,y)}function Xl(h,y){this.options=Jt({},ii.defaults,y||{}),this.options.inputTarget=this.options.inputTarget||h,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=h,this.input=function Cm(h){return new(h.options.inputClass||(Ll?Ko:Ze?hr:Wo?Os:ji))(h,Cd)}(this),this.touchAction=new ea(this,this.options.touchAction),Zl(this,!0),jn(this.options.recognizers,function(b){var I=this.add(new b[0](b[1]));b[2]&&I.recognizeWith(b[2]),b[3]&&I.requireFailure(b[3])},this)}function Zl(h,y){var I,b=h.element;b.style&&(jn(h.options.cssProps,function(k,H){I=Vi(b.style,H),y?(h.oldCssProps[I]=b.style[I],b.style[I]=k):b.style[I]=h.oldCssProps[I]||""}),y||(h.oldCssProps={}))}ea.prototype={set:function(h){h==Zo&&(h=this.compute()),Xo&&this.manager.element.style&&Rs[h]&&(this.manager.element.style[Yl]=h),this.actions=h.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var h=[];return jn(this.manager.recognizers,function(y){Xr(y.options.enable,[y])&&(h=h.concat(y.getTouchAction()))}),function et(h){if($n(h,Rr))return Rr;var y=$n(h,Hi),b=$n(h,ri);return y&&b?Rr:y||b?y?Hi:ri:$n(h,Jo)?Jo:"auto"}(h.join(" "))},preventDefaults:function(h){var y=h.srcEvent,b=h.offsetDirection;if(!this.manager.session.prevented){var I=this.actions,k=$n(I,Rr)&&!Rs[Rr],H=$n(I,ri)&&!Rs[ri],he=$n(I,Hi)&&!Rs[Hi];if(k&&1===h.pointers.length&&h.distance<2&&h.deltaTime<250)return;return he&&H||!(k||H&&6&b||he&&24&b)?void 0:this.preventSrc(y)}y.preventDefault()},preventSrc:function(h){this.manager.session.prevented=!0,h.preventDefault()}},qn.prototype={defaults:{},set:function(h){return Jt(this.options,h),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(h){if(Qr(h,"recognizeWith",this))return this;var y=this.simultaneous;return y[(h=zi(h,this)).id]||(y[h.id]=h,h.recognizeWith(this)),this},dropRecognizeWith:function(h){return Qr(h,"dropRecognizeWith",this)||(h=zi(h,this),delete this.simultaneous[h.id]),this},requireFailure:function(h){if(Qr(h,"requireFailure",this))return this;var y=this.requireFail;return-1===Pi(y,h=zi(h,this))&&(y.push(h),h.requireFailure(this)),this},dropRequireFailure:function(h){if(Qr(h,"dropRequireFailure",this))return this;h=zi(h,this);var y=Pi(this.requireFail,h);return y>-1&&this.requireFail.splice(y,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(h){return!!this.simultaneous[h.id]},emit:function(h){var y=this,b=this.state;function I(k){y.manager.emit(k,h)}b<8&&I(y.options.event+Ie(b)),I(y.options.event),h.additionalEvent&&I(h.additionalEvent),b>=8&&I(y.options.event+Ie(b))},tryEmit:function(h){if(this.canEmit())return this.emit(h);this.state=32},canEmit:function(){for(var h=0;h<this.requireFail.length;){if(!(33&this.requireFail[h].state))return!1;h++}return!0},recognize:function(h){var y=Jt({},h);if(!Xr(this.options.enable,[this,y]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(y),30&this.state&&this.tryEmit(y)},process:function(h){},getTouchAction:function(){},reset:function(){}},Vt(An,qn,{defaults:{pointers:1},attrTest:function(h){var y=this.options.pointers;return 0===y||h.pointers.length===y},process:function(h){var y=this.state,b=h.eventType,I=6&y,k=this.attrTest(h);return I&&(8&b||!k)?16|y:I||k?4&b?8|y:2&y?4|y:2:32}}),Vt(fe,An,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var h=this.options.direction,y=[];return 6&h&&y.push(ri),24&h&&y.push(Hi),y},directionTest:function(h){var y=this.options,b=!0,I=h.distance,k=h.direction,H=h.deltaX,he=h.deltaY;return k&y.direction||(6&y.direction?(k=0===H?1:H<0?2:4,b=H!=this.pX,I=Math.abs(h.deltaX)):(k=0===he?1:he<0?8:16,b=he!=this.pY,I=Math.abs(h.deltaY))),h.direction=k,b&&I>y.threshold&&k&y.direction},attrTest:function(h){return An.prototype.attrTest.call(this,h)&&(2&this.state||!(2&this.state)&&this.directionTest(h))},emit:function(h){this.pX=h.deltaX,this.pY=h.deltaY;var y=ne(h.direction);y&&(h.additionalEvent=this.options.event+y),this._super.emit.call(this,h)}}),Vt(qi,An,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Rr]},attrTest:function(h){return this._super.attrTest.call(this,h)&&(Math.abs(h.scale-1)>this.options.threshold||2&this.state)},emit:function(h){1!==h.scale&&(h.additionalEvent=this.options.event+(h.scale<1?"in":"out")),this._super.emit.call(this,h)}}),Vt(Z,qn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(h){var y=this.options,b=h.pointers.length===y.pointers,I=h.distance<y.threshold,k=h.deltaTime>y.time;if(this._input=h,!I||!b||12&h.eventType&&!k)this.reset();else if(1&h.eventType)this.reset(),this._timer=dr(function(){this.state=8,this.tryEmit()},y.time,this);else if(4&h.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(h){8===this.state&&(h&&4&h.eventType?this.manager.emit(this.options.event+"up",h):(this._input.timeStamp=Cs(),this.manager.emit(this.options.event,this._input)))}}),Vt(ut,An,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Rr]},attrTest:function(h){return this._super.attrTest.call(this,h)&&(Math.abs(h.rotation)>this.options.threshold||2&this.state)}}),Vt(na,An,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return fe.prototype.getTouchAction.call(this)},attrTest:function(h){var b,y=this.options.direction;return 30&y?b=h.overallVelocity:6&y?b=h.overallVelocityX:24&y&&(b=h.overallVelocityY),this._super.attrTest.call(this,h)&&y&h.offsetDirection&&h.distance>this.options.threshold&&h.maxPointers==this.options.pointers&&Cn(b)>this.options.velocity&&4&h.eventType},emit:function(h){var y=ne(h.offsetDirection);y&&this.manager.emit(this.options.event+y,h),this.manager.emit(this.options.event,h)}}),Vt(ra,qn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Jo]},process:function(h){var y=this.options,b=h.pointers.length===y.pointers,I=h.distance<y.threshold,k=h.deltaTime<y.time;if(this.reset(),1&h.eventType&&0===this.count)return this.failTimeout();if(I&&k&&b){if(4!=h.eventType)return this.failTimeout();var H=!this.pTime||h.timeStamp-this.pTime<y.interval,he=!this.pCenter||Bi(this.pCenter,h.center)<y.posThreshold;if(this.pTime=h.timeStamp,this.pCenter=h.center,he&&H?this.count+=1:this.count=1,this._input=h,0==this.count%y.taps)return this.hasRequireFailures()?(this._timer=dr(function(){this.state=8,this.tryEmit()},y.interval,this),2):8}return 32},failTimeout:function(){return this._timer=dr(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ii.VERSION="2.0.7",ii.defaults={domEvents:!1,touchAction:Zo,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[qi,{enable:!1},["rotate"]],[na,{direction:6}],[fe,{direction:6},["swipe"]],[ra],[ra,{event:"doubletap",taps:2},["tap"]],[Z]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xl.prototype={set:function(h){return Jt(this.options,h),h.touchAction&&this.touchAction.update(),h.inputTarget&&(this.input.destroy(),this.input.target=h.inputTarget,this.input.init()),this},stop:function(h){this.session.stopped=h?2:1},recognize:function(h){var y=this.session;if(!y.stopped){this.touchAction.preventDefaults(h);var b,I=this.recognizers,k=y.curRecognizer;(!k||k&&8&k.state)&&(k=y.curRecognizer=null);for(var H=0;H<I.length;)b=I[H],2===y.stopped||k&&b!=k&&!b.canRecognizeWith(k)?b.reset():b.recognize(h),!k&&14&b.state&&(k=y.curRecognizer=b),H++}},get:function(h){if(h instanceof qn)return h;for(var y=this.recognizers,b=0;b<y.length;b++)if(y[b].options.event==h)return y[b];return null},add:function(h){if(Qr(h,"add",this))return this;var y=this.get(h.options.event);return y&&this.remove(y),this.recognizers.push(h),h.manager=this,this.touchAction.update(),h},remove:function(h){if(Qr(h,"remove",this))return this;if(h=this.get(h)){var y=this.recognizers,b=Pi(y,h);-1!==b&&(y.splice(b,1),this.touchAction.update())}return this},on:function(h,y){if(h!==Ae&&y!==Ae){var b=this.handlers;return jn(En(h),function(I){b[I]=b[I]||[],b[I].push(y)}),this}},off:function(h,y){if(h!==Ae){var b=this.handlers;return jn(En(h),function(I){y?b[I]&&b[I].splice(Pi(b[I],y),1):delete b[I]}),this}},emit:function(h,y){this.options.domEvents&&function Am(h,y){var b=Ds.createEvent("Event");b.initEvent(h,!0,!0),b.gesture=y,y.target.dispatchEvent(b)}(h,y);var b=this.handlers[h]&&this.handlers[h].slice();if(b&&b.length){y.type=h,y.preventDefault=function(){y.srcEvent.preventDefault()};for(var I=0;I<b.length;)b[I](y),I++}},destroy:function(){this.element&&Zl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Jt(ii,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Xl,Input:en,TouchAction:ea,TouchInput:hr,MouseInput:ji,PointerEventInput:Ko,TouchMouseInput:Os,SingleTouchInput:Wl,Recognizer:qn,AttrRecognizer:An,Tap:ra,Pan:fe,Swipe:na,Pinch:qi,Rotate:ut,Press:Z,on:Fi,off:Zr,each:jn,merge:Es,extend:fr,assign:Jt,inherit:Vt,bindFn:ki,prefixed:Vi}),(void 0!==vt?vt:"undefined"!=typeof self?self:{}).Hammer=ii,(pe=function(){return ii}.call(yt,Lt,yt,At))!==Ae&&(At.exports=pe)}(window,document)}},At=>{At(At.s=648)}]);